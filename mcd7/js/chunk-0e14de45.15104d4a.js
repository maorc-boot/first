(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e14de45"],{"04534":function(e,t,a){},"1c08":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"avoid-bother-customer-wrap fe-m-24 fe-p-24 bg"},[t("div",{staticClass:"search_box"},[t("el-input",{directives:[{name:"clear-emoij",rawName:"v-clear-emoij"}],staticClass:"input-search",attrs:{placeholder:"请输入枚举值类型/枚举值查询"},model:{value:e.queryFrom.keyWords,callback:function(t){e.$set(e.queryFrom,"keyWords","string"===typeof t?t.trim():t)},expression:"queryFrom.keyWords"}},[t("i",{staticClass:"el-input__icon el-icon-search cursor-pointer",attrs:{slot:"suffix"},on:{click:function(t){return e.queryListByKeyword()}},slot:"suffix"})]),t("div",{staticClass:"btn_box"},[t("el-button",{attrs:{type:"success"},on:{click:e.enumerationAdd}},[e._v("新建")]),t("el-button",{attrs:{type:"primary"},on:{click:e.freshEnumType}},[e._v("刷新")])],1)],1),t("div",{staticClass:"list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"span-method":e.objectSpanMethod}},[t("el-table-column",{attrs:{prop:"enumType",label:"枚举值类型","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"enumKey",label:"枚举key","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"enumValue",label:"枚举值","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"enumOrder",label:"排序","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-link",{staticClass:"text-sm mr-16",attrs:{type:"primary",underline:!1},on:{click:function(t){return e.editHanlder(a.row,a.$index)}}},[e._v("编辑 ")]),t("el-popconfirm",{attrs:{placement:"top",icon:"el-icon-warning",iconColor:"#FAAD14",title:"确定删除？","cancel-button-type":"Primary"},on:{confirm:function(t){return e.deleteHanlder(a.row,a.$index)}}},[t("el-link",{staticClass:"cursor-pointer text-sm",attrs:{slot:"reference",type:"danger",underline:!1},slot:"reference"},[e._v(" 删除")])],1)]}}])})],1)],1),t("div",{staticClass:"pager"},[t("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageData.pageSizeList,"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e.dialogVisible?t("enumeration-dialog",{attrs:{dialogVisible:e.dialogVisible,dialogTitle:e.dialogTitle,operationType:e.operationType,rowData:e.rowData},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t},getEnumerationListData:e.getEnumerationListData}}):e._e()],1)},o=[],n=(a("14d9"),a("0fea")),r=a("a454"),s=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.closeHandler,width:"400px","append-to-body":""}},[t("div",{staticClass:"Contact-mtp"},[t("el-form",{ref:"enumerationFrom",attrs:{model:e.formData,"label-width":"100px",rules:e.rules,disabled:"look"==this.operationType}},[t("el-form-item",{attrs:{label:"枚举值类型",prop:"enumType"}},[t("el-input",{model:{value:e.formData.enumType,callback:function(t){e.$set(e.formData,"enumType",t)},expression:"formData.enumType"}})],1),t("el-form-item",{attrs:{label:"枚举key",prop:"enumKey"}},[t("el-input",{model:{value:e.formData.enumKey,callback:function(t){e.$set(e.formData,"enumKey",t)},expression:"formData.enumKey"}})],1),t("el-form-item",{attrs:{label:"枚举值",prop:"enumValue"}},[t("el-input",{model:{value:e.formData.enumValue,callback:function(t){e.$set(e.formData,"enumValue",t)},expression:"formData.enumValue"}})],1),t("el-form-item",{attrs:{label:"排序"}},[t("el-input-number",{attrs:{min:0},model:{value:e.formData.enumOrder,callback:function(t){e.$set(e.formData,"enumOrder",t)},expression:"formData.enumOrder"}})],1)],1)],1),"look"!=this.operationType?t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeHandler}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保 存")])],1):e._e()])],1)},l=[],u=a("f9ae"),m={name:"EnumerationDialog",props:{dialogTitle:{type:String},dialogVisible:{type:Boolean,default:!1},operationType:{type:String,default:()=>"add"},rowData:{type:Object}},data(){return{formData:{},rules:{enumType:[{required:!0,message:"请输入枚举值类型",trigger:"blur"}],enumKey:[{required:!0,message:"请输入枚举key",trigger:"blur"}],enumValue:[{required:!0,message:"请输入枚举值",trigger:"blur"}]}}},methods:{closeHandler(){this.$emit("update:dialogVisible",!1)},getEnumerationInfo(){Object(n["i"])(r["a"].enumeration.lookEnumerationInfo,{id:this.rowData.enumId}).then(e=>{this.formData=e})},async addEnumerationInfo(){this.$refs["enumerationFrom"].validate(async e=>{e?await Object(n["i"])(r["a"].enumeration.addEnumerationInfo,this.formData).then(e=>{this.$message.success("新增成功"),this.$emit("getEnumerationListData"),this.closeHandler()}):this.$alert("请填写必填项","校验失败",{confirmButtonText:"确定",customClass:"errorPrompt"})})},async editEnumerationInfo(){this.$refs["enumerationFrom"].validate(async e=>{e?(this.formData.enumId=this.rowData.enumId,await Object(n["i"])(r["a"].enumeration.editEnumerationInfo,this.formData).then(e=>{this.$message.success("编辑成功"),this.$emit("getEnumerationListData"),this.closeHandler()})):this.$alert("请填写必填项","校验失败",{confirmButtonText:"确定",customClass:"errorPrompt"})})},submit:Object(u["a"])((function(){"add"===this.operationType?this.addEnumerationInfo():this.editEnumerationInfo()}))},created(){"add"!==this.operationType&&this.getEnumerationInfo()}},c=m,d=(a("54cb"),a("2877")),p=Object(d["a"])(c,s,l,!1,null,"bd86b198",null),h=p.exports,g={name:"EnumerationManage",components:{EnumerationDialog:h},data(){return{operationType:"add",dialogVisible:!1,rowData:{},queryFrom:{keyWords:""},pageData:{currentPage:1,pageSize:10,pageSizeList:[10,20,30,40],total:0},loading:!1,dialogTitle:"",windowTitle:"",tableData:[]}},methods:{initializationFrom(){this.pageData.current=1},flitterData(e){let t=[],a=0;return e.forEach((i,o)=>{0===o?t.push(1):i.enumType===e[o-1].enumType?(t[a]+=1,t.push(0)):(t.push(1),a=o)}),{one:t}},objectSpanMethod({row:e,column:t,rowIndex:a,columnIndex:i}){if(0===i){const e=this.flitterData(this.tableData).one[a],t=e>0?1:0;return{rowspan:e,colspan:t}}return""},async freshEnumType(){await Object(n["i"])(r["a"].enumeration.freshEnumType).then(e=>{this.$message.success(e.message)})},async getEnumerationListData(){this.loading=!0,await Object(n["i"])(r["a"].enumeration.getEnumerationList,{keyWords:this.queryFrom.keyWords,current:this.pageData.currentPage,size:this.pageData.pageSize}).then(e=>{this.tableData=e.records,this.pageData.total=e.total,this.loading=!1,this.initializationFrom()})},queryApproveInfo(){this.getEnumerationListData()},queryListByKeyword(){this.pageData.currentPage=1,this.queryApproveInfo()},enumerationAdd(){this.dialogVisible=!0,this.dialogTitle="添加枚举值",this.operationType="add"},editHanlder(e){this.dialogVisible=!0,this.dialogTitle="编辑枚举值",this.operationType="edit",this.rowData=e},deleteHanlder(e){Object(n["i"])(r["a"].enumeration.deleteEnumerationList,{id:e.enumId}).then(e=>{this.$message({type:"success",message:e.message}),this.getUserListData()})},handleSizeChange(e){this.pageData.pageSize=e,this.queryApproveInfo()},handleCurrentChange(e){this.pageData.currentPage=e,this.queryApproveInfo()}},created(){this.getEnumerationListData()},mounted(){}},f=g,b=Object(d["a"])(f,i,o,!1,null,"d902b7c0",null);t["default"]=b.exports},"54cb":function(e,t,a){"use strict";a("04534")}}]);