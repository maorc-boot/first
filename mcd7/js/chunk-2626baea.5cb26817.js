(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2626baea","chunk-4b92d70a","chunk-15a5ac08","chunk-731d155e"],{"08cc":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mailTable-layer",class:e.showByRow?"fs12":""},[t("div",{staticClass:"mailTable",style:e.styleObject},e._l(e.rowCount,(function(s,i){return t("el-row",{key:i},[e.isAarray(s)?t("el-row",{staticClass:"ArrayMailTable"},e._l(s,(function(s,i){return t("el-col",{key:i,staticClass:"ArrayMailTable-row",attrs:{span:12}},[t("el-col",{staticClass:"key",attrs:{span:8}},[e._v(e._s(s.key))]),t("el-col",{staticClass:"value",attrs:{span:16}},[e._v(e._s(e.DetailsFrom[s.value]))])],1)})),1):t("el-row",[t("el-col",{staticClass:"ArrayMailTable",attrs:{span:24}},[t("el-col",{staticClass:"key",attrs:{span:4}},[e._v(e._s(s.key))]),t("el-col",{staticClass:"value1",attrs:{span:20}},[e._v(e._s(e.DetailsFrom[s.value]))])],1)],1)],1)})),1)])},a=[],n=(s("14d9"),{data(){return{styleObject:{},s_showByRow:!0}},props:["tableData","tableStyle","showByRow","DetailsFrom"],computed:{isAarray:function(){return e=>Array.isArray(e)},rowCount:function(){let e=[],t=[...this.tableData];for(let s=0;s<t.length;s++){let i=[];t[s].iscolspan||(i.push(t[s]),s+1<t.length&&!t[s+1].iscolspan&&(i.push(t[s+1]),s++)),0!==i.length?(i.length<2&&i.push([]),e.push(i)):e.push(t[s])}return e}},created(){this.styleObject=this.tableStyle,void 0!==this.showByRow&&(this.s_showByRow=this.showByRow)}}),l=n,c=(s("5976"),s("2877")),o=Object(c["a"])(l,i,a,!1,null,"2becbdfc",null);t["a"]=o.exports},"09c9":function(e,t){e.exports="data:image/png;base64,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"},1173:function(e,t,s){},1199:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAytJREFUeF7tm/FVwyAQxo9JtJNoJ9FukA3UDbKBOok6iToJ+j1K0yYQ7kJySRryXv8LkPvdwX0c1NDGH7Nx+6kAKBGwcQLzToHKPhLRHRF9EdEn1eZH2x/zAKjsLRF9B4zdU20+NSHMBeDj3+P3EUN3mpGgDyDufc/jhWrzrBUFcwCA5xEBseeNanO4ZgCx+b+RCICZlUWIPwW8/EO12Wl5H+PoTwFvXWVtwFDV+b9EAAeqzduWI6AAWFcENFIWqQ2ru+YDxQjp/J6jHocvgpXtU3OaIDAW1g0soOK9hByAU3IwXtvjHKhiGT0EwJI834aCaYGFlB0JMgBxAcPxjtY7Ii0hBRASL1qGccdBXWHPfZkPIL2L446p8R57LbhWAGxBJQGA8tWrhvtGGKMA4CrKeARUFuoO21OXUpzqGxIBSE1eMwzRDkPaX0ZA25azEOsCcC+fV2xcWpEDCH0EAHIh5LR3bbvf3FkcQwBCQgdFCoDhRkA4F/NVZG57lNQQOe3KcydFhgCEcr2v0XEA9Fd1Kos+MJ1iT2579Bv/3tpc2DwFgH4hkp5Kue0XDyBWD/QRkQKQaj87AHxAXIlVFvMytRDmtp91CgAAUieOuS53Zen576Mgt/3sALwhL0cY8DgOQWPHYbEFcWj7xQAYQdUO6qIAOGLrpm2FNBjP76jbpR9MlwfGQtnX0+IiQH7kxcsWMQiLAyAqU2VuvrJ1QChPo8SE0ORI4ZBX2PvzU+O8+iMiAKm0fQzficSQFG4rLdcoLWH75mQ4r/e1yJ0CbjfYdmYnEsP1gObE5/d0WyMPAEzF7gyXoTglayyCUs1wjrOJOBdJN7ETpFISS2el4xv5EcAeaoQX2WvOtUYA+7qdBEDqctMIjhupi5ba6+uVDwC95K3MI1mX7EYkuqQAUuWs5NcpvCASXVIASz4ad3UI4S0zGQA3DTglKQVHB4dgr/6+tRyAg4CqLu75pUpbWiAgrmC8+KL1MADeLFfimuN+0DnYrKu1eQAaEIgE/9Py+ij/LxgHgJbJE4xTAEwAdVVdlghYlbsm+NgSARNAXVWXJQJW5a4JPnbzEfAHFkNQUHguxXUAAAAASUVORK5CYII="},"121a":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"productContent"},[t("span",[e._v(e._s(e.DetailForm.PLAN_NAME||""))])]),e._m(0),t("vertical-table",{attrs:{tableData:e.tableData,DetailsFrom:e.DetailForm,tableStyle:{width:"100%"}}})],1)},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"tableTitle"},[t("h3",[e._v("基础信息")])])}],n=s("08cc"),l=s("0fea"),c=s("d370"),o={props:{planId:{type:String,default:()=>""}},components:{VerticalTable:n["a"]},data(){return{tableData:[{key:"单产品编码：",value:"planId"},{key:"单产品名称：",value:"planName"},{key:"生效时间：",value:"planStartDate"},{key:"失效时间：",value:"planEndDate"},{key:"状态：",value:"status"},{key:"产品类型：",value:"planSrvType"},{key:"资费：",value:"productCharges"},{key:"商品类型：",value:"offerType"},{key:"产商品类型：",value:"itemType"},{key:"产品业务分类：",value:"prodClassBusi"},{key:"描述：",value:"planDesc",iscolspan:!0},{key:"推荐用语：",value:"planComment",iscolspan:!0}],AdaptiveChannel:[],DetailForm:{}}},mounted(){this.getqueryDetail()},methods:{async getqueryDetail(){await Object(l["i"])(c["a"].mpapi.queryDetail,{planId:this.planId}).then(e=>{e.planName=e.planName.length>=15?e.planName.slice(0,12)+"...":e.planName,this.DetailForm=e})}}},r=o,u=(s("1cce"),s("2877")),d=Object(u["a"])(r,i,a,!1,null,"5bea6e90",null);t["a"]=d.exports},1233:function(e,t,s){},"13d5":function(e,t,s){"use strict";var i=s("23e7"),a=s("d58f").left,n=s("a640"),l=s("2d00"),c=s("605d"),o=!c&&l>79&&l<83,r=o||!n("reduce");i({target:"Array",proto:!0,forced:r},{reduce:function(e){var t=arguments.length;return a(this,e,t,t>1?arguments[1]:void 0)}})},"16ef":function(e,t,s){"use strict";s("b93c")},"18dd":function(e,t,s){"use strict";s("594c")},"1a81":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABZ1JREFUeF7tm31MVWUcxz/nxpsv0CzzpdnE1xnqTMspipm6WKVSTUBjRmWaJZogaorTFCYqIhFDZ+ZKM5PSYuHMt9RypubQ6Vo6ZU6RjEHOq5lKqPe0h7NrXO6Fe895zuXFy/PnOb/v9/k+3+f1POd5FNyluWowd3kBlSggDOgItEfF4g5ar+8VbEAZUAqcRqEAP3aRodyoS4dS68t5ahsqSUFlOipB9VoYszJTqEAhlwDSWa5YXdG6NiBJjUVlLdDGLC0NzGNF4V0+Ur6pqcPRAFVVSGYJNhY2sGDvZG8hjVV8iKKo9gwcDZilpj6whbeXWJiQpSxyNkBr9l97x/pGxqow3t4dtBYgBrwKzj9Afd6d41aC6CYGRs2AWepKbMx2h3qg3lvIJEuZoyDm+TuUN9mpzmitiCnSn3YKvtT3a5plIVYYsAmViUaNbNI4hS+FAcdRGdCkC2JUvMIJYcCfqFXre99LCqXCgHuN7sOmvqpCwaaQqN5fFtZXvo0pn2YDzGoBfTrAxjjo3wmU2j+ypSv/bDlMzoNDF6SpqghMawG/vA9Dupgjyh1L8VUITXMX5dl70wy4tQJaBHiWqRlRjy6Aq7fkmUwxoKU/3MyQF6OHoedSKLqiB+E61hQDOj0MJYvlxehhCM+Go8V6EF40oN/jcHKOvBg9DGM+hR2n9SC8aMDIHrBvmrwYPQzxm2FToR6EFw2I7gdb33TO4Fgx2FQYHGpM6LlyENNeZC8I9HPkSMqH7IPGeKujTBkDpobD2lhHMel7YcEP2rPV42BahD6xwryIHLhjgxHdYX+CIz5tNyzapY/TVbQpBswfBeljHOmfy4WfxSYb8Gpf+G6SPrEr98Pc7RrGzwK3M8Dvof851hyChG/1cXrNgMwoSB7hSL+5EOK/0rpAXjyM769P7Pkr0DcDbt+BaUNhdbQjPu8EvLZJH6fXDPhsArw1yJl+6Mdw+CIcTYRBnfWLDZkHN/6FmyugZY1F1t6zECl+3UgmU7rA929DVB9nJfaRel0sTAnXp/TiVeiSBh2CoTTVGXu8BJ7J0sfptRZwaAYM7epML7rBxM0wrCscnKFPrH2Qe2MgbIhzxtoN0sfqHG1KCzg9D55s70x+o0L7aBFr9k9i4J0hnsk9UwYDMqHiLvyUAMO7u+YOme8ZX11RphhQlgrtgl1nk3MQZuZD6wBtLOjtZvPt7woYtQYKS2BsbyiYXLv8gGRtmpRJphhQmQn+1aao6oJsNojeAPm/QZAfLB0Nic+CxcXpAjGwiW/9S9cgtA38mlS7sSKPDguh7B+Z4puwHxASCNeX1y3idqU2JW47pcWJzZNx/aBXO22FV2yFnWdgz1ntfVh7rea7ta2bN2wZnClvYANETV24/6+1bjHrj8Di3XD5uuu4Fv4wPQIWRkKwB0cyhuXI7wxJd4GnO0Fhsue1UHkX9hfBviIosULlPegYAoM7w+gweKSV51wvr4eC3z2PdxUpbcDzPWHPe3IijKInbYHPjxlFazhpAyb0hy3xciKMoucUQOYBo2iTDEiIgNxxciKMopf9CCk7jKJNMkAMWKkvyokwil53GKZuNYo2yYDsV2DmcDkRRtHbTkLMRqNokwz4Ig5eHygnwij6QBGMXGMUbZIBO6bAS+L8aAOkU5fhqUy5jKVngSMzje/5yUmHP67BE0vkWKQNOJcCPR6TE2EUfasSWn1gFG1SF/grDdq2lhMhgw6cra0mjSbpFlCfP0VrFvKSFTq72C3SY4a0AfX1W7xmocz6TS5tgB63G2NsswHNh6Saj8k1H5T08aOys9QYbDjdpWmMI7bpmqoOS/v8cXlhq09fmBAG+PyVGWGCL12ccLo0ZR9dfPranDDB5y9O2luCz16drT7R+vTl6epGaOsEsfM/tkldn4ft+LPT3fX5/wB2yfl+IQVWXwAAAABJRU5ErkJggg=="},"1cce":function(e,t,s){"use strict";s("7d49")},2419:function(e,t,s){"use strict";s("bd45")},"24e4":function(e,t,s){"use strict";s("6c1b")},"271a":function(e,t,s){"use strict";var i=s("cb2d"),a=s("e330"),n=s("577e"),l=s("d6d6"),c=URLSearchParams,o=c.prototype,r=a(o.getAll),u=a(o.has),d=new c("a=1");!d.has("a",2)&&d.has("a",void 0)||i(o,"has",(function(e){var t=arguments.length,s=t<2?void 0:arguments[1];if(t&&void 0===s)return u(this,e);var i=r(this,e);l(t,1);var a=n(s),c=0;while(c<i.length)if(i[c++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},"429a":function(e,t,s){},4333:function(e,t,s){},"44e5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA1RJREFUeF7lW4txozAQXVWScyWJK8m5AzpI0gEdxKnkfJXEqYTkIa+RQICwV7CRNOOZZCwD+/RWevvBUMyomj9E9Pcy9ZGInmJ+tvKc888z8uc/1eYYc38zOakz/CXmYsrmAIwTEb1RbfB3cIwDUDWvRPQbDe8bCuM/qDawZzCGANhVf1dK83tIBiD2fTaEAPiXofEM3AAEH4Cqydl4BuFEtdnzPx0A+fh8jJscqTYHTLQAWL//jPllJnPgCgeqzYkBKIH6/bVrWcAANJms7BIzzlSbnaGqgcLDsVfi2AMAGM8ytzQQTgAAmx82wRJH8QCcwQCtG6DV8EQPF2WahKUaAbiKFM8nrVbBcS0KhDYAEKwghA2PBOG5JgAQtwdD1gATxKJVLQB4AcrscSQo3bUAELf6LjJCkasWABCYROXwrhhkBsD05hfyCaHwXQsDbgFARMJrAWDZJmhzGCISXgsAbWg6u/vzhAxPgWUuILQB2pTYtrHANTW1YPVFfJ/vtyUAvt9bWqMQ8xVUhInqFakAcCM5GNavJfrCp2rwPQIdHm6d7+vnu2T1SGkAwpTuIjkY2GZjHUGzaQlOEoDpnRwguEXKRJSO3ksuEyUBiN/Jh5Rf+txi86UAiBcyyrLQUgCEszgJNbwUBaQAiA9nM2XAEhcQFTL3MkGKAfFaXlkhRgoALMQSN2DVt3lFShKAyV6ctgTfb1bqsrzP0unuWNeQBIDv+dZ2Z7Ha81PZAAlMGaa/rDYAEKuyIgUArp4fK2JwrIDj029h81mBa6E6xNKZXUesOJISgFgWgg3DxsaQy9hMkGgXmwYAXMZgtYes6EOZYUbINXF6M+3SYiJtPZoY4IIwL60zS4v3ST6vLIUElVYGzCvLzNLioRNj3A0EAyqtDAAg4c1Q0HgNafEYrcB9/0iOikvm0rvE2sKIyHkas5QK57RtciUDcAQA/aKEwoVK9kgHAFBaq7yL5o67xVXl6ZKtt39hr12+RBbskIso9ZWZa/7SBUA00bASjW+5zchLU122Rbwf95anTPSbQZA19uIkGhVWTU4mMti9bDDEDr86m6ApeQUDp24xWrPI+eVpAIKE640vT7t4WkZAMaJVBX/zZ+OF9W7P6XWk0MN9RoGn/QZVWIEp5wZLRAAAAABJRU5ErkJggg=="},"4bca":function(e,t){e.exports="data:image/png;base64,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"},"538c":function(e,t,s){"use strict";var i=s("313e");t["a"]={data(){return{echart:null}},methods:{initEchart(){this.echart=Object(i["init"])(this.$refs.echartsDomRef)},resize(){this.echart.resize()}},mounted(){this.initEchart(),window.addEventListener("resize",this.resize)},beforeDestroy(){this.echart.dispose(),window.removeEventListener("resize",this.resize)}}},5494:function(e,t,s){"use strict";var i=s("83ab"),a=s("e330"),n=s("edd0"),l=URLSearchParams.prototype,c=a(l.forEach);i&&!("size"in l)&&n(l,"size",{get:function(){var e=0;return c(this,(function(){e++})),e},configurable:!0,enumerable:!0})},"552d":function(e,t,s){"use strict";s("4333")},"594c":function(e,t,s){},5976:function(e,t,s){"use strict";s("1173")},"5a0c":function(e,t,s){!function(t,s){e.exports=s()}(0,(function(){"use strict";var e=1e3,t=6e4,s=36e5,i="millisecond",a="second",n="minute",l="hour",c="day",o="week",r="month",u="quarter",d="year",h="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||t[0])+"]"}},v=function(e,t,s){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(s)+e},b={s:v,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),i=Math.floor(s/60),a=s%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(a,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var i=12*(s.year()-t.year())+(s.month()-t.month()),a=t.clone().add(i,r),n=s-a<0,l=t.clone().add(i+(n?-1:1),r);return+(-(i+(s-a)/(n?a-l:l-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:r,y:d,w:o,d:c,D:h,h:l,m:n,s:a,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},A="en",y={};y[A]=f;var C="$isDayjsObject",S=function(e){return e instanceof x||!(!e||!e[C])},w=function e(t,s,i){var a;if(!t)return A;if("string"==typeof t){var n=t.toLowerCase();y[n]&&(a=n),s&&(y[n]=s,a=n);var l=t.split("-");if(!a&&l.length>1)return e(l[0])}else{var c=t.name;y[c]=t,a=c}return!i&&a&&(A=a),a||!i&&A},L=function(e,t){if(S(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new x(s)},I=b;I.l=w,I.i=S,I.w=function(e,t){return L(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function f(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[C]=!0}var v=f.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(I.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(m);if(i){var a=i[2]-1||0,n=(i[7]||"0").substring(0,3);return s?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,n)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,n)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return I},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var s=L(e);return this.startOf(t)<=s&&s<=this.endOf(t)},v.isAfter=function(e,t){return L(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<L(e)},v.$g=function(e,t,s){return I.u(e)?this[t]:this.set(s,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var s=this,i=!!I.u(t)||t,u=I.p(e),p=function(e,t){var a=I.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return i?a:a.endOf(c)},m=function(e,t){return I.w(s.toDate()[e].apply(s.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},g=this.$W,f=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return i?p(1,0):p(31,11);case r:return i?p(1,f):p(0,f+1);case o:var A=this.$locale().weekStart||0,y=(g<A?g+7:g)-A;return p(i?v-y:v+(6-y),f);case c:case h:return m(b+"Hours",0);case l:return m(b+"Minutes",1);case n:return m(b+"Seconds",2);case a:return m(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var s,o=I.p(e),u="set"+(this.$u?"UTC":""),p=(s={},s[c]=u+"Date",s[h]=u+"Date",s[r]=u+"Month",s[d]=u+"FullYear",s[l]=u+"Hours",s[n]=u+"Minutes",s[a]=u+"Seconds",s[i]=u+"Milliseconds",s)[o],m=o===c?this.$D+(t-this.$W):t;if(o===r||o===d){var g=this.clone().set(h,1);g.$d[p](m),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[I.p(e)]()},v.add=function(i,u){var h,p=this;i=Number(i);var m=I.p(u),g=function(e){var t=L(p);return I.w(t.date(t.date()+Math.round(e*i)),p)};if(m===r)return this.set(r,this.$M+i);if(m===d)return this.set(d,this.$y+i);if(m===c)return g(1);if(m===o)return g(7);var f=(h={},h[n]=t,h[l]=s,h[a]=e,h)[m]||1,v=this.$d.getTime()+i*f;return I.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,s=this.$locale();if(!this.isValid())return s.invalidDate||p;var i=e||"YYYY-MM-DDTHH:mm:ssZ",a=I.z(this),n=this.$H,l=this.$m,c=this.$M,o=s.weekdays,r=s.months,u=s.meridiem,d=function(e,s,a,n){return e&&(e[s]||e(t,i))||a[s].slice(0,n)},h=function(e){return I.s(n%12||12,e,"0")},m=u||function(e,t,s){var i=e<12?"AM":"PM";return s?i.toLowerCase():i};return i.replace(g,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return I.s(t.$y,4,"0");case"M":return c+1;case"MM":return I.s(c+1,2,"0");case"MMM":return d(s.monthsShort,c,r,3);case"MMMM":return d(r,c);case"D":return t.$D;case"DD":return I.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(s.weekdaysMin,t.$W,o,2);case"ddd":return d(s.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(n);case"HH":return I.s(n,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return m(n,l,!0);case"A":return m(n,l,!1);case"m":return String(l);case"mm":return I.s(l,2,"0");case"s":return String(t.$s);case"ss":return I.s(t.$s,2,"0");case"SSS":return I.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,h,p){var m,g=this,f=I.p(h),v=L(i),b=(v.utcOffset()-this.utcOffset())*t,A=this-v,y=function(){return I.m(g,v)};switch(f){case d:m=y()/12;break;case r:m=y();break;case u:m=y()/3;break;case o:m=(A-b)/6048e5;break;case c:m=(A-b)/864e5;break;case l:m=A/s;break;case n:m=A/t;break;case a:m=A/e;break;default:m=A}return p?m:I.a(m)},v.daysInMonth=function(){return this.endOf(r).$D},v.$locale=function(){return y[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),i=w(e,t,!0);return i&&(s.$L=i),s},v.clone=function(){return I.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),D=x.prototype;return L.prototype=D,[["$ms",i],["$s",a],["$m",n],["$H",l],["$W",c],["$M",r],["$y",d],["$D",h]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),L.extend=function(e,t){return e.$i||(e(t,x,L),e.$i=!0),L},L.locale=w,L.isDayjs=S,L.unix=function(e){return L(1e3*e)},L.en=y[A],L.Ls=y,L.p={},L}))},"5b72":function(e,t,s){},"5ba7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABWVJREFUeF7tW71uFDEQ/hxeAPECIYICWgQlgogqqWmggYg/CYrsKVCBBJGggug2BUj8idBAQ51UiESUIFooQIQXQLwAMZn4rPXu2uux13sc5FaKEuVs78w33/zYnhPY5Y/Y5fpjDMCYAbscgbELDI0AmdwP4CQA+k3PCePdm4O/fwCgvzeRi/VhyNYtAzJJCtPP7QhlCAgCYQO5WImYz5qSHgBl6fORSruEJjBebrNnBbnQbGEp6BuUFoBM3vEorq1KVKfHVIaAmxy4CLHG9iggckHvSfKkASCTZPEXFom05RAkdBEvKE7Q2tUnGRDtAbBbPZmAKFzqnBFANSCLQcBakIwHQAlGVq/StbVQVm67Y8s6cjEd6w9xANiVbyUIWwH17ncVNhDjpmMCZCwAJIBp+eEor1Gys4Fqhyk2kIOB4QBksqp8N5TnaFKPP8GGCAMgk+TzZlT+e8oXbKim3iCZ+ACoqo6sr59gtDlGjRpTZ8Ict3oMAeC7EXjaKb8gJ7GFGUgc2FFY4BsmsIYloQukMBzqQZkdD3gA1BGeiom4O1plMgcw79BwGbnIwrQfjFYgkJH0Q2XznG8tLgDSWCjIx0oCZHIVwIxHqDXkYtYnuKNWMCtSVmr0A1ANfLnwz7FJNy8fQuAqSzGJR1gW11hjzUH1GsHLAr8ymTStzw4uJeEX5CH8xucghfbgMJbEl6A5ysXKLPDUBs0AVDc5sdbP5HUA9wOVuYFcPAicQwBUYwFViM7DFR8AZt730skpbE8+gcSlIGUEnqIvLgfN0YPLxVqj3D4AzNQXR38SqiefQeJCkDICz9EXF4PmFACYNUtjSnQDkIr+yi9vArgbqMwt5OJe4Bw1PMANuADE018x4CgkPgQpI3AMffExaE45I5h7Fid7mwAwa+x2ACirvAJwhqnQa+TiLHOsfVg5fTtrlyYAzAAYX/wUfrkXwFsARzyKfQJwarsi/NUSAJYBuQDEB0BTi57cB4nHAE47lHsDgSvoi5+tlFeMMwFw7l2aAEiTAWya9ORxbGEWAgd3Ppb4igmsoi/et1bcngmiADCDSGMxkUzolAuVs1hrANrHAJdylLISX3YMUqFZEjuDODcGpAFAWYXO+vV5or4nJJl1ubqR5AaoHAOiAGBFURZrleJ0P2gq7JtK94EEfNxVWII0aFIo7gRIHaNROg1RvArMYhQjMskK4k0uwK6nraZ0X5f5LG/7nNyDUjGfDeVtvDOI+zZD5lkAPxP4L0m7BSFgH+MDwKwGeW5QPzqPUdY1h3XMhbIMrbbDYW5QPzpPqbxey5+RmP5PC/oYUD1daS6Jyy/uQnm9pvtUOoD+fgBUTW26gftwoRu/d4HodseyEby7WM6hKO+8vRx1u7S+mwUR9xd+ABQLms/b7VfWXYFAgZBcsXzQWT8F8scKbwwodlbVO3m7K3SbAUgadxao3lozT7B5DKizgP5j9y9FQ1s7S1tGuP25fmXPrln4ACgQeFfRio5U+9sanEKBIKoTne1n+1yZHG8NBaDaF9TcDKXqAmKD2SHKBYA2Q9QS5+4YHXqDhGKBrUfHH3CKrlHdIkvr6E0SKanrfF5naJ327Ctx0wJhDHAHxeYAxbU5Z5y9QcueGRjrxQFQMKHaEpuuP9AmvL3Y4u1RksSA6iLu3r20QLirTG+l5yNBPAPMld2pL67ju9xab+s0p3Up7rTuIk8DgNslTJjU9wDMYFd8qoPhP9osXWZDd+3yCbvEtcjpGGCPD5T/XR3fPvfUneYU5Dr79kh3ALgB0d8LoBG6FiBl6Thcp9P/5CszPhuPwOfDY8AIKGsTYQzAiBpmaGKNGTA0qEf0RX8Asyw1X009PGEAAAAASUVORK5CYII="},"5bbb":function(e,t,s){"use strict";s("9b32")},"605d":function(e,t,s){"use strict";var i=s("da84"),a=s("c6b6");e.exports="process"===a(i.process)},"6c1b":function(e,t,s){},"708e":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ai-intelligence-layout"},[e.activeType&&e.activeType!==e.CAMPSEG_VIEW_TYPES.helpDoc?t("div",{staticClass:"content-center"},[t("chat",{attrs:{viewType:e.activeType,initialValue:e.sceneInfo},on:{"update:viewType":function(t){e.activeType=t},"update:view-type":function(t){e.activeType=t}}})],1):t("div",{staticClass:"content-center"},[t("span",{staticClass:"back",on:{click:e.goBack}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v("返回 ")]),e._m(0),t("div",{staticClass:"flow-list"},e._l(e.flowList,(function(s){return t("div",{key:s.type,staticClass:"flow-item",class:{active:e.activeType===s.type},on:{click:function(t){return e.selectType(s.type)}}},[t("div",{staticClass:"flow-icon"},[t("img",{attrs:{src:s.icon,alt:""}})]),t("div",{staticClass:"flow-text"},[t("p",{staticClass:"flow-title ellipsis"},[e._v(e._s(s.title))]),t("p",{staticClass:"flow-desc ellipsis"},[e._v(e._s(s.desc))])])])})),0)])])},a=[function(){var e=this,t=e._self._c;return t("header",[t("img",{attrs:{src:s("4bca"),alt:""}}),t("h1",[e._v("智推棱镜")]),t("h3",[e._v("策创一体、AI提效")])])}],n=(s("88a7"),s("271a"),s("5494"),s("bc67")),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chat-box-layout"},[e.saveLoading?t("Loader"):e._e(),t("div",{staticClass:"side-left"},[t("div",{staticClass:"head-back"},[t("span",{staticClass:"back",on:{click:e.goBack}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v("返回 ")])]),t("work-station",{attrs:{title:"工作站",list:e.workStationList}})],1),t("div",{staticClass:"content-center"},[t("div",{ref:"chatBox",staticClass:"chat-message-list"},e._l(e.tabs,(function(s){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isAllShow||s.type===e.activeTab,expression:"isAllShow || tab.type === activeTab"}],key:s.type,class:s.type+"-messages"},[t(s.component,{directives:[{name:"show",rawName:"v-show",value:s.isActived,expression:"tab.isActived"}],ref:s.type,refInFor:!0,tag:"component",attrs:{taskType:e.taskType,tableData:e.tableData,scoreLoading:e.getScoreRangeBatchLoading},on:{scroll:e.scroll,createScene:e.createScene,reload:e.reload}})],1)})),0),t("div",{staticClass:"message-send-box"},[t("div",{staticClass:"tabs"},e._l(e.tabs,(function(s){return t("div",{key:s.type,staticClass:"tab-name",class:{active:s.type===e.activeTab},on:{click:function(t){return e.changeTab(s)}}},[e._v(e._s(s.label))])})),0),t("dialog-send",{attrs:{readonly:!e.activeTab,placeholderText:"请输入"},on:{sendSubmit:e.messageRecive}})],1)]),t("div",{staticClass:"side-right"},[t("import-product",{directives:[{name:"show",rawName:"v-show",value:"productRule"===e.activeTab,expression:"activeTab === 'productRule'"}]}),e.customSource===e.CUSTOMER_SOURCE_TYPES.group?t("import-customer",{directives:[{name:"show",rawName:"v-show",value:"customerRule"===e.activeTab,expression:"activeTab === 'customerRule'"}]}):e._e(),e.customSource===e.CUSTOMER_SOURCE_TYPES.label?t("import-label",{directives:[{name:"show",rawName:"v-show",value:"customerRule"===e.activeTab,expression:"activeTab === 'customerRule'"}]}):e._e(),t("prod-cust-score-table",{directives:[{name:"show",rawName:"v-show",value:"aiModelRule"===e.activeTab,expression:"activeTab === 'aiModelRule'"}],attrs:{tableData:e.tableData},on:{change:e.changeSelect}})],1)],1)},c=[],o=(s("14d9"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"rule-box product"},[t("chat-item",{on:{change:e.sourceChange},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}}),e._l(e.messageList,(function(s,i){return t("chat-item",{key:i,on:{"load-more":function(t){return e.loadMore(i)}},model:{value:e.messageList[i],callback:function(t){e.$set(e.messageList,i,t)},expression:"messageList[idx]"}})}))],2)}),r=[],u=function(){var e,t=this,s=t._self._c;return s("div",{staticClass:"chat-item-wrapper",class:{rtl:t.isMy}},[s("div",{staticClass:"header"},[s("el-avatar",{attrs:{size:60,src:t.avatar}})],1),t.isMy?s("div",{staticClass:"my-chat-content"},[t.value.dangerouslyUseHTMLString?s("div",{domProps:{innerHTML:t._s(t.value.messageText)}}):s("span",[t._v(t._s(t.value.messageText))]),t._t("default")],2):s("div",{staticClass:"robot-chat-content"},[s("el-row",{staticClass:"title"},[s("el-col",{attrs:{span:t.multiple?20:24}},[t._v(t._s(t.value.title))]),t.multiple?s("el-col",{attrs:{span:4}},[s("el-checkbox",{on:{change:t.selectionChange},model:{value:t.isSelectAll,callback:function(e){t.isSelectAll=e},expression:"isSelectAll"}},[t._v("全选")])],1):t._e()],1),t.value.selectOptions.length?s("div",{staticClass:"select-options"},[t._l(t.value.selectOptions,(function(e,i){return s("div",{key:i,staticClass:"select-item",class:{disabled:e.disabled,active:t.isExist(e)},on:{click:function(s){return t.handleSelect(e)}}},[t._v(t._s(e.text))])})),t.value.selectOptions.length<(null===(e=t.value.page)||void 0===e?void 0:e.total)?s("div",{staticClass:"select-item-more"},[s("span",[t._v("还剩"+t._s(t.value.page.total-t.value.selectOptions.length)+"条")]),s("el-button",{attrs:{type:"text",size:"medium",loading:t.value.page.loading},on:{click:function(e){return t.$emit("load-more")}}},[t._v("查看更多")])],1):t._e()],2):t._e(),t.value.tips.length?s("div",{staticClass:"tips"},[s("div",{staticClass:"tip-header"},[s("div",[t._v("tips:")]),s("div",{on:{click:function(e){t.isFold=!t.isFold}}},[t.isFold?s("div",[t._v("展开"),s("i",{staticClass:"el-icon-arrow-right"})]):s("i",{staticClass:"el-icon-close"})])]),s("div",{staticClass:"tip-texts",class:{hide:t.isFold}},t._l(t.value.tips,(function(e,i){return s("p",{key:i,staticClass:"ellipsis"},[t._v(t._s(e))])})),0)]):t._e(),t._t("default")],2)])},d=[],h=s("2f62");const p=s("5ba7"),m=s("1199");var g={components:{},props:{value:{type:Object,default:()=>({isMy:!1,multiple:!1,canCancel:!0,title:"",messageText:"",tips:[],selectOptions:[],selectTotal:null})}},watch:{value:{deep:!0,handler(e){this.$emit("input",e),this.$emit("change",e)}}},computed:{...Object(h["b"])("AiIntelligence",["selectProductList","selectCustomGroup","selectLabelList"]),isMy(){return this.value.isMy},multiple(){return this.value.multiple},canCancel(){return void 0===this.value.canCancel||this.value.canCancel},avatar(){return this.isMy?p:m}},data(){return{isFold:!1,isSelectAll:!1}},methods:{isExist(e){let t=!1;return t="product"===this.value.type?this.selectProductList.some(t=>t.planId===e.planId):"customer"===this.value.type?this.selectCustomGroup&&this.selectCustomGroup.customGroupId===e.customGroupId:"label"===this.value.type?this.selectLabelList.some(t=>t.columnNum===e.columnNum):e.isSelect,e.isSelect=t,this.isSelectAll=this.value.selectOptions.every(e=>e.isSelect),t},handleSelect(e){this.multiple?!this.canCancel&&e.isSelect||(e.isSelect=!e.isSelect):this.singleSelect(e),"function"===typeof this.value.callback&&this.value.callback.call(this,e),this.$forceUpdate()},singleSelect(e){this.value.selectOptions.forEach(t=>{t===e?!this.canCancel&&e.isSelect||(t.isSelect=!t.isSelect):t.isSelect=!1})},selectionChange(){this.multiple&&(this.value.selectOptions.forEach(e=>e.isSelect=this.isSelectAll),this.value.callback.call(this,...this.value.selectOptions))}}},f=g,v=(s("24e4"),s("2877")),b=Object(v["a"])(f,u,d,!1,null,"011ab164",null),A=b.exports,y=s("4360"),C=s("82be"),S=s("0fea"),w=s("afd9"),L=s("5c96"),I=s("8864");const x=()=>({type:"",isMy:!1,title:"",messageText:"",tips:[],multiple:!1,canCancel:!1,dangerouslyUseHTMLString:!1,selectOptions:[],selectTotal:null,callback:null}),D=(e=I["a"].product,t)=>{const s=e=>{const t=e.value;y["a"].commit("AiIntelligence/setProductSource",t)};if(e===I["a"].product)return s({value:I["f"].exist}),{...x(),type:"prodSourceSelect",title:"已进入AI智能创建策略：产品视角流程，请依次配置“产品规则、客群规则、渠道规则、AI模型参数”信息,当前请试着输入你想要营销的目标产品名称或ID……"};const i={...x(),callback:s,type:"prodSourceSelect",title:"请选择产品来源",tips:["“无限制，AI推荐”，模型自动进行智能匹配","“已有产品”，模型将根据选择的产品进行智能匹配"],selectOptions:[{text:"无限制，AI推荐",type:"auto",value:I["f"].auto,isSelect:!1,disabled:!1},{text:"已有产品",value:I["f"].exist,type:"selectPlan",isSelect:!1,disabled:!1}]};return void 0!==t&&i.selectOptions.forEach(e=>{e.value===t&&(e.isSelect=!0)}),i},T=(e=I["a"].product,t)=>{const s=e=>{const t=e.value;y["a"].commit("AiIntelligence/setCustomSource",t)};let i="请先选择客群来源",a=[{text:"已有客群",value:I["d"].group,type:"selectCustomer1",isSelect:!1,disabled:!1},{text:"标签规则",value:I["d"].label,type:"selectCustomer2",isSelect:!1,disabled:!1}],n=["“已有客群”，模型将根据选择的客群范围内进行智能匹配","“标签规则”，模型将根据符合选择的标签规则客群范围内进行智能匹配"];e===I["a"].product&&(a.unshift({text:"无限制，AI推荐",type:"auto",value:I["d"].auto,isSelect:!1,disabled:!1,callback:s}),n.unshift("无限制，AI推荐”，模型自动从全量客户中进行智能匹配"));const l={type:"custSourceSelect",isMy:!1,title:i,messageText:"",tips:n,multiple:!1,canCancel:!1,selectOptions:a,callback:s};return void 0!==t&&l.selectOptions.forEach(e=>{e.value===t&&(e.isSelect=!0)}),l},M=e=>{const t=e=>{const t=e.value;y["a"].commit("AiIntelligence/setChannelSource",t)},s={type:"channelSourceSelect",isMy:!1,title:"请先选择渠道来源",messageText:"",tips:["“无限制，AI推荐”，模型自动从所有已对接渠道进行智能匹配"],multiple:!1,canCancel:!1,callback:t,selectOptions:[{text:"无限制，AI推荐",type:"auto",value:I["c"].auto,isSelect:!1,disabled:!1},{text:"选择渠道推荐范围",type:"selectChannel",value:I["c"].exist,isSelect:!1,disabled:!1}]};return void 0!==e&&s.selectOptions.forEach(t=>{t.value===e&&(t.isSelect=!0)}),s},k=e=>{const t={type:"channelSourceSelect",isMy:!1,title:"为了兼顾客群触达规模、转化率、减少无效触达打扰客户，试试输入以下目标参数！",messageText:"",tips:["目标客群规模，模型根据客群规模目标智能生成策略，请输入整数","模型推荐得分，模型根据推荐度得分目标智能生成策略，请按照“0.3～1.0”样式输入"],multiple:!1,canCancel:!1,selectOptions:[{text:"目标客群规模",value:I["e"].num,isSelect:!1,disabled:!1},{text:"模型推荐得分",value:I["e"].score,isSelect:!1,disabled:!1}]};return void 0!==e&&t.selectOptions.forEach(t=>{t.value===e&&(t.isSelect=!0)}),t},E=e=>{let t="string"===typeof e?{messageText:e}:e;return{...x(),isMy:!0,type:"myWord",...t}},O=e=>({...x(),title:`暂无“${e}”的搜索结果`}),P=(e,t,s=!1,i={})=>{const a=function(...e){y["a"].commit("AiIntelligence/diffSelectProdList",e)},n=t.map(e=>({...e,text:e.planName,value:e.planId,isSelect:s})),l=t.map(e=>e.planName+":"+(e.planDesc||"~"));return{type:"product",isMy:!1,title:e?`根据"${e}"为您搜索到以下结果`:"已选择产品",messageText:"",tips:l,multiple:!0,selectOptions:n,page:i,callback:a}},N=(e,t=[])=>{const s=function(...e){y["a"].commit("AiIntelligence/diffSelectChannelList",e)},i=e.map(e=>({...e,text:e.channelName,value:e.channelId,isSelect:t.some(t=>t===e.channelId)}));return{type:"channel",isMy:!1,title:"请选择渠道规则",messageText:"",tips:[],multiple:!0,selectOptions:i,callback:s}},R=(e,t,s=!1,i={})=>{const a=function(...e){y["a"].commit("AiIntelligence/diffSelectLabelList",e)},n=t.map(e=>({...e,isSelect:s,text:e.columnName,value:e.columnNum,finalExpression:e.finalExpression||""}));return{type:"label",isMy:!1,title:e?`以下是"${e}"为您搜索到以下结果`:"已选择标签",messageText:"",tips:[],multiple:!0,selectOptions:n,page:i,callback:a}},B=(e,t,s,i={})=>{const a=async function(e){let t=e.finalExpression;if(t||(t=await F(e)),!t)return e.isSelect=!1,void this.$forceUpdate();e.finalExpression=t,y["a"].commit("AiIntelligence/setFinalExpression",t),y["a"].commit("AiIntelligence/setSelectCustomGroup",e)},n=t.map(e=>({...e,text:e.customGroupName,value:e.customGroupId,isSelect:e.customGroupId===s,finalExpression:e.finalExpression||""}));return{type:"customer",isMy:!1,title:e?`以下是"${e}"为您搜索到以下结果`:"已选择客群",messageText:"",tips:[],multiple:!1,canCancel:!0,selectOptions:n,page:i,callback:a}},U=e=>({type:"robotCommonAnswer",isMy:!1,title:e,messageText:"",tips:[],multiple:!1,canCancel:!1,selectOptions:[]}),V=(e,t)=>{const s=function(e){y["a"].commit("AiIntelligence/setSelectChannelConfig",e)},i={...x(),type:"channelConfig",title:`请选择"${e}"的渠道参数`,callback:s,selectOptions:[{text:"默认配置，模型话术",value:I["b"].default,type:"defaultConfig",isSelect:!1,disabled:!0},{text:"策略生成后手动完善",value:I["b"].manual,type:"fillByHand",isSelect:!1,disabled:!1}]};return void 0!==t&&i.selectOptions.forEach(e=>{e.value===t&&(e.isSelect=!0)}),i},F=async e=>{const t=Object(C["e"])([],{customerInfo:{columnNum:e.columnNum}}),s=await Object(S["i"])(w["a"].getTargetUserCount,t).catch(()=>{});return s&&s.finalExpression?s.finalExpression||"":(Object(L["Message"])({message:"该客群不支持AI测算",type:"error"}),"")},Q=e=>""===e||void 0===e||null===e;var G=s("d370"),Y={props:{taskType:{type:String,default:"0"},initialValue:{type:Object,default:()=>({})}},components:{ChatItem:A},computed:{...Object(h["b"])("AiIntelligence",["productSource","selectProductList","totalProductList"])},data(){return{source:null,messageList:[]}},created(){this.init()},methods:{init(){this.source=D(this.taskType,this.productSource),this.sourceChange(),this.initMessageList(),this.addWatch()},addWatch(){this.$watch("messageList.length",()=>{this.$nextTick(this.scrollToBottom)})},sourceChange(){const e=this.source.selectOptions.find(e=>e.isSelect);e&&(this.messageList.push(E(e.text)),e.value!==I["f"].auto&&this.messageList.push(U("请输入产品名称或ID")))},initMessageList(){const e=this.selectProductList||[];this.productSource===I["f"].exist&&e.length&&this.messageList.push(P("",e,!0))},async receiveMessage(e){this.productSource?this.productSource===I["f"].exist&&await this.handleProductInput(e):this.$message.info("请选择产品来源")},async handleProductInput(e){this.messageList.push(E(e));const t=await Object(S["i"])(G["a"].mpapi.queryTableList,{keyWords:e,isSupportAi:1,current:1,size:5},void 0,this.$retryDelay).catch(()=>{});if(t&&t.records&&t.records.length){const{records:s,total:i}=t;this.messageList.push(P(e,s,!1,{total:i,current:1,keyword:e,loading:!1})),this.$store.commit("AiIntelligence/updateTotalProdList",s)}else this.messageList.push(O(e))},async loadMore(e){try{var t;const{current:s,keyword:i}=this.messageList[e].page;this.$set(this.messageList[e].page,"loading",!0);const a=await Object(S["i"])(G["a"].mpapi.queryTableList,{keyWords:i,isSupportAi:1,current:s+1,size:5},void 0,this.$retryDelay);if(null!==a&&void 0!==a&&null!==(t=a.records)&&void 0!==t&&t.length){const{records:t,total:i}=a;this.$store.commit("AiIntelligence/updateTotalProdList",t);const n=t.map(e=>({...e,text:e.planName,value:e.planId,isSelect:!1}));this.$set(this.messageList[e],"selectOptions",[...this.messageList[e].selectOptions,...n]),this.$set(this.messageList[e].page,"current",s+1),5*(s+1)>=i&&this.$set(this.messageList[e].page,"total",0)}}catch(s){}finally{this.$set(this.messageList[e].page,"loading",!1)}},scrollToBottom(){this.$emit("scroll","productRule")},validate(){return this.productSource===I["f"].auto||!!this.selectProductList.length}}},j=Y,_=Object(v["a"])(j,o,r,!1,null,"a80c560c",null),q=_.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rule-box customer"},[t("chat-item",{on:{change:e.sourceChange},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}}),e._l(e.messageList,(function(s,i){return t("chat-item",{key:i,on:{"load-more":function(t){return e.loadMore(i)}},model:{value:e.messageList[i],callback:function(t){e.$set(e.messageList,i,t)},expression:"messageList[idx]"}})}))],2)},$=[],H={props:{taskType:{type:String,default:"product"},initialValue:{type:Object,default:()=>({})}},components:{ChatItem:A},computed:{...Object(h["b"])("AiIntelligence",["customSource","totalCustomGroupList","selectCustomGroup","totalLabelList","selectLabelList"])},data(){return{source:null,messageList:[]}},created(){this.init()},methods:{init(){this.source=T(this.taskType,this.customSource),this.initMessageList(),this.addWatch()},addWatch(){this.$watch("messageList.length",()=>{this.$nextTick(this.scrollToBottom)})},sourceChange(){const e=this.source.selectOptions.find(e=>e.isSelect);e&&(this.messageList.push(E(e.text)),e.value!==I["d"].auto&&this.messageList.push(U(`请输入${e.text}关键字`)))},initMessageList(){if(this.customSource===I["d"].auto){const e=this.source.selectOptions.find(e=>I["d"].auto===e.value);this.messageList.push(E(e.text))}else if(this.customSource===I["d"].group){const e=this.selectCustomGroup;e&&this.messageList.push(B("",[e],e.customGroupId))}else if(this.customSource===I["d"].label){const e=this.selectLabelList||[];e.length&&this.messageList.push(R("",e,!0))}},async receiveMessage(e){""!==this.customSource?this.customSource!==I["d"].auto&&(this.messageList.push(E(e)),this.customSource===I["d"].group?await this.queryCustomGroup(e):this.customSource===I["d"].label&&await this.queryLabelList(e)):this.$message.info("请选择客群来源")},async queryCustomGroup(e){const t=this.$CancelToken.source(),s=await Object(S["i"])(G["a"].mpapi.getMoreMyCustomNew,{keyWords:e,intellRec:1,outCallUse:0,current:1,size:5},t.token,this.$retryDelay).catch(e=>{var t;null!==(t=e.message)&&void 0!==t&&t.includes("timeout")&&this.$message.error("查询失败，请重试！")});let i=[];s&&s.records&&s.records.length&&(i=s.records.filter(e=>0!==e.updateStatus&&null!==e.columnNum)),i.length?(this.messageList.push(B(e,i,void 0,{current:1,total:s.total,keywords:e,loading:!1})),this.$store.commit("AiIntelligence/updateTotalCustomGroupList",i)):this.messageList.push(O(e))},async queryLabelList(e){const t=await Object(S["i"])(w["a"].search0,{columnName:e,current:1,size:5}).catch(e=>{var t;null!==(t=e.message)&&void 0!==t&&t.includes("timeout")&&this.$message.error("查询失败，请重试！")});t&&t.records&&t.records.length?(this.messageList.push(R(e,t.records,void 0,{current:1,total:t.total,keywords:e,loading:!1})),this.$store.commit("AiIntelligence/updateTotalLabelList",t.records)):this.messageList.push(O(e))},loadMore(e){this.customSource===I["d"].group?this.loadMoreCustomGroup(e):this.customSource===I["d"].label&&this.loadMoreLabel(e)},async loadMoreCustomGroup(e){const t=this.messageList[e];try{this.$set(t.page,"loading",!0);const{records:e,total:s}=await Object(S["i"])(G["a"].mpapi.getMoreMyCustomNew,{keyWords:t.page.keywords,intellRec:1,outCallUse:0,current:t.page.current+1,size:5},void 0,this.$retryDelay);if(e&&e.length){this.$set(t.page,"current",t.page.current+1),5*t.page.current>=s&&this.$set(t.page,"total",0);const i=e.filter(e=>0!==e.updateStatus&&null!==e.columnNum);if(!i.length)return;this.$store.commit("AiIntelligence/updateTotalCustomGroupList",i);const a=i.map(e=>({...e,text:e.customGroupName,value:e.customGroupId,isSelect:!1,finalExpression:e.finalExpression||""}));this.$set(t,"selectOptions",[...t.selectOptions,...a])}}catch(i){var s;null!==(s=i.message)&&void 0!==s&&s.includes("timeout")&&this.$message.error("查询失败，请重试！")}finally{this.$set(t.page,"loading",!1)}},async loadMoreLabel(e){const t=this.messageList[e];try{this.$set(t.page,"loading",!0);const{records:e,total:s}=await Object(S["i"])(w["a"].search0,{columnName:t.page.keywords,current:t.page.current+1,size:5},void 0,this.$retryDelay);if(e&&e.length){this.$store.commit("AiIntelligence/updateTotalLabelList",e);const i=e.map(e=>({...e,isSelect:!1,text:e.columnName,value:e.columnNum,finalExpression:e.finalExpression||""}));this.$set(t,"selectOptions",[...t.selectOptions,...i]),this.$set(t.page,"current",t.page.current+1),5*t.page.current>=s&&this.$set(t.page,"total",0)}}catch(i){var s;null!==(s=i.message)&&void 0!==s&&s.includes("timeout")&&this.$message.error("查询失败，请重试！")}finally{this.$set(t.page,"loading",!1)}},scrollToBottom(){this.$emit("scroll","customerRule")},validate(){return""!==this.customSource&&(this.customSource===I["d"].auto||(this.customSource===I["d"].group?this.selectCustomGroup&&this.selectCustomGroup.customGroupId:this.customSource!==I["d"].label||!!this.selectLabelList.length))}}},X=H,W=Object(v["a"])(X,K,$,!1,null,"a743ce9a",null),z=W.exports,J=function(){var e=this,t=e._self._c;return e.inited?t("div",{staticClass:"rule-box channel"},[t("chat-item",{on:{change:e.sourceChange},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}}),t("chat-item",{directives:[{name:"show",rawName:"v-show",value:e.channelSource===e.CHANNEL_SOURCE_TYPES.auto,expression:"channelSource === CHANNEL_SOURCE_TYPES.auto"}],model:{value:e.selectAi,callback:function(t){e.selectAi=t},expression:"selectAi"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.channelSource===e.CHANNEL_SOURCE_TYPES.exist,expression:"channelSource === CHANNEL_SOURCE_TYPES.exist"}]},[t("chat-item",{model:{value:e.selectExist,callback:function(t){e.selectExist=t},expression:"selectExist"}}),t("chat-item",{model:{value:e.channelMessage,callback:function(t){e.channelMessage=t},expression:"channelMessage"}}),t("chat-item",{directives:[{name:"show",rawName:"v-show",value:e.selectChannelList.length,expression:"selectChannelList.length"}],model:{value:e.channelListText,callback:function(t){e.channelListText=t},expression:"channelListText"}}),t("chat-item",{directives:[{name:"show",rawName:"v-show",value:e.selectChannelList.length,expression:"selectChannelList.length"}],model:{value:e.channelConfig,callback:function(t){e.channelConfig=t},expression:"channelConfig"}}),t("chat-item",{directives:[{name:"show",rawName:"v-show",value:e.selectChannelList.length&&e.selectChannelConfig.text,expression:"selectChannelList.length && selectChannelConfig.text"}],model:{value:e.channelFullText,callback:function(t){e.channelFullText=t},expression:"channelFullText"}})],1)],1):e._e()},Z=[],ee=s("d39c"),te={props:{taskType:{type:String,default:"product"},initialValue:{type:Object,default:()=>({})}},components:{ChatItem:A},computed:{...Object(h["b"])("AiIntelligence",["channelSource","selectChannelList","selectChannelConfig"])},watch:{selectChannelList:{deep:!0,handler(){this.handleChannelChange()}},selectChannelConfig:{deep:!0,handler(){this.handleChannelChange()}}},data(){return{source:null,selectAi:null,selectExist:null,channelMessage:null,channelListText:null,channelConfig:null,channelFullText:null,messageList:[],handByChannelList:[],CHANNEL_SOURCE_TYPES:I["c"],inited:!1}},created(){this.init()},methods:{async init(){this.source=M(this.channelSource);const e=this.source.selectOptions.find(e=>e.value===I["c"].auto),t=this.source.selectOptions.find(e=>e.value===I["c"].exist);this.selectAi=E(e.text),this.selectExist=E(t.text),await this.handleChannelInput(),this.channelListText=E(""),this.channelConfig=V("",this.selectChannelConfig.value),this.channelFullText=E({messageText:"",dangerouslyUseHTMLString:!0}),this.inited=!0,this.selectChannelList.length&&this.handleChannelChange(!1)},async sourceChange(){const e=this.source.selectOptions.find(e=>e.isSelect);e&&(this.messageList.push(E(e.text)),this.handByChannelList.length||await this.handleChannelInput(),this.scrollToBottom())},handleChannelChange(e=!0){const t=this.selectChannelList.map(e=>e.channelName).join(","),s=this.selectChannelConfig.text||"",i=s?"-"+s:"",a=this.selectChannelList.map(e=>`<p>#${e.channelName+i};</p>`).join("");this.channelConfig.title=`请选择"${t}"的渠道参数`,this.channelListText.messageText=t,this.channelFullText.messageText=a,e&&this.scrollToBottom()},async receiveMessage(){},async handleChannelInput(){const e=await Object(S["i"])(ee["a"].seapi.getOnlineChannelsByUser,{onlineStatus:"1",isSupportAI:1}).catch(()=>{});e&&e.length?(this.handByChannelList=e,this.channelMessage=N(e,this.selectChannelList.map(e=>e.channelId))):0===this.handByChannelList.length&&(this.channelMessage=U("未查询到相应渠道"))},scrollToBottom(){this.$emit("scroll","channelRule")},validate(){return""!==this.channelSource&&(this.channelSource===I["c"].auto||(this.channelSource!==I["c"].exist||!!this.selectChannelList.length&&void 0!==this.selectChannelConfig.value))}}},se=te,ie=Object(v["a"])(se,J,Z,!1,null,"3fdbf0a7",null),ae=ie.exports,ne=function(){var e,t=this,s=t._self._c;return s("div",{staticClass:"rule-box ai-model"},[s("chat-item",{model:{value:t.chartMessage,callback:function(e){t.chartMessage=e},expression:"chartMessage"}},[s("customer-chart",{attrs:{tableData:t.tableData,scoreLoading:t.scoreLoading},on:{reload:function(e){return t.$emit("reload","score")}}})],1),t.scoreLoading?s("chat-item",{model:{value:t.wait,callback:function(e){t.wait=e},expression:"wait"}}):s("chat-item",{model:{value:t.selectQuestion,callback:function(e){t.selectQuestion=e},expression:"selectQuestion"}}),t.selectItem?s("chat-item",{model:{value:t.selectAnswer,callback:function(e){t.selectAnswer=e},expression:"selectAnswer"}}):t._e(),t.selectMode===t.MODEL_PARAM_TYPES.score?s("chat-item",{model:{value:t.scoreQuestion,callback:function(e){t.scoreQuestion=e},expression:"scoreQuestion"}},[s("el-slider",{attrs:{range:"","show-stops":"",step:10,"format-tooltip":e=>(e/100).toFixed(1),marks:t.marks},on:{change:t.handleSelect,input:t.changeScoreRange},model:{value:t.aiScoreRange,callback:function(e){t.aiScoreRange=e},expression:"aiScoreRange"}})],1):t._e(),t.selectMode===t.MODEL_PARAM_TYPES.num&&""!==t.peopleCnt?s("chat-item",{model:{value:t.numAnswer,callback:function(e){t.numAnswer=e},expression:"numAnswer"}}):t._e(),t.selectMode===t.MODEL_PARAM_TYPES.score&&t.range.length?s("chat-item",{model:{value:t.scoreAnswer,callback:function(e){t.scoreAnswer=e},expression:"scoreAnswer"}}):t._e(),null!==(e=t.rangeValue)&&void 0!==e&&e.range.length?s("el-button",{staticClass:"create-scene",attrs:{type:"primary"},on:{click:t.createScene}},[t._v("一键生成策略画布")]):t._e()],1)},le=[],ce=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chart-layout"},[e.scoreLoading?t("Loader",{attrs:{text:"AI计算中"}}):e._e(),t("div",{staticClass:"title"},[t("span",[e._v("预测客群触达规模"+e._s(e.custNum)+"人")]),t("el-tooltip",{attrs:{effect:"dark",content:"点击重新计算",placement:"left"}},[t("i",{staticClass:"el-icon-refresh",on:{click:function(t){return e.$emit("reload")}}})])],1),t("div",{ref:"echartsDomRef",staticClass:"chart-table"})],1)},oe=[],re=(s("13d5"),s("538c"));const ue={title:{text:""},tooltip:{axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["0","0.1","0.2","0.3","0.4","0.5","0.6","0.7","0.8","0.9","1.0"]}],yAxis:[{type:"value"}],series:[]};var de={components:{Loader:()=>Promise.resolve().then(s.bind(null,"9267"))},props:{tableData:{type:Array,default:()=>[]},scoreLoading:{type:Boolean,default:!1}},computed:{...Object(h["b"])("AiIntelligence",["selectProductList","productSource","selectedProductId"])},mixins:[re["a"]],data(){return{custNum:0}},watch:{tableData:{deep:!0,handler(){this.setEchartOption()}},selectedProductId:{handler(e){e&&""!==e&&this.setEchartOption(e)}}},mounted(){this.$nextTick(()=>{this.setEchartOption()})},methods:{setEchartOption(e=""){ue.legend.data=[],ue.series=[];let t=0;const s=""===e?this.tableData[0]:this.tableData.find(t=>t[0].productId===e);if(s){const e=s.length&&s[0].productName||0;ue.legend.data.push(e),ue.series.push({name:e,type:"line",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:[0,...Array.isArray(s)?s.map(e=>e.custNum):[]]}),Array.isArray(s)&&(t+=s.map(e=>e.custNum||0).reduce((e,t)=>e+t,0))}this.echart.setOption(ue),this.custNum=t}}},he=de,pe=(s("8921c"),Object(v["a"])(he,ce,oe,!1,null,"26d402a4",null)),me=pe.exports,ge={props:{taskType:{type:String,default:"product"},initialValue:{type:Object,default:()=>({})},tableData:{type:Array,default:()=>[]},scoreLoading:{type:Boolean,default:!1}},components:{ChatItem:A,CustomerChart:me},computed:{...Object(h["b"])("AiIntelligence",["rangeValue"]),selectItem(){const e=this.selectQuestion.selectOptions.find(e=>e.isSelect);return e},selectMode(){return this.selectItem&&this.selectItem.value}},watch:{selectItem(){this.selectMode===I["e"].score?(this.selectAnswer.title="请选择"+this.selectItem.text,this.handleSelect(this.range.length?this.range.map(e=>100*e):this.aiScoreRange)):this.selectMode===I["e"].num&&(this.selectAnswer.title="请输入"+this.selectItem.text),this.scrollToBottom()},scoreLoading(e){e||this.selectMode===I["e"].score&&this.scoreAnswer.messageText&&this.$nextTick(()=>{this.handleSelect(this.aiScoreRange,!1)})}},data(){return{MODEL_PARAM_TYPES:I["e"],chartMessage:U(""),selectQuestion:k(),selectAnswer:U(""),wait:U("正在预测客群触达规模，请稍等..."),scoreQuestion:U(""),numAnswer:E(""),scoreAnswer:E(""),range:[],aiScoreRange:[60,100],peopleCnt:"",marks:{0:"0",10:"0.1",20:"0.2",30:"0.3",40:"0.4",50:"0.5",60:"0.6",70:"0.7",80:"0.8",90:"0.9",100:"1"},inited:!1}},created(){this.init()},mounted(){this.$nextTick(()=>{this.inited=!0})},methods:{receiveMessage(e,t=!0){if(!this.selectItem)return void this.$message.info("请选择目标参数");if(this.selectMode!==I["e"].num)return;const s=e.replace(/[^\d]/g,"");s&&(this.peopleCnt=s,this.numAnswer.messageText="目标客群规模"+s,this.$store.commit("AiIntelligence/setRangeValue",{type:this.selectMode,range:[s],text:this.numAnswer.messageText}),t&&this.scrollToBottom())},changeScoreRange(e){e[0]===e[1]&&(0===e[0]?this.aiScoreRange=[0,10]:100===e[0]?this.aiScoreRange=[90,100]:this.aiScoreRange=[e[0],e[1]+10])},getTotalPeopleNum(){if(0===this.tableData.length)return 0;const e=parseInt(10*this.range[0]),t=parseInt(10*this.range[1])-1;let s=0;return this.tableData.forEach(i=>{for(let a=e;a<=t;a++)s+=i[a].custNum}),s},handleSelect(e,t=!0){let[s,i]=e;const a=this.marks[s],n=this.marks[i];this.range=[a,n];const l=this.getTotalPeopleNum(),c="推荐度选择："+this.range.join("-");this.scoreAnswer.messageText=`${c}，触达规模：${l}人`,this.$store.commit("AiIntelligence/setRangeValue",{type:this.selectMode,range:this.range,text:c}),t&&this.scrollToBottom()},init(){this.initMessageList()},initMessageList(){const{type:e,range:t}=this.rangeValue;if(this.selectQuestion=k(e),e===I["e"].num)this.receiveMessage(t[0],!1);else if(e===I["e"].score){const e=t.map(e=>100*+e);this.aiScoreRange=e,this.handleSelect(e,!1)}},scrollToBottom(){this.inited&&this.$emit("scroll","aiModelRule")},validate(){return!Q(this.rangeValue.type)&&this.rangeValue.range.length},createScene(){this.$emit("createScene")}}},fe=ge,ve=(s("5bbb"),Object(v["a"])(fe,ne,le,!1,null,"998b52c4",null)),be=ve.exports,Ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"import_product_box"},[t("div",{staticClass:"title"},[e._v("产品列表")]),t("div",{staticClass:"content"},[t("batch-import-product",{staticClass:"batch_import_btn",attrs:{showTemplateDownload:!1},on:{uploadSuccess:e.uploadSuccess}}),t("el-table",{ref:"productTable",staticClass:"Mp-table",staticStyle:{width:"100%"},attrs:{height:"100%",data:e.totalProductList}},[t("el-table-column",{attrs:{label:"",width:"50"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"check_box_warper"},[t("el-checkbox",{attrs:{value:e.isExist(s.row)>=0,disabled:s.row.disabled}}),t("div",{staticClass:"check_box_masker",on:{click:function(t){return e.rowCheckChange(s.row)}}})],1)]}}])}),t("el-table-column",{attrs:{label:"产品类型",prop:"itemType",width:"80"}}),t("el-table-column",{attrs:{label:"产品名称","show-overflow-tooltip":!0,width:"120"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"productName",on:{click:function(t){return e.showDetail(s.row)}}},[e._v(e._s(s.row.planName))])]}}])})],1)],1),t("el-dialog",{attrs:{width:"800px",title:"产品详情",visible:e.showProductDetail,"before-close":e.dialogRetrun,"append-to-body":!0}},[t("div",{staticClass:"product_detail_content"},[e.showProductDetail?t("product-content",{attrs:{planId:e.planId}}):e._e()],1)])],1)},ye=[],Ce=s("121a"),Se=s("b573"),we={components:{ProductContent:Ce["a"],BatchImportProduct:Se["default"]},props:{multiple:{type:Boolean,default:()=>!0},excluedList:{type:Array,default:()=>[]},initialSelection:{type:Array,default:()=>[]}},computed:{...Object(h["b"])("AiIntelligence",["totalProductList","selectProductList"]),table(){return this.$refs.productTable}},data(){return{showProductDetail:!1,planId:""}},created(){},methods:{uploadSuccess(e){this.updateTableList(e)},isInExcludeList(e){return this.excluedList.some(t=>t.planId===e)},rowCheckChange(e){if(e.disabled)return;const{id:t,...s}=e,i=this.isExist(e);if(i>=0)this.$store.commit("AiIntelligence/spliceSelectProdList",i);else{const t=this.isInExcludeList(e.planId);if(t)return void this.$message.error("您已经添加过该商品，请勿重复添加");this.multiple?this.$store.commit("AiIntelligence/addSelectProdList",s):this.$store.commit("AiIntelligence/setSelectProdList",[s])}},isExist(e){return this.selectProductList.findIndex(t=>t.planId===e.planId)},dialogRetrun(){this.showProductDetail=!1,this.visible=!0},initMultipleSelection(){this.updateTableList(this.initialSelection),this.$store.commit("AiIntelligence/setSelectProdList",[...this.initialSelection])},doLayout(){this.table&&this.table.doLayout()},showDetail({planId:e}){this.planId=e,this.showProductDetail=!0},updateSelectList(e=[]){this.$store.commit("AiIntelligence/diffSelectProdList",e)},updateTableList(e=[]){this.$store.commit("AiIntelligence/updateTotalProdList",e)}}},Le=we,Ie=(s("16ef"),Object(v["a"])(Le,Ae,ye,!1,null,"1656193f",null)),xe=Ie.exports,De=function(){var e=this,t=e._self._c;return t("div",{staticClass:"import_customer_box"},[t("div",{staticClass:"title"},[e._v("客群列表")]),t("div",{staticClass:"content"},[t("batch-import-product",{staticClass:"batch_import_btn",attrs:{type:"customer"},on:{uploadSuccess:e.uploadSuccess}}),t("el-table",{ref:"productTable",staticClass:"Mp-table",staticStyle:{width:"100%"},attrs:{height:"100%",data:e.totalCustomGroupList}},[t("el-table-column",{attrs:{label:"",width:"30"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"check_box_warper"},[t("el-radio",{attrs:{value:e.selectCustomGroup.customGroupId,label:s.row.customGroupId,disabled:s.row.disabled}},[e._v(" "+e._s(null)+" ")]),t("div",{staticClass:"check_box_masker",on:{click:function(t){return e.rowCheckChange(s.row)}}})],1)]}}])}),t("el-table-column",{attrs:{label:"",prop:"customGroupName","show-overflow-tooltip":!0,width:"200"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{on:{click:function(t){return e.rowCheckChange(s.row)}}},[t("p",[e._v("客群编码："+e._s(s.row.customGroupId))]),t("p",[e._v("客群名称："+e._s(s.row.customGroupName))])])]}}])})],1)],1)])},Te=[],Me={components:{BatchImportProduct:Se["default"]},props:{initialSelection:{type:Array,default:()=>null}},computed:{...Object(h["b"])("AiIntelligence",["selectCustomGroup","totalCustomGroupList"]),table(){return this.$refs.productTable}},data(){return{source:null,calcResult:!0}},created(){this.initMultipleSelection()},methods:{uploadSuccess(e){this.updateTableList(e)},async rowCheckChange(e){e.disabled||(e.finalExpression||(e.finalExpression=await F(e)),e.finalExpression&&(this.$store.commit("AiIntelligence/setFinalExpression",e.finalExpression),this.$store.commit("AiIntelligence/setSelectCustomGroup",e)))},initMultipleSelection(){this.initialSelection&&(this.updateTableList([this.initialSelection]),this.$store.commit("AiIntelligence/setSelectCustomGroup",this.initialSelection))},doLayout(){this.table&&this.table.doLayout()},updateTableList(e=[]){this.$store.commit("AiIntelligence/updateTotalCustomGroupList",e)}}},ke=Me,Ee=(s("ec5d"),Object(v["a"])(ke,De,Te,!1,null,"c676f2a2",null)),Oe=Ee.exports,Pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"import_label_box"},[t("div",{staticClass:"title"},[e._v("标签列表")]),t("div",{staticClass:"content"},[t("batch-import-product",{staticClass:"batch_import_btn",attrs:{type:"label"},on:{uploadSuccess:e.uploadSuccess}}),t("el-table",{ref:"productTable",staticClass:"Mp-table",staticStyle:{width:"100%"},attrs:{height:"100%",data:e.totalLabelList}},[t("el-table-column",{attrs:{label:"",width:"50"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"check_box_warper"},[t("el-checkbox",{attrs:{value:e.isExist(s.row)>=0,disabled:s.row.disabled}}),t("div",{staticClass:"check_box_masker",on:{click:function(t){return e.rowCheckChange(s.row)}}})],1)]}}])}),t("el-table-column",{attrs:{label:"标签名称",prop:"columnName",width:"200"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.selectLabelList.length,expression:"selectLabelList.length"}],staticClass:"label-rule"},[t("div",{staticClass:"title"},[e._v("标签规则")]),e._l(e.selectLabelList,(function(s){return t("div",{key:s.columnNum},[t("label-condition",{ref:"labelConditon",refInFor:!0,attrs:{labelList:e.selectLabelList,conditonList:e.selectLabelExpList,initialCondition:s},on:{change:e.calcSceneCount}})],1)})),t("div",{staticClass:"customer-num"},[e._v("客群规模： "),null!==e.form.customerNum?t("span",[e._v(" "+e._s(e.form.customerNum)+"人 ")]):e._e(),e.calcLoading?t("span",{staticClass:"tip"},[t("i",{staticClass:"el-icon-loading"}),e._v("计算中")]):e._e(),e.calcLoading||e.calcResult?e._e():t("span",{staticClass:"tip-error"},[t("i",{staticClass:"el-icon-warning-outline"}),e._v("客群数计算失败，请重新选择场景条件！ ")])])],2)])},Ne=[],Re=function(){var e=this,t=e._self._c;return t("div",{staticClass:"label-condition-box"},[t("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.onColumnChange},model:{value:e.condition.columnNum,callback:function(t){e.$set(e.condition,"columnNum",t)},expression:"condition.columnNum"}},e._l(e.labelList,(function(e){return t("el-option",{key:e.columnNum,attrs:{label:e.columnName,value:e.columnNum}})})),1),2!=e.condition.valueType?[t("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:e.calcTypeChange},model:{value:e.condition.calType,callback:function(t){e.$set(e.condition,"calType",t)},expression:"condition.calType"}},e._l(e.calcConditionList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-select",{staticClass:"tags-select-input",staticStyle:{width:"200px"},attrs:{"value-key":"value",multiple:"","collapse-tags":"",filterable:""},on:{change:e.valueChange},model:{value:e.condition.selectedValues,callback:function(t){e.$set(e.condition,"selectedValues",t)},expression:"condition.selectedValues"}},e._l(e.condition.valueList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)]:[t("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:e.calcTypeChange},model:{value:e.condition.calType,callback:function(t){e.$set(e.condition,"calType",t)},expression:"condition.calType"}},e._l(e.calcConditionListNum,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.between.includes(e.condition.calType)?[t("el-input-number",{staticStyle:{width:"80px"},on:{change:e.valueChange},model:{value:e.condition.numVal1,callback:function(t){e.$set(e.condition,"numVal1",t)},expression:"condition.numVal1"}}),t("span",[e._v("-")]),t("el-input-number",{staticStyle:{width:"80px"},on:{change:e.valueChange},model:{value:e.condition.numVal2,callback:function(t){e.$set(e.condition,"numVal2",t)},expression:"condition.numVal2"}})]:t("el-input-number",{staticStyle:{width:"200px"},on:{change:e.valueChange},model:{value:e.condition.value,callback:function(t){e.$set(e.condition,"value",t)},expression:"condition.value"}})]],2)},Be=[],Ue=s("bdad");let Ve=new Map;var Fe={props:{labelList:{type:Array,default:()=>[]},initialCondition:{type:Object,default:()=>({})},conditonList:{type:Array,default:()=>[]}},data(){return{condition:{id:Object(Ue["c"])(),type:"",columnNum:null,columnName:null,valueType:null,calType:null,conditionValue:null,valueList:[],selectedValues:[],value:void 0,numVal1:void 0,numVal2:void 0,conditionDesc:""},calcConditionList:C["a"],between:["()","(]","[)","[]"],calcConditionListNum:C["b"]}},created(){if(this.condition.columnNum=this.initialCondition.columnNum||"",this.condition.columnNum){const e=this.conditonList.find(e=>e.columnNum===this.condition.columnNum);e&&(this.condition=e),this.onColumnChange(!1)}},methods:{calcTypeChange(){let e=!0;if(2===this.condition.valueType)if(this.between.includes(this.condition.calType)){this.condition.value=void 0;const t=typeof this.condition.numVal1,s=typeof this.condition.numVal2;"number"===t&&"number"===s||(e=!1)}else this.condition.numVal1=void 0,this.condition.numVal2=void 0,"number"!==typeof this.condition.value&&(e=!1);else this.condition.selectedValues.length||(e=!1);e&&this.$emit("change",this.condition)},valueChange(){if(2===this.condition.valueType){if(this.between.includes(this.condition.calType)){if("number"!==typeof this.condition.numVal1||"number"!==typeof this.condition.numVal2)return}else if("number"!==typeof this.condition.value)return}else if(!this.condition.selectedValues.length)return;this.$emit("change",this.condition)},async onColumnChange(e=!0){e&&(this.condition.selectedValues=[],this.condition.value=void 0,this.condition.numVal1=void 0,this.condition.numVal2=void 0);const t=this.labelList.find(e=>e.columnNum===this.condition.columnNum);this.condition.columnName=t.columnName,this.condition.valueType=t.valueType;let s=Ve.get(this.condition.columnNum);s||(s=this.queryMappingValue(this.condition.columnNum),Ve.set(this.condition.columnNum,s));const i=await s,a=i&&i.records||[],n=a.map(e=>({...e,label:Object(C["c"])(e)}));this.condition.valueList=n},queryMappingValue(e){return Object(S["i"])(w["a"].valuePage,{columnNum:e,current:1,size:1e3}).catch(()=>{Ve.set(e,null)})}}},Qe=Fe,Ge=(s("ca37"),Object(v["a"])(Qe,Re,Be,!1,null,"56bef66b",null)),Ye=Ge.exports,je={components:{BatchImportProduct:Se["default"],LabelCondition:Ye},props:{multiple:{type:Boolean,default:()=>!0},excluedList:{type:Array,default:()=>[]},initialSelection:{type:Array,default:()=>[]}},computed:{...Object(h["b"])("AiIntelligence",["selectLabelList","totalLabelList","selectLabelExpList"]),table(){return this.$refs.productTable}},data(){return{source:null,calcLoading:!1,calcResult:!0,form:{sceneId:"",sceneName:"",attrType:"0",selectCustomerList:[],customerInfo:{},selectAttrList:[],selectAttrStr:"",customerNum:null,conditionDesc:"",conditionParams:[],conditions:[],validateC:null}}},watch:{selectLabelList(e){e.length?this.$nextTick(()=>{this.calcSceneCount()}):this.form.customerNum=0}},created(){},methods:{assembleParams(){if(!this.$refs.labelConditon)return null;const e=this.$refs.labelConditon.filter(e=>{if(!e.condition.calType)return!1;if(1===e.condition.valueType)return e.condition.selectedValues.length;if(2===e.condition.valueType){const t=["()","(]","[)","[]"];return t.includes(e.condition.calType)?void 0!==e.condition.numVal1&&void 0!==e.condition.numVal2:void 0!==e.condition.value}return!0}).map(e=>e.condition);if(!e.length||e.length!==this.$refs.labelConditon.length)return this.form.customerNum=0,this.$store.commit("AiIntelligence/setSelectLabelExpList",[]),null;this.$store.commit("AiIntelligence/setSelectLabelExpList",e);const t=Object(C["e"])(e,this.form);return this.form.conditionParams=Object(C["f"])(e,this.form),t},async calcSceneCount(){const e=this.assembleParams();if(this.calcLoading&&this.source.cancel("取消未完成的请求"),!e)return this.calcLoading=!1,this.calcResult=!1,void(this.form.customerNum=0);this.source=this.$CancelToken.source();try{this.calcLoading=!0;const t=await Object(S["i"])(w["a"].getTargetUserCount,e,this.source.token,12e4);this.form.customerNum=t.count||0,this.calcLoading=!1,this.calcResult=!0,this.$store.commit("AiIntelligence/setFinalExpression",t.finalExpression)}catch(t){if("取消未完成的请求"===t.message)return;this.calcLoading=!1,this.calcResult=!1,this.form.customerNum=null}},uploadSuccess(e){this.updateTableList(e)},isInExcludeList(e){return this.excluedList.some(t=>t.columnNum===e)},rowCheckChange(e){if(e.disabled)return;const t=this.isExist(e);if(t>=0)this.$store.commit("AiIntelligence/spliceSelectLabelList",t);else{const t=this.isInExcludeList(e.columnNum);if(t)return void this.$message.error("您已经添加过该商品，请勿重复添加");this.multiple?this.$store.commit("AiIntelligence/addSelectLabelList",e):this.$store.commit("AiIntelligence/setSelectLabelList",[e])}},isExist(e){return this.selectLabelList.findIndex(t=>t.columnNum===e.columnNum)},initMultipleSelection(){this.updateTableList(this.initialSelection),this.$store.commit("AiIntelligence/setSelectLabelList",[...this.initialSelection])},doLayout(){this.table&&this.table.doLayout()},updateSelectList(e=[]){this.$store.commit("AiIntelligence/diffSelectLabelList",e)},updateTableList(e=[]){this.$store.commit("AiIntelligence/updateTotalLabelList",e)}}},_e=je,qe=(s("c363"),Object(v["a"])(_e,Pe,Ne,!1,null,"7518ce0a",null)),Ke=qe.exports,$e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"prod_cust_forcest"},[t("div",{staticClass:"title"},[t("span",[e._v("AI预测结果")]),t("el-select",{on:{change:e.changeSelect},model:{value:e.productId,callback:function(t){e.productId=t},expression:"productId"}},e._l(e.selectList,(function(e){return t("el-option",{key:e.productId,attrs:{label:e.productName,value:e.productId}})})),1)],1),t("div",{staticClass:"content"},[t("el-table",{staticClass:"Mp-table",staticStyle:{width:"100%"},attrs:{data:e.tableList}},[t("el-table-column",{attrs:{label:"推荐度",prop:"range",width:"80",align:"center"}}),t("el-table-column",{attrs:{label:"预测客群触达规模",prop:"custNum",width:"120",align:"center"}})],1)],1)])},He=[],Xe={props:{tableData:{type:Array,default:()=>[]}},watch:{tableData:{immediate:!0,handler(){this.setDefaultId()}}},data(){return{productId:""}},computed:{selectList(){const e=this.tableData.map(e=>Array.isArray(e)?e[0]:"");return e[0]&&e[0].productId?e:[]},tableList(){const e=this.tableData.find(e=>e[0]&&e[0].productId===this.productId)||[];return e}},created(){},methods:{setDefaultId(){this.tableData.length&&this.tableData[0].length&&(this.productId=this.tableData[0][0].productId)},changeSelect(e){this.productId=e,this.$store.commit("AiIntelligence/setProductId",e)}}},We=Xe,ze=(s("a1fe"),Object(v["a"])(We,$e,He,!1,null,"13e2498a",null)),Je=ze.exports,Ze=function(){var e=this,t=e._self._c;return t("section",[t("header",[e._v(e._s(e.title))]),t("main",e._l(e.list,(function(s,i){return t("div",{key:i,staticClass:"rule-item"},[t("div",{staticClass:"title ellipsis"},[e._v(e._s(s.title))]),t("div",{staticClass:"content"},e._l(s.contents,(function(s,i){return t("p",{key:i,staticClass:"ellipsis",attrs:{title:s}},[e._v(e._s(s))])})),0)])})),0)])},et=[],tt={props:{title:String,list:{type:Array,default:()=>{}}}},st=tt,it=(s("a2aa"),Object(v["a"])(st,Ze,et,!1,null,"7dec6b28",null)),at=it.exports,nt=s("9267"),lt=s("ec26"),ct=()=>Object(lt["a"])().split("-")[0],ot={props:{viewType:String,initialValue:Object},components:{ProductRule:q,CustomerRule:z,ChannelRule:ae,AiModelRule:be,DialogSend:n["default"],ImportProduct:xe,ImportCustomer:Oe,ImportLabel:Ke,ProdCustScoreTable:Je,WorkStation:at,Loader:nt["default"]},computed:{...Object(h["b"])("AiIntelligence",["rangeValue","customSource","channelSource","productSource","selectProductList","selectLabelList","selectLabelExpList","selectCustomGroup","selectChannelList","selectChannelConfig","finalExpression"]),workStationList(){let e=[];this.customSource===I["d"].group?e.push(this.selectCustomGroup.customGroupName):this.customSource===I["d"].label?e=this.selectLabelList.map(e=>e.columnName):this.customSource===I["d"].auto&&(e=["无限制，AI推荐"]);let t="";t=this.channelSource===I["c"].auto?["无限制，AI推荐"]:this.selectChannelList.map(e=>e.channelName+"-"+(this.selectChannelConfig.text||""));const s=this.productSource===I["f"].auto?["无限制，AI推荐"]:this.selectProductList.map(e=>e.planName);return[{title:"产品规则",contents:s},{title:"客群规则",contents:e},{title:"渠道规则",contents:t},{title:"AI模型参数",contents:[this.rangeValue.text]}]},scoreVariable(){return{productSource:this.productSource,selectProductList:this.selectProductList,customSource:this.customSource,finalExpression:this.finalExpression,channelSource:this.channelSource,selectChannelList:this.selectChannelList}}},watch:{scoreVariable:{deep:!0,handler(){this.getScoreRangeBatch()}}},data(){return{saveLoading:!1,isAllShow:!0,CUSTOMER_SOURCE_TYPES:I["d"],activeTab:"",firstMessage:null,tableData:[],oriTabs:[{label:"产品规则",type:"productRule",component:"ProductRule",isActived:!1},{label:"客群规则",type:"customerRule",component:"CustomerRule",isActived:!1},{label:"渠道规则",type:"channelRule",component:"ChannelRule",isActived:!1},{label:"AI模型参数",type:"aiModelRule",component:"AiModelRule",isActived:!1}],tabs:[],taskType:this.viewType,source:"",getScoreRangeBatchLoading:!1}},created(){this.init()},methods:{init(){this.initialValue&&(void 0!==this.initialValue.taskType&&(this.taskType=this.initialValue.taskType),this.$store.commit("AiIntelligence/initState",this.initialValue),this.oriTabs.forEach(e=>e.isActived=!0));const[e,t,...s]=this.oriTabs;this.taskType===I["a"].customer?(this.activeTab="customerRule",t.isActived=!0,this.tabs=[t,e,...s]):(this.activeTab="productRule",e.isActived=!0,this.tabs=[e,t,...s],this.$store.commit("AiIntelligence/setProductSource",I["f"].exist))},async createScene(){if(!this.validateAll())return;const e=+this.taskType,t=this.rangeValue.type===I["e"].score?this.rangeValue.range:[],s=this.rangeValue.type===I["e"].num?this.rangeValue.range[0]:null,i=this.channelSource===I["c"].auto?-1:this.selectChannelList.map(e=>e.channelId).join(","),a=this.productSource===I["f"].auto?[{planId:-1}]:this.selectProductList,n=this.customSource===I["d"].auto?[]:[this.finalExpression],l=Object(C["d"])({crossJoin:!0,taskType:e,channelId:i,scoreRange:t,peopleCnt:s,productList:a,ruleList:n,isManualPerfection:this.selectChannelConfig.value});if(!l)return;this.saveLoading=!0;const c=await Object(S["i"])(w["a"].getInferenceResByAI,l,void 0,12e4).catch(e=>{var t;null!==(t=e.message)&&void 0!==t&&t.includes("timeout")&&this.$message.error("AI执行推理任务超时！")}).finally(()=>{this.saveLoading=!1});if(!c)return;const{respondVOList:o,aitaskId:r}=c;if(!o||!o.length)return void this.$message.error(c.message||"AI执行推理任务失败！");{const e=o.some(e=>!e.custVO||"0"===e.custVO.custNum);if(e)return void this.$alert("AI执行推理任务未返回匹配数据，请重新选择规则！","提示",{confirmButtonText:"确定",customClass:"errorPrompt",callback:()=>{}})}const u={taskType:this.taskType,productSource:this.productSource,selectProductList:this.selectProductList,customSource:this.customSource,selectCustomGroup:this.selectCustomGroup,selectLabelList:this.selectLabelList,selectLabelExpList:this.selectLabelExpList,finalExpression:this.finalExpression,channelSource:this.channelSource,selectChannelList:this.selectChannelList,selectChannelConfig:this.selectChannelConfig,rangeValue:this.rangeValue},d={taskType:e,aitaskId:r,businessData:u,activityList:o};this.$router.push({name:"CreateScene",query:{type:"2"},params:d})},async getScoreRangeBatch(){if(this.productSource!==I["f"].auto&&!this.selectProductList.length)return;if(this.customSource!==I["d"].auto&&!this.finalExpression)return;if(this.channelSource!==I["d"].auto&&!this.selectChannelList.length)return;const e="1,3",t=this.productSource===I["f"].auto?[-1]:this.selectProductList.map(e=>e.planId),s=this.channelSource===I["c"].auto?[-1]:this.selectChannelList.map(e=>e.channelId),i=this.customSource===I["d"].auto?"":this.finalExpression;let a=[];t.forEach(t=>{s.forEach(s=>{a.push({marketGoal:e,productId:t,channelId:s,dnaRule:i})})}),this.getScoreRangeBatchLoading&&this.source.cancel("取消上次请求"),this.source=this.$CancelToken.source(),this.getScoreRangeBatchLoading=!0,this.tableData=[];try{const e=await Object(S["i"])(w["a"].queryScoreRangeBatch,{data:a},this.source.token,12e4);e&&e.length>0&&e.map(e=>{const t=ct(),s=`${e[0].productName}(${e[0].channelName})`;return e.map(e=>{e.productName=s,e.productId=t})}),this.tableData=e,this.getScoreRangeBatchLoading=!1}catch(l){var n;this.getScoreRangeBatchLoading=!1,null!==(n=l.message)&&void 0!==n&&n.includes("timeout")&&this.$message.error("获取评分范围失败，请刷新重新计算！")}},reload(e){"score"===e&&this.getScoreRangeBatch()},async messageRecive(e){if(!e)return;const t=this.$refs[this.activeTab];t&&t[0].receiveMessage(e)},validateTabSwitch(e){const t=this.tabs.findIndex(t=>t.type===e),s=this.tabs[t-1];if(s){const e=this.$refs[s.type][0],t=e.validate();return!t&&this.$message.error("请先完善"+s.label+"信息"),t}return!0},validateAll(){let e=!0;for(let t=0;t<this.tabs.length;t++){const s=this.tabs[t],i=this.$refs[s.type][0],a=i.validate();if(!a){e=!1,this.$message.error("请先完善"+s.label+"信息");break}}return e},changeTab(e){if(!this.validateTabSwitch(e.type))return;this.activeTab=e.type;const t=this.tabs.find(e=>e.type===this.activeTab);t.isActived=!0,this.scrollToBottom()},scroll(e){this.changeTab({type:e}),this.scrollToBottom()},scrollToBottom(){this.stopScroll||this.$nextTick(()=>{const e=this.$refs.chatBox;if(this.isAllShow){const t=this.tabs.findIndex(e=>e.type===this.activeTab),s=this.tabs[t+1];if(s){const t=this.$el.querySelector(`.${s.type}-messages`);e.scrollTop=t.offsetTop-e.clientHeight}else e.scrollTop=e.scrollHeight-e.clientHeight}else e.scrollTop=e.scrollHeight-e.clientHeight})},changeSelect(e){this.$refs[this.activeTab]},goBack(){this.$emit("update:viewType",""),this.$store.commit("AiIntelligence/clearState"),this.$parent.sceneInfo=null}}},rt=ot,ut=(s("552d"),Object(v["a"])(rt,l,c,!1,null,"b286dbd0",null)),dt=ut.exports,ht={components:{DialogSend:n["default"],Chat:dt},data(){return{CAMPSEG_VIEW_TYPES:I["a"],activeType:"",flowList:[{icon:s("1a81"),title:"Al智能创建策略：产品视角",desc:"以想要营销的产品为基准，通过Al模型智能生产推荐策略",type:I["a"].product},{icon:s("09c9"),title:"Al智能创建策略：客户视角",desc:"在确定的客群基础上，通过Al模型智能生产推荐策略",type:I["a"].customer},{icon:s("44e5"),title:"操作手册获取",desc:"点击获取操作手册",type:I["a"].helperDoc}],sceneInfo:null}},beforeCreate(){this.$store.commit("AiIntelligence/clearState")},created(){const e=this.$route.params;void 0!==e.taskType&&void 0!==e.businessData&&(this.sceneInfo=e.businessData,this.activeType=""+e.taskType)},methods:{selectType(e){this.activeType=e,this.activeType===I["a"].helperDoc?this.downloadDoc("AI操作手册.docx"):this.activeType===I["a"].customer?this.handleSelectCustomer():this.activeType===I["a"].product&&this.handleSelectProduct()},downloadDoc(e){Object(S["b"])(w["a"].downloadChanPromptFile,{fileUrlAndName:e}).then(e=>e).then(({data:t,headers:s})=>{const i=s["content-disposition"]||"",a=i.split(".")[1]||"docx",n=new Blob([t],{type:t.type}),l=`${e.split(".")[0]}.${a}`,c=document.createElement("a");c.download=l,c.style.display="none",c.href=URL.createObjectURL(n),document.body.appendChild(c),c.click(),URL.revokeObjectURL(c.href),document.body.removeChild(c)})},handleSelectProduct(){},handleSelectCustomer(){},goBack(){this.$router.replace({name:"Blueprint",params:{}})}}},pt=ht,mt=(s("a9e8"),Object(v["a"])(pt,i,a,!1,null,"e35e4146",null));t["default"]=mt.exports},"756a":function(e,t,s){"use strict";s("c567")},"7d49":function(e,t,s){},"82be":function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return l})),s.d(t,"c",(function(){return u})),s.d(t,"e",(function(){return d})),s.d(t,"f",(function(){return h})),s.d(t,"d",(function(){return p}));s("d9e2"),s("14d9");var i=s("c1df"),a=s.n(i);const n=[{label:"=",value:"="},{label:">",value:">"},{label:"<",value:"<"},{label:">=",value:">="},{label:"<=",value:"<="},{label:"( ) 介于，左右不包括",value:"()"},{label:"( ] 介于，左不包括右包括",value:"(]"},{label:"[ ) 介于，左包括右不包括",value:"[)"},{label:"[ ] 介于，左右都包括",value:"[]"}],l=[{label:"等于",value:"="},{label:"不等于",value:"!="}],c={up:"提升",down:"降低",any:"任何变化",exact:"变成","=":"等于:","!=":"不等于:",">":"大于:","<":"小于:",">=":"大于等于:","<=":"小于等于:","[]":"介于:","()":"介于:","(]":"介于:","[)":"介于:",IN:"包含:",LK:"LIKE:"},o=sessionStorage.getItem("userId"),r=sessionStorage.getItem("userNameCn");function u(e){const t=["=","!=",">","<",">=","<="],s=["[]","()","(]","[)"],i=function(e){return"number"===typeof e?e:e||""},a=function(e){return e.condition=e.condition||e.conditions,"e="===e.condition?"非规范值":t.indexOf(e.condition)>=0?c[e.condition]+i(e["stringVal"])+(i(e["remark"])||i(e["startValue"])?i(e["startValue"])+""+i(e["remark"]):""):s.indexOf(e.condition)>=0?e["remark"]?c[e.condition]+`${e["startValue"]}-${e["endValue"]}`+e["remark"]:c[e.condition]+e["startValue"]+"至"+e["endValue"]:c[e.condition]+i(e["stringVal"])+(i(e["remark"])?i(e["remark"]):"")};return a(e)}function d(e,t){var s;return{sign:"",requestNo:"",version:"",pageIndex:0,pageSize:0,customerVo:{treeDetails:[{id:1,parentId:0,type:"root",calType:"=",columnName:null,columnNum:+(null===(s=t.customerInfo)||void 0===s?void 0:s.columnNum)||0,selectedValues:["Y"],updateCycle:null},...e.map((e,t)=>{var s;return{id:t+2,parentId:t+1,type:"normal",isFission:0,calType:e.calType,columnName:e.columnName,columnNum:e.columnNum,selectedValues:e.selectedValues,numVal1:null!==(s=e.numVal1)&&void 0!==s?s:e.value,numVal2:e.numVal2,updateCycle:null}})]}}}function h(e,t){var s;return[{id:1,parentId:0,type:"root",calType:"=",columnName:null,columnNum:+(null===(s=t.customerInfo)||void 0===s?void 0:s.columnNum)||0,selectedValues:["Y"],updateCycle:null},...e.map((e,t)=>{var s;return{id:t+2,parentId:t+1,type:"normal",isFission:0,calType:e.calType,columnName:e.columnName,columnNum:e.columnNum,selectedValues:e.selectedValues,numVal1:null!==(s=e.numVal1)&&void 0!==s?s:e.value,numVal2:e.numVal2,updateCycle:null}})]}function p(e){const{crossJoin:t=!1,taskType:s,productList:i,channelId:n,ruleList:l,scoreRange:c,isManualPerfection:u=1,peopleCnt:d=null}=e;let h=[];if(!d&&!c||!d&&2!==c.length)throw this.$message.error("请正确填写客群规模或得分区间！"),new Error("参数异常");if(t||1===s){if(l.length)for(let a=0;a<i.length;a++)for(let e=0;e<l.length;e++)h.push({ruleList:[l[e]],planId:i[a].planId,priority:0,custgroupList:[]})}else h=i.map(e=>{const t={ruleList:l,planId:e.planId,priority:0,custgroupList:[]};return 0===l.length&&delete t.ruleList,t});const p=l.length?{prodCustGroupList:h}:{};return{isManualPerfection:u,resByAIReqVO:{taskType:0,channelId:n,coordinationSwitch:0,executeType:0,hotSwitch:0,marketGoal:"1,3",recommendGoal:0,recommendProdNum:-1,taskEffectTime:a()().format("yyyy-MM-DD"),taskFailTime:"2099-12-31",taskId:"",taskName:"task_"+Date.now()+parseInt(1e3*Math.random()),execFlag:"0",createUserId:o,createUserName:r,downshiftFilter:"1",...p,prodPriorityList:i.map(e=>({peopleCnt:d,planId:e.planId,priority:0,planDescribe:e.planDesc,limitScore:d?null:c[0],maxScore:d?null:c[1],recommendMode:1,presetCustName:""}))}}}},8864:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"f",(function(){return a})),s.d(t,"d",(function(){return n})),s.d(t,"c",(function(){return l})),s.d(t,"b",(function(){return c})),s.d(t,"e",(function(){return o}));const i={product:"0",customer:"1",helpDoc:"2"},a={auto:-1,exist:1},n={auto:-1,group:0,label:1},l={auto:-1,exist:1},c={default:0,manual:1},o={num:0,score:1}},"88a7":function(e,t,s){"use strict";var i=s("cb2d"),a=s("e330"),n=s("577e"),l=s("d6d6"),c=URLSearchParams,o=c.prototype,r=a(o.append),u=a(o["delete"]),d=a(o.forEach),h=a([].push),p=new c("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&i(o,"delete",(function(e){var t=arguments.length,s=t<2?void 0:arguments[1];if(t&&void 0===s)return u(this,e);var i=[];d(this,(function(e,t){h(i,{key:t,value:e})})),l(t,1);var a,c=n(e),o=n(s),p=0,m=0,g=!1,f=i.length;while(p<f)a=i[p++],g||a.key===c?(g=!0,u(this,a.key)):m++;while(m<f)a=i[m++],a.key===c&&a.value===o||r(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},"8921c":function(e,t,s){"use strict";s("5b72")},"8c3c":function(e,t,s){},9267:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"loader-layout"},[t("div",{staticClass:"loader"},[e._m(0),t("div",{staticClass:"text"},[e._v(e._s(e.text))])])])},a=[function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"ld3"}},[t("div"),t("div"),t("div"),t("div")])}],n={props:{text:{type:String,default:"AI推荐中"}},data(){return{}},methods:{}},l=n,c=(s("18dd"),s("2877")),o=Object(c["a"])(l,i,a,!1,null,"be7dce12",null);t["default"]=o.exports},"9b32":function(e,t,s){},a1fe:function(e,t,s){"use strict";s("e838")},a2aa:function(e,t,s){"use strict";s("1233")},a640:function(e,t,s){"use strict";var i=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&i((function(){s.call(null,t||function(){return 1},1)}))}},a9e8:function(e,t,s){"use strict";s("f604")},afd9:function(e,t,s){"use strict";t["a"]={search0:"/plan-svc/api/intellpushprism/column/search0",valuePage:"/plan-svc/api/intellpushprism/column/valuePage",getTargetUserCount:"/plan-svc/api/intellpushprism/column/getTargetUserCount",batchImportProduct:"/plan-svc/api/intellpushprism/batchImportProduct",batchImpPlanTmpDownload:"/plan-svc/api/intellpushprism/batchImpPlanTmpDownload",saveScene:"/plan-svc/api/intellpushprism/saveScene",batchImportCust:"/plan-svc/api/intellpushprism/batchImportCust",batchImpCustTmpDownload:"/plan-svc/api/intellpushprism/batchImpCustTmpDownload",batchImportLabel:"/plan-svc/api/intellpushprism/batchImportLabel",batchImpLabelTmpDownload:"/plan-svc/api/intellpushprism/batchImpLabelTmpDownload",queryScoreRangeBatch:"/plan-svc/api/intellpushprism/ai/queryScoreRangeBatch",downloadChanPromptFile:"/plan-svc/mcd/chan/prompt/downloadChanPromptFile",getInferenceResByAI:"/plan-svc/api/intellpushprism/ai/getInferenceResByAI",queryScoreRange:"/plan-svc/api/intellpushprism/ai/queryScoreRange",queryAICustLoseWeightRes:"/plan-svc/api/intellpushprism/ai/queryAICustLoseWeightRes",OperationWorkshop:{queryMyAttentionPlan:"/plan-svc/api/intellpushprism/ai/queryMyAttentionPlan",addMyAttentionPlan:"/plan-svc/api/intellpushprism/ai/addMyAttentionPlan",getCampEvalTop5ByPlan:"/plan-svc/api/intellpushprism/ai/getCampEvalTop5ByPlan",getAITagTop10ByPlan:"/plan-svc/api/intellpushprism/ai/getAITagTop10ByPlan",removeMyAttentionPlan:"/plan-svc/api/intellpushprism/ai/removeMyAttentionPlan"}}},b573:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload_product_box"},[t("el-button",{staticClass:"btn",attrs:{plain:"",type:"primary",loading:e.uploadLoading,icon:"el-icon-plus"},on:{click:e.uploadProduct}},[e._v(e._s(e.uploadLoading?"正在上传":e.requestInfo.btnText))]),t("el-button",{staticClass:"btn",attrs:{plain:"",type:"primary",loading:e.downLoading,icon:"el-icon-download"},on:{click:e.downloadTemplateFile}},[e._v(e._s(e.downLoading?"正在下载":"模板下载"))]),t("input",{ref:"inputFile",staticClass:"input_file",attrs:{type:"file",accept:".xlsx,.xls"}})],1)},a=[],n=(s("88a7"),s("271a"),s("5494"),s("0fea")),l=s("afd9"),c={props:{type:{type:String,default:"product"}},data(){return{downLoading:!1,uploadLoading:!1,requestTypes:{product:{dowloadUrl:l["a"].batchImpPlanTmpDownload,importUrl:l["a"].batchImportProduct,fileName:"批量产品导入模板",btnText:"批量导入产品"},customer:{dowloadUrl:l["a"].batchImpCustTmpDownload,importUrl:l["a"].batchImportCust,fileName:"批量导入客群模板",btnText:"批量导入客群"},label:{dowloadUrl:l["a"].batchImpLabelTmpDownload,importUrl:l["a"].batchImportLabel,fileName:"批量导入标签模板",btnText:"批量导入标签"}}}},computed:{requestInfo(){return this.requestTypes[this.type]||this.requestInfo.product}},methods:{downloadTemplateFile(){this.downLoading=!0,Object(n["b"])(this.requestInfo.dowloadUrl).then(e=>e).then(({data:e,headers:t})=>{const s=t["content-disposition"]||"",i=s.split(".")[1]||"xls",a=new Blob([e],{type:e.type}),n=`${this.requestInfo.fileName}.${i}`,l=document.createElement("a");l.download=n,l.style.display="none",l.href=URL.createObjectURL(a),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}).finally(()=>{this.downLoading=!1})},uploadProduct(){if(this.uploadLoading)return;const e=this.$refs.inputFile;e.click(),e.onchange=async()=>{let t=e.files[0],s=new FormData;s.append("multipartFile",t);try{this.uploadLoading=!0;const t=await Object(n["j"])(this.requestInfo.importUrl,s);Array.isArray(t)&&t.length?this.$emit("uploadSuccess",t.map(({id:e,...t})=>t)):this.$message.error(t.message)}catch(i){}finally{this.uploadLoading=!1,e.value=""}}}}},o=c,r=(s("2419"),s("2877")),u=Object(r["a"])(o,i,a,!1,null,"0fa212fd",null);t["default"]=u.exports},b93c:function(e,t,s){},bc67:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dialog-send-wrapper"},[t("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.text,expression:"text",modifiers:{trim:!0}}],attrs:{resize:"none",placeholder:e.placeholderText,readonly:e.readonly},domProps:{value:e.text},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send.apply(null,arguments)},input:function(t){t.target.composing||(e.text=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t("div",{staticClass:"send-btn",on:{click:e.send}})])},a=[],n={props:{readonly:{type:Boolean,default:()=>!1},placeholderText:{type:String,default:()=>"请输入"}},data(){return{text:""}},methods:{send(){this.$emit("sendSubmit",this.text),this.text=""}}},l=n,c=(s("756a"),s("2877")),o=Object(c["a"])(l,i,a,!1,null,"f7f4c854",null);t["default"]=o.exports},bd45:function(e,t,s){},bdad:function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return o})),s.d(t,"e",(function(){return r})),s.d(t,"f",(function(){return u})),s.d(t,"b",(function(){return h})),s.d(t,"a",(function(){return p}));s("14d9");var i=s("7c3e"),a=s("5a0c"),n=s.n(a);const l=new Set;function c(){let e=parseInt(1e3*Math.random()),t=n()(new Date).format("YYYYMMDDHHmmss")+e;while(l.has(t))if(e=parseInt(1e4*Math.random()),t=n()(new Date).format("YYYYMMDDHHmmss")+e,!l.has(t))break;return l.add(t),t}function o(e,t,s){const a="...",n=i["a"].Util.getTextSize(a,s)[0];let l=0,c=e;const o=new RegExp("[一-龥]+");return e.split("").forEach((r,u)=>{l>t-n||(o.test(r)?l+=s:l+=i["a"].Util.getLetterWidth(r,s),l>t-n&&(c=`${e.substr(0,u)}${a}`))}),c}function r(e,t,s){let a=0,n=e;const l=new RegExp("[一-龥]+");return e.split("").forEach((c,o)=>{a>t||(l.test(c)?a+=s:a+=i["a"].Util.getLetterWidth(c,s),a>t&&(n=`${e.substr(0,o)}\n${r(e.substr(o),t,s)}`))}),n}function u(e,t,s,a=1){const n="...",l=i["a"].Util.getTextSize(n,s)[0],c=[];let o=0,r="";const u=new RegExp("[一-龥]+");return e.split("").forEach((e,d)=>{if(c.length!==a){if(u.test(e)?o+=s:o+=i["a"].Util.getLetterWidth(e,s),o>t-l&&c.length===a-1)return r+=n,void c.push(r);o>t-l&&(c.push(r),r="",o=u.test(e)?s:i["a"].Util.getLetterWidth(e,s)),r+=e}}),r&&c.length<a&&c.push(r),c.join("\n")}function d(e,t){const s=(e,t)=>{if(e.id===t)return e;if(e.children&&e.children.length>0)for(let i=0;i<e.children.length;i++){const a=s(e.children[i],t);if(a)return a}};return s(t,e)}function h(e,t,s){const i=[],a=(e,t)=>{if((!s||t!==s)&&(e.type===t&&i.push(e),e.children&&e.children.length>0))for(let s=0;s<e.children.length;s++)a(e.children[s],t)};return a(t,e),i}function p(e,t){let s=[];e.forEach(e=>{const i=d(e,t);if(i){const e=i.nodeLines.map(e=>e.nodeId);s=[...s,...e]}});const i=[...new Set(s)],a=h("Scene",t,"Product"),n=a.map(e=>e.id),l=n.filter(e=>!i.includes(e)),c=(e,t)=>{e.children&&e.children.length&&(e.children=e.children.filter(e=>!t.includes(e.id)&&(c(e,t),!0)))};return c(t,l),t}},c363:function(e,t,s){"use strict";s("8c3c")},c567:function(e,t,s){},ca37:function(e,t,s){"use strict";s("429a")},d39c:function(e,t,s){"use strict";const i="/element-svc/api",a="/preview-svc",n="/mcd-web/action";t["a"]={seapi:{querylistEnumValue:"/element-svc/mcd-plan-label/queryLabelByKey",loadImage:i+"/mcdDimMaterial/loadImage",queryTableList:"/element-svc/api/jx/mcdPlanDef/queryPlanDefPageList",saveStatus:i+"/mcdPlanDef/updatePlanDefStatus",queryDetail:"/element-svc/api/jx/mcdPlanDef/getPlanDetailById",mcdChannelList:i+"/mcdDimMaterial/queryChannel",mcdContList:i+"/mcdDimMaterial/queryContact",mcdPositList:i+"/mcdDimMaterial/queryPosition",getChannels:i+"/mcdDimChannel/pagelistDimChannel",queryContactByChannelId:i+"/iop/operatingPositionManager/queryContactByChannelId.do",queryPosition:i+"/iop/template/queryPosition",getOnlineChannels:i+"/mcdDimChannel/listDimChannel  ",getOnlineChannelsByUser:i+"/mcdDimChannel/jx/listDimChannel",getSysDics:"/plan-svc/action/iop/common/getSysDics",queryDigitalProductContents:i+"/iopDigitalProduct/queryDigitalProductPageList",queryConentDetailById:i+"/iopDigitalProduct/getDigitalProduct",updateDigitalProuctStatus:i+"/iopDigitalProduct/updateDigitalProductStatus",queryMaterialInfo:i+"/mcdDimMaterial/queryMaterialPageList",deleteMaterById:i+"/mcdDimMaterial/deleteMaterial",queryMaterialById:i+"/mcdDimMaterial/getMaterial",saveOrUpdateMaterial:i+"/mcdDimMaterial/saveOrUpdateMaterial",uploadMaterImg:i+"/mcdDimMaterial/uploadMaterialPicture",uploadMaterVideo:i+"/mcdDimMaterial/uploadMaterialVideo",uploadMaterFile:i+"/mcdDimMaterial/uploadMaterialsFile",queryIopContactList:i+"/jx/mcdDimContact/pagelistMcdDimContact",queryContactDetailById:i+"/jx/mcdDimContact/getDimContactDetail",listAllChannelName:i+"/mcdDimChannel/listAllChannelNameAndId",deleteContactById:i+"/mcdDimContact/removeContact",saveOrUpdateContact:i+"/jx/mcdDimContact/saveOrUpdateContact",validateContactName:i+"/mcdDimContact/getValidateContactName",displayChannelList:"/element-svc/api/mcdDimChannel/jx/pagelistDimChannel",validateChannelName:i+"/mcdDimChannel/getValidateChannelName",saveOrUpdateChannel:"/element-svc/api/mcdDimChannel/jx/saveOrUpdateDimChannel",deleteChannelById:i+"/mcdDimChannel/removeDimChannel",channelDetail:i+"/mcdDimChannel/getDimChannel",customerLike:"/preview-svc/jx/chnPre/queryPreData",channelDetail:"/element-svc/mcd-dim-channel-desc/query",uploaChanPromptFile:"/element-svc/api/mcdDimChannel/jx/uploaChanPromptFile",downloadChanPromptFile:"/plan-svc/mcd/chan/prompt/downloadChanPromptFile",queryDimChannelInfo:"/element-svc/api/mcdDimChannel/jx/queryDimChannelInfo",queryChannelEValData:"/groupmarket/enterprise/queryChannelEValData",queryIopOperatingPosition:i+"/mcdDimAdivInfo/pagelistAdivInfo",deleteOperatingPositionById:i+"/mcdDimAdivInfo/removeAdivInfo",queryOperPositionDetail:i+"/mcdDimAdivInfo/getAdivInfo",queryOpelistData:i+"/mcdDimAdivInfo/listChannelInfoAndContactInfo",queryCampsegInfoWithThisPosId:i+"/mcdDimAdivInfo/listpageCampsegInfoWithThisAdivId",getConfigList:i+"/mcdDimAttrConf/queryConfigList",validateOperationName:i+"/mcdDimAdivInfo/getValidateAdivInfoName",getValidateAdivInfoId:i+"/jx/mcdDimAdivInfo/getValidateAdivInfoId",saveOrUpdateOperPosition:i+"/mcdDimAdivInfo/saveOrUpdateAdivInfo",getChannelScheduleList:n+"/channelview/getChannelScheduleList",querySensitiveCust:a+"/mcd-channel-sensitive-cust-conf/querySensitiveCust",saveSensitiveCust:a+"/mcd-channel-sensitive-cust-conf/saveSensitiveCust",deleteSensitiveCust:a+"/mcd-channel-sensitive-cust-conf/deleteSensitiveCust",batchDeleteSensitiveCust:a+"/mcd-channel-sensitive-cust-conf/batchDeleteSensitiveCust",pagelistApproveMaterial:i+"/mcdDimMaterialApprove/pagelistApproveMaterial",approveRecord:i+"/mcdDimMaterialApprove/approveRecord",pagelistMyMaterial:i+"/mcdDimMaterialTemplate/pagelistMyMaterial",pagelistExcellentMaterial:i+"/mcdDimMaterialTemplate/pagelistExcellentMaterial",pagelistHotSpotMaterial:i+"/mcdDimMaterialTemplate/pagelistHotSpotMaterial",updateMaterialStatus:i+"/mcdDimMaterial/updateMaterialStatus",getMaterialApprover:i+"/mcdDimMaterialApprove/getMaterialApprover",getCmpApprovalProcess:i+"/mcdDimMaterialApprove/getCmpApprovalProcess",subMaterialApprove:i+"/mcdDimMaterialApprove/subMaterialApprove",addExcellentMaterialLibrary:i+"/mcdDimMaterialTemplate/addExcellentMaterialLibrary",removeExcellentMaterialLibrary:i+"/mcdDimMaterialTemplate/removeExcellentMaterialLibrary",createExcellentMaterial:i+"/mcdDimMaterialTemplate/createExcellentMaterial",createHotSpotMaterial:i+"/mcdDimMaterialTemplate/createHotSpotMaterial",removeMyMaterial:i+"/mcdDimMaterialTemplate/removeMyMaterial",getIntell:i+"/mcdDimMaterial/getIntelligentMatchingMaterialList"}}},d58f:function(e,t,s){"use strict";var i=s("59ed"),a=s("7b0b"),n=s("44ad"),l=s("07fa"),c=TypeError,o=function(e){return function(t,s,o,r){var u=a(t),d=n(u),h=l(u);i(s);var p=e?h-1:0,m=e?-1:1;if(o<2)while(1){if(p in d){r=d[p],p+=m;break}if(p+=m,e?p<0:h<=p)throw new c("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=m)p in d&&(r=s(r,d[p],p,u));return r}};e.exports={left:o(!1),right:o(!0)}},d6d6:function(e,t,s){"use strict";var i=TypeError;e.exports=function(e,t){if(e<t)throw new i("Not enough arguments");return e}},e2b0:function(e,t,s){},e838:function(e,t,s){},ec5d:function(e,t,s){"use strict";s("e2b0")},edd0:function(e,t,s){"use strict";var i=s("13d2"),a=s("9bf2");e.exports=function(e,t,s){return s.get&&i(s.get,t,{getter:!0}),s.set&&i(s.set,t,{setter:!0}),a.f(e,t,s)}},f604:function(e,t,s){}}]);