(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d209afd"],{a9b1:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e._self._c;return a("el-select",{directives:[{name:"selectLazyLoad",rawName:"v-selectLazyLoad",value:e.loadMoreData,expression:"loadMoreData"}],style:{width:"90%"},attrs:{"value-key":"id","dropdown-style":{maxHeight:"400px",overflow:"auto"},"popper-append-to-body":!1,filterable:"","default-first-option":"",clearable:"",remote:"","remote-method":e.remoteMethod,loading:e.loading},on:{clear:e.clearSelect,focus:e.focusSelect},model:{value:e.currentColumn,callback:function(a){e.currentColumn=a},expression:"currentColumn"}},e._l(e.columnList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.columnName,value:e}})})),1)},l=[],u=t("0fea"),o=t("afd9"),n={props:{branchNumber:{type:String,default:""}},data(){return{columnList:[],pageNum:1,currentColumn:null,allowSearchFlag:!0,loading:!1,responseTotalPages:1,queryParam:{columnName:"",current:1,size:100}}},watch:{currentColumn:{handler(e){if(e){if(this.$emit("add",this.currentColumn),this.currentColumn.valueList)return;if(2==e.valueType)return;this.queryMappingValue(e.columnNum,this.currentColumn)}}},pageNum:{handler(e){e&&(this.queryParam.current=e,this.queryColumnData(this.queryParam.columnName,!0))}}},created(){this.queryColumnData()},methods:{loadMoreData(){this.pageNum<this.responseTotalPages&&this.pageNum++},remoteMethod(e){e?this.allowSearchFlag&&e.length>1&&(this.allowSearchFlag=!1,this.columnList=[],this.queryParam.current=1,this.pageNum=1,this.queryColumnData(e)):this.clearSelect()},queryColumnData(e,a){this.queryParam.columnName=e||"",Object(u["i"])(o["a"].search0,this.queryParam).then(e=>{this.responseTotalPages=e.pages,this.columnList=a?this.columnList.concat(e.records):e.records,this.allowSearchFlag=!0,this.loading=!1}).finally(()=>{this.loading=!1})},clearSelect(){this.pageNum=1,this.queryParam.columnName="",this.queryParam.current=1,this.columnList=[],this.queryColumnData()},focusSelect(){""===this.columnList.join()&&(this.queryParam.columnName="",this.queryColumnData())},async queryMappingValue(e,a){const{records:t}=await Object(u["i"])(o["a"].valuePage,{columnNum:e,current:1,size:1e3});this.$set(a,"valueList",t||[])}}},s=n,i=t("2877"),c=Object(i["a"])(s,r,l,!1,null,"723cfc83",null);a["default"]=c.exports}}]);