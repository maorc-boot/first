(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d210879","chunk-4b92d70a","chunk-38b49398"],{"18dd":function(t,e,o){"use strict";o("594c")},"43c9":function(t,e,o){},"594c":function(t,e,o){},"723c":function(t,e,o){"use strict";o("43c9")},7597:function(t,e,o){"use strict";o("a0af")},9267:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"loader-layout"},[e("div",{staticClass:"loader"},[t._m(0),e("div",{staticClass:"text"},[t._v(t._s(t.text))])])])},s=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ld3"}},[e("div"),e("div"),e("div"),e("div")])}],r={props:{text:{type:String,default:"AI推荐中"}},data(){return{}},methods:{}},i=r,n=(o("18dd"),o("2877")),l=Object(n["a"])(i,a,s,!1,null,"be7dce12",null);e["default"]=l.exports},a0af:function(t,e,o){},c143:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"select-product-content"},[e("ProductTab",{ref:"productTabRef",attrs:{tabName:"product",multiple:"",showUpload:"",initialSelection:t.productList},on:{selectionChange:t.selectProductChange}}),e("div",{staticClass:"match-table"},[e("header",{staticClass:"sub-header"},[t._v("匹配度分析：")]),e("el-table",{attrs:{border:"",data:t.productList}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"45",align:"center"}}),e("el-table-column",{attrs:{label:"目标客群","show-overflow-tooltip":""}},[[t._v(" "+t._s(t.parentInfo.customerInfo.customGroupName)+" ")]],2),e("el-table-column",{attrs:{label:"目标产品",prop:"planName","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function({row:o}){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.openMatchDialog(o.planId)}}},[t._v("匹配度分析")])]}}])})],1)],1),e("ProductCustomerMatchDialog",{ref:"matchRef"})],1)},s=[],r=o("3599"),i=o("dbeb"),n={components:{ProductTab:r["a"],ProductCustomerMatchDialog:i["default"]},props:{initialData:{type:Object,default:()=>({})},parentInfo:{type:Object,default:()=>({})}},data(){return{productList:[]}},methods:{selectProductChange(t,e){this.productList=e},openMatchDialog(t){this.$refs.matchRef.open({productId:t,dnaRule:this.parentInfo.customerInfo.finalExpression})},async validate(){return 0===this.productList.length?(this.$message.error("请选择产品"),Promise.reject("请选择产品")):Promise.resolve({productList:this.productList})}},created(){this.productList=this.initialData.productList||[]}},l=n,c=(o("723c"),o("2877")),f=Object(c["a"])(l,a,s,!1,null,"7f7ed063",null);e["default"]=f.exports},dbeb:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("AiDialog",{attrs:{title:"匹配度分析",top:"12vh",width:"900px",confirmButtonText:"关 闭",showCancelButton:!1,destroyOnClose:!1,visible:t.visible},on:{confirm:function(e){t.visible=!1},close:function(e){t.visible=!1}}},[e("div",[t.loading||t.error?e("div",{staticClass:"placeholder"},[t.loading?[e("Loader",{attrs:{text:" 分析中"}})]:e("div",{staticClass:"error"},[t._v(t._s(t.error))])],2):t._e(),e("div",{ref:"echartsDomRef",staticClass:"echarts-container"})])])},s=[],r=o("0fea"),i=o("afd9"),n=o("94d5f"),l=o("9267"),c=o("313e");const f=[{top:"#ffa800",bottom:"#ffa80030"},{top:"#1ace4a",bottom:"#1ace4a30"},{top:"#4bf3ff",bottom:"#4bf3ff30"},{top:"#4f9aff",bottom:"#4f9aff30"},{top:"#9195F6",bottom:"#9195F630"},{top:"#ff4f4f",bottom:"#ff4f4f30"},{top:"#ff9f4f",bottom:"#ff9f4f30"},{top:"#ff4f9f",bottom:"#ff4f9f30"},{top:"#4f9f9f",bottom:"#4f9f9f30"},{top:"#b250ff",bottom:"#b250ff30"}],d={backgroundColor:"#0070FF10",tooltip:{show:!0,formatter:"{c}",backgroundColor:"#ffffff70"},grid:{left:"5%",top:"8%",right:"5%",bottom:"2%",containLabel:!0},xAxis:[{type:"category",gridIndex:0,data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#777"}},splitLine:{show:!1},axisLabel:{show:!0,color:"#777",fontSize:14}}],yAxis:[{type:"value",name:"客群规模（人）",gridIndex:0,splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#777"}}},{type:"value",gridIndex:0,splitNumber:12,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}}],series:[{name:"客群数",type:"bar",label:{normal:{show:!0,position:"top",formatter:"{c}",textStyle:{color:"#666"}}},itemStyle:{normal:{show:!0,color:function(t){let e=f.length;return{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:f[t.dataIndex%e].bottom},{offset:1,color:f[t.dataIndex%e].top},{offset:0,color:f[t.dataIndex%e].bottom},{offset:1,color:f[t.dataIndex%e].top},{offset:0,color:f[t.dataIndex%e].bottom},{offset:1,color:f[t.dataIndex%e].top},{offset:0,color:f[t.dataIndex%e].bottom},{offset:1,color:f[t.dataIndex%e].top},{offset:0,color:f[t.dataIndex%e].bottom},{offset:1,color:f[t.dataIndex%e].top},{offset:0,color:f[t.dataIndex%e].bottom},{offset:1,color:f[t.dataIndex%e].top}],globalCoord:!1}},barBorderRadius:[30,30,0,0],borderWidth:0}},barGap:"0%",barCategoryGap:"80%",data:[]}]};var u={components:{AiDialog:n["a"],Loader:l["default"]},data(){return{visible:!1,loading:!1,error:!1,source:null,echart:null,params:{productId:null,dnaRule:null}}},watch:{visible(t){t?this.$nextTick(()=>{!this.echart&&this.initEchart(),this.queryScoreRange()}):(this.loading&&this.source&&this.source.cancel("取消请求"),this.echart.clear())}},methods:{initEchart(){this.echart=Object(c["init"])(this.$refs.echartsDomRef)},open(t){this.visible=!0,this.params=t},async queryScoreRange(){this.loading&&this.source&&this.source.cancel("取消请求"),this.source=this.$CancelToken.source(),this.loading=!0,this.error=!1,Object(r["i"])(i["a"].queryScoreRange,{...this.params,marketGoal:"1",preCustFileName:null},this.source.token,12e4).then(t=>{d.xAxis[0].data=t.map(t=>t.range),d.series[0].data=t.map(t=>t.custNum),this.echart.setOption(d)}).catch(t=>{this.error=t.message,t.message.includes("timeout")&&(this.error="分析失败，请稍后重试！")}).finally(()=>{this.loading=!1})}},beforeDestroy(){this.echart&&this.echart.dispose()}},h=u,p=(o("7597"),o("2877")),b=Object(p["a"])(h,a,s,!1,null,"35609232",null);e["default"]=b.exports}}]);