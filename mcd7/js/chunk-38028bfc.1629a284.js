(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38028bfc"],{"146e":function(a,e,t){},"176f":function(a,e,t){},"17e0":function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a._self._c;return e("div",{staticClass:"avoid-bother-customer-wrap fe-m-24 fe-p-24 bg RegionalManage"},[e("div",{staticClass:"search-container"},[e("el-input",{attrs:{placeholder:"输入区域名称模糊查询"},model:{value:a.queryParams.areaName,callback:function(e){a.$set(a.queryParams,"areaName",e)},expression:"queryParams.areaName"}}),e("el-button",{attrs:{type:"primary"},on:{click:a.onSearch}},[a._v("搜索")]),e("el-button",{attrs:{type:"success"},on:{click:a.onNewRule}},[a._v("新增区域")])],1),e("div",{staticClass:"context-container"},[e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData}},[e("el-table-column",{attrs:{prop:"areaId",label:"区域编码"}}),e("el-table-column",{attrs:{prop:"areaName",label:"区域名称"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-link",{staticClass:"text-sm mr-16",attrs:{type:"primary",underline:!1},on:{click:function(e){return a.openItem(t.row)}}},[a._v(a._s(t.row.areaName)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"stationNum",label:"基站数"}}),e("el-table-column",{attrs:{prop:"creator",label:"创建人"}}),e("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-link",{staticClass:"text-sm mr-16",attrs:{type:"primary",underline:!1},on:{click:function(e){return a.deleteItem(t.row)}}},[a._v("删除 ")])]}}])})],1)],1),e("div",{staticClass:"pager"},[e("el-pagination",{attrs:{"current-page":a.pageData.currentPage,"page-sizes":a.pageData.pageSizeList,"page-size":a.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.pageData.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)]),e("station-preview-dialog",{ref:"DialogStation",on:{reFresh:a.areaList}}),e("regional-preview-dialog",{ref:"Dialog"}),e("regional-edit-dialog",{ref:"DialogEdit"})],1)},s=[],r=t("0fea"),n=t("72ae"),o=function(){var a=this,e=a._self._c;return e("el-dialog",{class:"RegionalPreviewDialog",attrs:{title:"新增区域",visible:a.dialogVisible,width:"1000px",top:"10vh","append-to-body":!1},on:{"update:visible":function(e){a.dialogVisible=e},close:a.onCancel}},[e("div",{staticClass:"main-context"},[e("el-form",{ref:"form",attrs:{model:a.form,"label-width":"100px",rules:a.rules}},[e("el-form-item",{attrs:{label:"新增区域名",prop:"areaName"}},[e("el-input",{model:{value:a.form.areaName,callback:function(e){a.$set(a.form,"areaName",e)},expression:"form.areaName"}})],1)],1),e("div",{staticClass:"=“main-table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData}},[e("el-table-column",{attrs:{prop:"cellId",label:"位置码"}}),e("el-table-column",{attrs:{prop:"lacId",label:"小区码"}}),e("el-table-column",{attrs:{prop:"stationName",label:"基站名称"}}),e("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-link",{staticClass:"text-sm mr-16",attrs:{type:"primary",underline:!1},on:{click:function(e){return a.deleteItem(t.row,t.$index)}}},[a._v("删除 ")])]}}])})],1)],1),e("div",{staticClass:"main-pager"},[e("el-pagination",{attrs:{"current-page":a.pageData.currentPage,"page-sizes":a.pageData.pageSizeList,"page-size":a.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.pageData.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1),e("div",{staticClass:"dialog-footer"},[e("el-button",{attrs:{type:"primary"},on:{click:a.onConfirm}},[a._v("确 认")]),e("el-button",{attrs:{type:"info"},on:{click:a.onCancel}},[a._v("取 消")])],1)],1)])},l=[],c={data(){return{selectedData:{},dialogVisible:!1,form:{areaName:""},rules:{areaName:[{required:!0,message:"请输入区域名称",trigger:"blur"}]},tableData:[],queryParams:{areaId:"",current:1,keyWords:"",size:10},pageData:{currentPage:1,pageSize:10,pageSizeList:[10,20,30,40],total:0}}},mounted(){},methods:{async ShowPopup(a){this.selectedData=a,this.queryParams.areaId=a.areaId,this.areaStationList(),this.dialogVisible=!0},onCancel(){this.dialogVisible=!1,this.form.areaName="",this.tableData=[]},async areaStationList(){await Object(r["i"])(n["a"].ecapi.areaStationList,{...this.queryParams,current:this.pageData.currentPage,size:this.pageData.pageSize}).then(a=>{this.tableData=a.records,this.pageData.total=a.total})},handleSizeChange(a){this.pageData.pageSize=a,this.pageData.currentPage=1,this.areaStationList()},handleCurrentChange(a){this.pageData.currentPage=a,this.areaStationList()},async deleteItem(a,e){let t=this.tableData;t.splice(e,1),this.tableData=t},onConfirm(){if(0===this.tableData.length)return void this.$message.info("请选择基站!");let a=this.tableData.map((a,e)=>{delete a.areaId;let t=(new Date).valueOf();return{...a,stationId:a.stationId.substring(0,4)+t,stationName:a.stationName.substring(0,4)+t}});this.$refs["form"].validate(async e=>{e&&Object(r["m"])(n["a"].ecapi.areaSave,{...this.form,stationList:a}).then(a=>{this.$message.success("新增成功!"),this.onCancel(),this.$emit("reFresh")})})}}},p=c,d=(t("93b9"),t("2877")),u=Object(d["a"])(p,o,l,!1,null,"480350d8",null),g=u.exports,h=function(){var a=this,e=a._self._c;return e("el-dialog",{class:"RegionalPreviewDialog",attrs:{title:"区域详情",visible:a.dialogVisible,width:"1000px",top:"2vh","append-to-body":!1},on:{"update:visible":function(e){a.dialogVisible=e},close:a.onCancel}},[e("div",{staticClass:"main-context"},[e("div",{staticClass:"=“main-table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData}},[e("el-table-column",{attrs:{prop:"cellId",label:"位置码"}}),e("el-table-column",{attrs:{prop:"lacId",label:"小区码"}}),e("el-table-column",{attrs:{prop:"stationName",label:"名称"}}),e("el-table-column",{attrs:{prop:"networkStandard",label:"网络制式"}}),e("el-table-column",{attrs:{prop:"cityId",label:"地市"}})],1)],1),e("div",{staticClass:"main-pager"},[e("el-pagination",{attrs:{"current-page":a.pageData.currentPage,"page-sizes":a.pageData.pageSizeList,"page-size":a.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.pageData.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)])])},m=[],v={data(){return{selectedData:{},dialogVisible:!1,tableData:[],queryParams:{areaId:"",current:1,keyWords:"",size:10},pageData:{currentPage:1,pageSize:10,pageSizeList:[10,20,30,40],total:0}}},mounted(){},methods:{async ShowPopup(a){this.selectedData=a,this.queryParams.areaId=a.areaId,this.areaStationList(),this.dialogVisible=!0},onCancel(){this.dialogVisible=!1},async areaStationList(){await Object(r["i"])(n["a"].ecapi.areaStationList,{...this.queryParams,current:this.pageData.currentPage,size:this.pageData.pageSize}).then(a=>{this.tableData=a.records,this.pageData.total=a.total})},handleSizeChange(a){this.pageData.pageSize=a,this.pageData.currentPage=1,this.areaStationList()},handleCurrentChange(a){this.pageData.currentPage=a,this.areaStationList()}}},y=v,b=(t("5940"),Object(d["a"])(y,h,m,!1,null,"59193320",null)),C=b.exports,f=function(){var a=this,e=a._self._c;return e("el-dialog",{class:"RegionalEditDialog",attrs:{title:"编辑区域",visible:a.dialogVisible,width:"90vw",top:"5vh","append-to-body":!1},on:{"update:visible":function(e){a.dialogVisible=e},close:a.onCancel}},[e("div",{staticClass:"main-context"},[e("div",{staticClass:"select-container"},[e("el-transfer",{attrs:{props:a.propsT,data:a.data,titles:["搜索基站列表","已选基站列表"],"render-content":a.myRender},model:{value:a.value,callback:function(e){a.value=e},expression:"value"}})],1),e("div",{staticClass:"dialog-footer"},[e("el-button",{attrs:{type:"primary"},on:{click:a.onConfirm}},[a._v("确 认")]),e("el-button",{attrs:{type:"info"},on:{click:a.onCancel}},[a._v("取 消")])],1)])])},D=[],S=(t("14d9"),{data(){return{selectedData:{},dialogVisible:!1,propsT:{key:"stationId",label:"stationName"},allStationList:[],data:[{cellId:"位置码",lacId:"小区码",stationName:"名称",networkStandard:"网络制式",cityId:"地市",disabled:!0}],value:[]}},mounted(){this.stationList()},methods:{myRender(a,e){return a("span",{class:"item-flex"},[a("span",[e.cellId]),a("span",[e.lacId]),a("span",[e.stationName]),a("span",[e.networkStandard]),a("span",[e.cityId])])},ShowPopup(a){this.selectedData=a,this.value=[],this.areaStationList(),this.dialogVisible=!0},async areaStationList(){await Object(r["i"])(n["a"].ecapi.areaStationList,{areaId:this.selectedData.areaId,current:1,keyWords:"",size:1e4}).then(a=>{for(let e=0;e<a.records.length;e++){const t=a.records[e];this.value.push(t.stationId)}})},async stationList(){await Object(r["i"])(n["a"].ecapi.stationList,{cityId:"",current:1,keyWords:"",size:1e4,stationName:""}).then(a=>{this.allStationList=a.records,this.data=[{cellId:"位置码",lacId:"小区码",stationName:"名称",networkStandard:"网络制式",cityId:"地市",disabled:!0}].concat(a.records)})},handleSizeChange(a){this.pageData.pageSize=a,this.pageData.currentPage=1,this.areaStationList()},handleCurrentChange(a){this.pageData.currentPage=a,this.areaStationList()},onCancel(){this.dialogVisible=!1},onConfirm(){let a=this.allStationList.filter(a=>{let e=this.value.indexOf(a.stationId);return-1!==e});Object(r["m"])(n["a"].ecapi.areaSave,{areaId:this.selectedData.areaId,areaName:this.selectedData.areaName,stationList:a}).then(a=>{this.$message.success("编辑成功!"),this.dialogVisible=!1})}}}),P=S,L=(t("edfc"),Object(d["a"])(P,f,D,!1,null,"6a1e799c",null)),k=L.exports,q={name:"RegionalManage",components:{StationPreviewDialog:g,RegionalPreviewDialog:C,RegionalEditDialog:k},data(){return{queryParams:{areaName:"",current:1,keyWords:"",size:10},tableData:[],pageData:{currentPage:1,pageSize:10,pageSizeList:[10,20,30,40],total:0}}},created(){},mounted(){this.areaList()},methods:{onNewRule(){this.$refs["DialogStation"].ShowPopup({areaId:10000001})},async areaList(){await Object(r["i"])(n["a"].ecapi.areaList,{...this.queryParams,current:this.pageData.currentPage,size:this.pageData.pageSize}).then(a=>{this.tableData=a.records,this.pageData.total=a.total})},onSearch(){this.areaList()},openItem(a){this.$refs["Dialog"].ShowPopup(a)},async deleteItem(a){await Object(r["deleteActionUrl"])(`${n["a"].ecapi.areaDelete}/${a.areaId}`).then(a=>{this.$message.success("删除成功!"),this.onSearch()})},editItem(a){this.$refs["DialogEdit"].ShowPopup(a)},handleSizeChange(a){this.pageData.pageSize=a,this.pageData.currentPage=1,this.areaList()},handleCurrentChange(a){this.pageData.currentPage=a,this.areaList()}}},I=q,w=(t("73b2"),Object(d["a"])(I,i,s,!1,null,"42c35993",null));e["default"]=w.exports},3443:function(a,e,t){},5940:function(a,e,t){"use strict";t("176f")},"72ae":function(a,e,t){"use strict";const i="/mcd-cep-web/action",s="/evt-svc/api";e["a"]={ecapi:{queryEventClass:i+"/cep/rule/nx/queryEventClass.do",queryEventDictByDictCode:i+"/cep/rule/nx/queryEventDictByDictCode.do",queryParentDictByDictCode:i+"/cep/rule/nx/queryParentDictByDictCode.do",queryConfigDict:i+"/cep/rule/nx/queryConfigDict.do",queryEventClassLevel:i+"/cep/rule/queryEventClass.do",queryCepRuleNum:i+"/cep/rule/queryCepRuleNum.do",createRule:i+"/cep/rule/nx/createRule.do",manageList:s+"/event/list",manageUpdateStatus:s+"/event/updateStatus",manageDelete:s+"/event",manageListByParent:s+"/businessCategory/listByParent",manageListByLevel:s+"/businessCategory/listByLevel",manageCategoryList:s+"/businessCategory/list",manageGetDetail:s+"/event",eventSave:s+"/event/save",eventListByLevel:s+"/category/listByLevel",eventListByParent:s+"/category/listByParent",areaList:s+"/area/list",areaGetDetail:s+"/area",areaDelete:s+"/area",areaSave:s+"/area/save",areaStationList:s+"/area/stationList",stationList:s+"/station/list",listByCategory:s+"/categoryValue/listByCategory",queryEventsByUserId:"/plan-svc/api/action/cep/event/eventManager/queryEventsByUserId",queryShareById:"/plan-svc/cepRuleShare/queryShareById",saveOrUpdate:"/plan-svc/cepRuleShare/saveOrUpdate",delCampCoordinationTaskList:"/plan-svc/mcd/strategic/coordination/delCampCoordinationTaskList",exportExampleFile:"/plan-svc/mcd/strategic/coordination/exportExampleFile",pushCampCoordinationFile:"/plan-svc/mcd/strategic/coordination/pushCampCoordinationFile",queryCampCoordinationTask:"/plan-svc/mcd/strategic/coordination/queryCampCoordinationTask",queryStrategicCoordination:"/plan-svc/mcd/strategic/coordination/queryStrategicCoordination",saveStrategicCoordinationTask:"/plan-svc/mcd/strategic/coordination/saveStrategicCoordinationTask",selectAllStrategicCoordination:"/plan-svc/mcd/strategic/coordination/selectAllStrategicCoordination",recountCampTask:"/plan-svc/mcd/strategic/coordination/recountCampTask",queryCampCoordinationTaskDetail:"/plan-svc/mcd/strategic/coordination/queryCampCoordinationTaskDetail",childTaskRecord:"/plan-svc/mcd/strategic/coordination/childTaskRecord",approveTaskRecord:"/plan-svc/api/campCoordinate/taskApprove/approveTaskRecord",approveChildTaskRecord:"/plan-svc/api/campCoordinate/taskApprove/approveChildTaskRecord",subTaskApprove:"/plan-svc/api/campCoordinate/taskApprove/subTaskApprove",updateTaskStatus:"/plan-svc/api/campCoordinate/taskApprove/updateTaskStatus",queryAppTypeList:"/approve-svc/jx/cmpApprovalProcessConf/queryAppTypeList",getApproveConfig:"/approve-svc/jx/cmpApprovalProcessConf/getApproveConfig?systemId=",getNodeApprover:"/approve-svc/jx/cmpApproveProcessInstance/getNodeApprover",submitProcess:"/approve-svc/jx/cmpApproveProcessInstance/submitProcess",delPlanConfList:"/plan-svc/mcd/strategic/coordination/delPlanConfList",qryNotCfgPlanTypeAndPri:"/plan-svc/mcd/strategic/coordination/qryNotCfgPlanTypeAndPri",qryPlanConfList:"/plan-svc/mcd/strategic/coordination/qryPlanConfList",qryPlanConfListByPlanTypeOnSave:"/plan-svc/mcd/strategic/coordination/qryPlanConfListByPlanTypeOnSave",qryPlanConfListByPlanTypeOnUpdate:"/plan-svc/mcd/strategic/coordination/qryPlanConfListByPlanTypeOnUpdate",qryPlanTypeList:"/plan-svc/mcd/strategic/coordination/qryPlanTypeList",savePlanConf:"/plan-svc/mcd/strategic/coordination/savePlanConf",updatePriority:"/plan-svc/mcd/strategic/coordination/updatePriority",getSysDics:"/plan-svc/action/iop/common/getSysDics",delTagConfig:"/plan-svc/orchestrate/tag/delTagConfig",queryAccessLabel:"/plan-svc/orchestrate/tag/queryAccessLabel",queryTag:"/plan-svc/orchestrate/tag/queryTag",queryTagType:"/plan-svc/orchestrate/tag/queryTagType",saveTag:"/plan-svc/orchestrate/tag/saveTag",updateTagOrderBy:"/plan-svc/orchestrate/tag/updateTagOrderBy",queryAllTag:"/plan-svc/orchestrate/tag/queryAllTag"}}},"72f7":function(a,e,t){},"73b2":function(a,e,t){"use strict";t("72f7")},"93b9":function(a,e,t){"use strict";t("3443")},edfc:function(a,e,t){"use strict";t("146e")}}]);