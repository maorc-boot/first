(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58ec0cad"],{"60ff":function(e,t,a){},"74e3":function(e,t,a){},"89ff":function(e,t,a){"use strict";t["a"]={bigSrceenConfig:{queryFrontSecondScreens:"/plan-svc/mcd/front/secondScreen/queryFrontSecondScreens",updateFrontSecondScreens:"/plan-svc/mcd/front/secondScreen/updateFrontSecondScreens"},blackList:{deleBlackList:"/plan-svc/customer/black/list/deleBlackList",downloadImpOrDelBlacklistTemplate:"/plan-svc/customer/black/list/downloadImpOrDelBlacklistTemplate",impOrDelBlacklistFile:"/plan-svc/customer/black/list/impOrDelBlacklistFile",queryBlackList:"/plan-svc/customer/black/list/queryBlackList",queryAllCitys:"/plan-svc/customer/black/list/queryAllCitys",createOrUpdate:"/plan-svc/mcd-hmh5-blacklist-task/createOrUpdate",delete:"/plan-svc/mcd-hmh5-blacklist-task/delete",listTask:"/plan-svc/mcd-hmh5-blacklist-task/listTask",getTaskDetailByTaskId:"/plan-svc/mcd-hmh5-blacklist-task/getTaskDetailByTaskId",submitBlacklist:"/plan-svc/mcd-hmh5-blacklist-task/submitBlacklist",getBlacklistApprover:"/plan-svc/mcd-hmh5-blacklist-task/getBlacklistApprover",approveBlacklistRecord:"/plan-svc/mcd-hmh5-blacklist-task/approveBlacklistRecord"},careRelation:{queryChannelByCityAndCounty:"/plan-svc/mcd/front/guardList/queryChannelByCityAndCounty",exportGuardUserList:"/plan-svc/mcd/front/guardList/exportGuardUserList",queryGuardUserList:"/plan-svc/mcd/front/guardList/queryGuardUserList"},messageTemplate:{approveSmsTemplateRecord:"/plan-svc/sms/template/approveSmsTemplateRecord",delCareSmsTemplate:"/plan-svc/sms/template/delCareSmsTemplate",deleteTemplateLabel:"/plan-svc/sms/template/deleteTemplateLabel",getCareSmsTemplate:"/plan-svc/sms/template/getCareSmsTemplate",getCareSmsTemplateApprover:"/plan-svc/sms/template/getCareSmsTemplateApprover",getCareSmsTemplateDetail:"/plan-svc/sms/template/getCareSmsTemplateDetail",getCustGroupVars:"/plan-svc/sms/template/getCustGroupVars",getLabelListDaiwei:"/plan-svc/sms/template/getLabelListDaiwei",getRelaLabels:"/plan-svc/sms/template/getRelaLabels",saveCareSmsTemplate:"/plan-svc/sms/template/saveCareSmsTemplate",saveOrUpdateRela:"/plan-svc/sms/template/saveOrUpdateRela",subCareSmsTemplateApprove:"/plan-svc/sms/template/subCareSmsTemplateApprove"},labelConfig:{mcdCustomLabelDefGet:"/plan-svc/mcdCustomLabelDef",mcdCustomLabelDefPut:"/plan-svc/mcdCustomLabelDef",commitProcess:"/plan-svc/mcdCustomLabelDef/commitProcess",getNodeApprover:"/plan-svc/mcdCustomLabelDef/getNodeApprover",modifySelfDefinedLabelConf:"/plan-svc/mcdCustomLabelDef/modifySelfDefinedLabelConf",selectSelfDefinedLabelConf:"/plan-svc/mcdCustomLabelDef/selectSelfDefinedLabelConf",selectSelfDefinedLabelConfDetail:"/plan-svc/mcdCustomLabelDef/selectSelfDefinedLabelConfDetail",mcdCustomLabelDef:"/plan-svc/mcdCustomLabelDef"},warningConfig:{mcdAppAlarmInfoGet:"/plan-svc/mcdAppAlarmInfo",mcdAppAlarmInfoPost:"/plan-svc/mcdAppAlarmInfo",mcdAppAlarmInfoPut:"/plan-svc/mcdAppAlarmInfo",mcdAppAlarmInfoDelete:"/plan-svc/mcdAppAlarmInfo",batchImportAutoClearAlarm:"/plan-svc/mcdAppAlarmInfo/batchImportAutoClearAlarm",commitProcess:"/plan-svc/mcdAppAlarmInfo/commitProcess",getNodeApprover:"/plan-svc/mcdAppAlarmInfo/getNodeApprover",queryDataSourceList:"/plan-svc/mcdAppAlarmInfo/queryDataSourceList",queryDataTableList:"/plan-svc/mcdAppAlarmInfo/queryDataTableList",querySourceTable:"/plan-svc/mcdAppAlarmInfo/querySourceTable",selectAlarmDetailById:"/plan-svc/mcdAppAlarmInfo/selectAlarmDetailById",selectAlarmType:"/plan-svc/mcdAppAlarmInfo/selectAlarmType",terminateAlarm:"/plan-svc/mcdAppAlarmInfo/terminateAlarm",queryHasRole:"/plan-svc/mcdAppAlarmInfo/queryHasRole",updateAlarmThreshold:"/plan-svc/mcdAppAlarmInfo/updateAlarmThreshold",queryAllCitys:"/plan-svc/mcdAppAlarmInfo/queryAllCitys"},customerCommunicationUseCondition:{exportCampsegHandleDetail:"/plan-svc/action/jx/onlinelChannel/exportCampsegHandleDetail",exportCampsegHandleSummary:"/plan-svc/action/jx/onlinelChannel/exportCampsegHandleSummary",exportChannelUsageList:"/plan-svc/action/jx/onlinelChannel/exportChannelUsageList",exportCityUsageList:"/plan-svc/action/jx/onlinelChannel/exportCityUsageList",exportCountyUsageList:"/plan-svc/action/jx/onlinelChannel/exportCountyUsageList",exportGridUsageList:"/plan-svc/action/jx/onlinelChannel/exportGridUsageList",exportOppoCampCityHandle:"/plan-svc/action/jx/onlinelChannel/exportOppoCampCityHandle",queryCampsegHandleDetail:"/plan-svc/action/jx/onlinelChannel/queryCampsegHandleDetail",queryCampsegHandleSummary:"/plan-svc/action/jx/onlinelChannel/queryCampsegHandleSummary",queryChannelUsageList:"/plan-svc/action/jx/onlinelChannel/queryChannelUsageList",queryCityUsageList:"/plan-svc/action/jx/onlinelChannel/queryCityUsageList",queryCountyUsageList:"/plan-svc/action/jx/onlinelChannel/queryCountyUsageList",queryGridUsageList:"/plan-svc/action/jx/onlinelChannel/queryGridUsageList",queryOppoCampCityHandle:"/plan-svc/action/jx/onlinelChannel/queryOppoCampCityHandle"},customerContactMaintainCondition:{reportSmsMessage:"/plan-svc/reportSmsMessage",export:"/plan-svc/reportSmsMessage/export"},customerCommunicationWarningCondition:{reportYjCityDetailNew:"/plan-svc/reportYjCityDetailNew",reportYjCityDetailNewExport:"/plan-svc/reportYjCityDetailNew/export",reportYjCountyDetailNew:"/plan-svc/reportYjCountyDetailNew",reportYjCountyDetailNewExport:"/plan-svc/reportYjCountyDetailNew/export",reportYjDetailInfo:"/plan-svc/reportYjDetailInfo",reportYjDetailInfoExport:"/plan-svc/reportYjDetailInfo/export",reportYjGridDetailNew:"/plan-svc/reportYjGridDetailNew",reportYjGridDetailNewExport:"/plan-svc/reportYjGridDetailNew/export",reportYjStaffDetailNew:"/plan-svc/reportYjStaffDetailNew",reportYjStaffDetailNewExport:"/plan-svc/reportYjStaffDetailNew/export"},jobNoQuery:{queryFrontStafferList:"/plan-svc/mcd/front/staffer/queryFrontStafferList"},problemFeedback:{addNewReply:"/plan-svc/mcdFeedbackQa/addNewReply",addNewReplyPicture:"/plan-svc/mcdFeedbackQa/addNewReplyPicture",downloadImage:"/plan-svc/mcdFeedbackQa/downloadImage",getAllRepliesByBusinessId:"/plan-svc/mcdFeedbackQa/getAllRepliesByBusinessId",getRecentlyReplyFeedback:"/plan-svc/mcdFeedbackQa/getRecentlyReplyFeedback",mcdManagerFeedback:"/plan-svc/mcdManagerFeedback"},proxyCustomerLabel:{mcdFrontCareSmsLabelGet:"/plan-svc/mcdFrontCareSmsLabel",mcdFrontCareSmsLabelPost:"/plan-svc/mcdFrontCareSmsLabel",mcdFrontCareSmsLabelPut:"/plan-svc/mcdFrontCareSmsLabel",mcdFrontCareSmsLabelDelete:"/plan-svc/mcdFrontCareSmsLabel"},noticeBoard:{mcdBulletinBoardGet:"/plan-svc/mcdBulletinBoard",mcdBulletinBoardPost:"/plan-svc/mcdBulletinBoard",mcdBulletinBoardPut:"/plan-svc/mcdBulletinBoard",mcdBulletinBoardDelete:"/plan-svc/mcdBulletinBoard",deleteImage:"/plan-svc/mcdBulletinBoard/deleteImage",downloadImage:"/plan-svc/mcdBulletinBoard/downloadImage",modifyBulletinStatus:"/plan-svc/mcdBulletinBoard/modifyBulletinStatus",uploadBulletinPictures:"/plan-svc/mcdBulletinBoard/uploadBulletinPictures"},mainPackageConfig:{queryFrontMainOffers:"/plan-svc/mcd/front/mainOfferInfo/queryFrontMainOffers",deleteMainOfferInfo:"/plan-svc/mcd/front/mainOfferInfo/deleteMainOfferInfo",getMainOfferInfoDetail:"/plan-svc/mcd/front/mainOfferInfo/getMainOfferInfoDetail",saveOrUpdateMainOffer:"/plan-svc/mcd/front/mainOfferInfo/saveOrUpdateMainOffer",updateMainOfferInfoStatus:"/plan-svc/mcd/front/mainOfferInfo/updateMainOfferInfoStatus"},keyMonitoring:{queryFrontKeyMonitors:"/plan-svc/mcd/front/keyMonitor/queryFrontKeyMonitors"}}},"94d4":function(e,t,a){"use strict";a("74e3")},"9cb7":function(e,t,a){},aed6:function(e,t,a){},b96e:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"clientele-content"},[t("el-tabs",{attrs:{type:"card"},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},[t("el-tab-pane",{attrs:{label:"客户通主套餐配置",name:"MainList",lazy:!0}},[t("MainList")],1)],1)],1)},r=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"template-wrap-content"},[t("div",{staticClass:"top-edit-part"},[t("div",{staticClass:"search-input"},[t("label",[e._v("主套餐编码/名称：")]),t("el-input",{directives:[{name:"clear-emoij",rawName:"v-clear-emoij"}],staticStyle:{width:"180px"},attrs:{placeholder:"请输入主套餐编码/名称",clearable:""},model:{value:e.searchParams.offerIdOrName,callback:function(t){e.$set(e.searchParams,"offerIdOrName","string"===typeof t?t.trim():t)},expression:"searchParams.offerIdOrName"}})],1),t("div",{staticClass:"search-input"},[t("label",[e._v("归属地市：")]),t("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchParams.cityId,callback:function(t){e.$set(e.searchParams,"cityId",t)},expression:"searchParams.cityId"}},e._l(e.cityList,(function(e){return t("el-option",{key:e.cityId+""+e.cityName,attrs:{label:e.cityName,value:e.cityId}})})),1)],1),t("div",{staticClass:"search-input"},[t("label",[e._v("状态：")]),t("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchParams.state,callback:function(t){e.$set(e.searchParams,"state",t)},expression:"searchParams.state"}},[t("el-option",{attrs:{label:"上线",value:1}}),t("el-option",{attrs:{label:"下线",value:0}})],1)],1),t("div",{staticClass:"search-input"},[t("label",[e._v("创建时间：")]),t("el-date-picker",{staticStyle:{width:"215px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.dateChange},model:{value:e.queryTime,callback:function(t){e.queryTime=t},expression:"queryTime"}})],1)]),t("div",{staticClass:"btn-search"},[t("el-button",{attrs:{type:"primary"},on:{click:e.searchTable}},[e._v("查询")]),t("el-button",{attrs:{type:"success"},on:{click:e.reset}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openDialog(!1)}}},[e._v("新建")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tTable",staticClass:"template-table customTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",height:600}},[t("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",align:"center",width:"45"}}),t("el-table-column",{attrs:{prop:"offerId",label:"套餐编码","header-align":"center",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"offerName",label:"套餐名称","header-align":"center",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"offerDesc",label:"套餐描述","header-align":"center",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"offerRemarks",label:"备注","header-align":"center",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"effectTime",label:"生效时间","header-align":"center",align:"center",width:"90"}}),t("el-table-column",{attrs:{prop:"invalidTime",label:"失效时间","header-align":"center",align:"center",width:"90"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间","header-align":"center",align:"center",width:"90"}}),t("el-table-column",{attrs:{prop:"state",label:"状态","header-align":"center",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.state?t("span",[e._v("已上线")]):t("span",[e._v("已下线")])]}}])}),t("el-table-column",{attrs:{prop:"createUserName",label:"创建人","header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"cityName",label:"归属地市","header-align":"center",align:"center"}}),t("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openDetail(a.row.offerId)}}},[e._v("查看 ")]),a.row.createUserId==e.userId?[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openDialog(a.row.offerId)}}},[e._v(" 编辑 ")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.changeState(a.row)}}},[0==a.row.state?t("span",[e._v("上线")]):t("span",[e._v("下线")])]),t("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(t){return e.handleDelete(a.row)}}},[e._v(" 删除 ")])]:e._e()]}}])})],1),t("el-pagination",{attrs:{"current-page":e.query.current,"page-sizes":[10,20,30,40],"page-size":e.query.size,"pager-count":5,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e.dialogVisible?t("AddEditDialog",{attrs:{dialogVisible:e.dialogVisible,id:e.currentId},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t},refresh:e.searchTable}}):e._e(),e.viewDialogVisible?t("ViewDialog",{attrs:{dialogVisible:e.viewDialogVisible,id:e.currentId},on:{"update:dialogVisible":function(t){e.viewDialogVisible=t},"update:dialog-visible":function(t){e.viewDialogVisible=t}}}):e._e()],1)},s=[],n=a("0fea"),o=a("89ff"),c=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{width:"40%",top:"9vh",title:e.dialogTitle,visible:e.dialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"95px"}},[t("el-form-item",{attrs:{label:"套餐编码：",prop:"offerId"}},[t("el-input",{attrs:{placeholder:"请输入套餐编码"},model:{value:e.form.offerId,callback:function(t){e.$set(e.form,"offerId",t)},expression:"form.offerId"}})],1),t("el-form-item",{attrs:{label:"套餐名称：",prop:"offerName"}},[t("el-input",{attrs:{placeholder:"请输入套餐名称"},model:{value:e.form.offerName,callback:function(t){e.$set(e.form,"offerName",t)},expression:"form.offerName"}})],1),t("el-form-item",{attrs:{label:"归属地市：",prop:"cityId"}},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.saveCityName},model:{value:e.form.cityId,callback:function(t){e.$set(e.form,"cityId",t)},expression:"form.cityId"}},e._l(e.cityList,(function(e){return t("el-option",{key:e.cityId+""+e.cityName,attrs:{label:e.cityName,value:e.cityId}})})),1)],1),t("el-form-item",{attrs:{label:"套餐描述：",prop:"offerDesc"}},[t("el-input",{attrs:{type:"textarea",maxlength:"500","show-word-limit":""},model:{value:e.form.offerDesc,callback:function(t){e.$set(e.form,"offerDesc",t)},expression:"form.offerDesc"}})],1),t("el-form-item",{attrs:{label:"套餐备注：",prop:"offerRemarks"}},[t("el-input",{attrs:{type:"textarea",maxlength:"500","show-word-limit":""},model:{value:e.form.offerRemarks,callback:function(t){e.$set(e.form,"offerRemarks",t)},expression:"form.offerRemarks"}})],1),t("el-form-item",{attrs:{label:"生效时间：",prop:"effectTime"}},[t("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.form.effectTime,callback:function(t){e.$set(e.form,"effectTime",t)},expression:"form.effectTime"}})],1),t("el-form-item",{attrs:{label:"失效时间：",prop:"invalidTime"}},[t("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.form.invalidTime,callback:function(t){e.$set(e.form,"invalidTime",t)},expression:"form.invalidTime"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.$emit("update:dialogVisible",!1)}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},m=[],p={props:{dialogVisible:{type:Boolean,default:!1},id:{type:void 0|String,default:void 0}},data(){return{dialogTitle:"新建主套餐配置",loading:!1,saveLoading:!1,cityList:[],form:{offerId:"",offerName:"",cityId:"",cityName:"",offerDesc:"",offerRemarks:"",effectTime:"",invalidTime:"",state:0},rules:{offerId:[{required:!0,message:"请输入套餐编码",trigger:"blur"}],offerName:[{required:!0,message:"请输入套餐名称",trigger:"blur"}],cityId:[{required:!0,message:"请选择归属地市",trigger:"change"}],effectTime:[{required:!0,message:"请输入生效时间",trigger:"change"}],invalidTime:[{required:!0,message:"请输入失效时间",trigger:"change"}]}}},methods:{async getCityList(){try{this.cityList=await Object(n["i"])(o["a"].blackList.queryAllCitys)}catch(e){}},saveCityName(){const e=this.cityList.find(e=>e.cityId===this.form.cityId);e&&(this.form.cityName=e.cityName)},async getDetail(){try{this.loading=!0;const e=await Object(n["i"])(o["a"].mainPackageConfig.getMainOfferInfoDetail,{offerId:this.id,state:""});this.form={...this.form,...e}}catch(e){}finally{this.loading=!1}},submitForm(){this.$refs["ruleForm"].validate(async e=>{if(e)try{this.saveLoading=!0;await Object(n["i"])(o["a"].mainPackageConfig.saveOrUpdateMainOffer,this.form);this.$emit("refresh"),this.$emit("update:dialogVisible",!1)}catch(t){}finally{this.saveLoading=!1}})}},mounted(){this.id&&(this.dialogTitle="编辑主套餐配置",this.getDetail()),this.getCityList()}},d=p,f=(a("94d4"),a("2877")),u=Object(f["a"])(d,c,m,!1,null,"4e01755f",null),g=u.exports,v=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{width:"40%",top:"9vh",title:e.dialogTitle,visible:e.dialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"主套餐编码：",prop:"offerId"}},[t("span",[e._v(e._s(e.form.offerId))])]),t("el-form-item",{attrs:{label:"主套餐名称：",prop:"offerName"}},[t("span",[e._v(e._s(e.form.offerName))])]),t("el-form-item",{attrs:{label:"归属地市：",prop:"cityId"}},[t("span",[e._v(e._s(e.form.cityName))])]),t("el-form-item",{attrs:{label:"套餐描述：",prop:"offerDesc"}},[t("span",[e._v(e._s(e.form.offerDesc))])]),t("el-form-item",{attrs:{label:"套餐备注：",prop:"offerRemarks"}},[t("span",[e._v(e._s(e.form.offerRemarks))])]),t("el-form-item",{attrs:{label:"状态：",prop:"updateTime"}},[t("span",[e._v(e._s(1==e.form.state?"已上线":"已下线"))])]),t("el-form-item",{attrs:{label:"生效时间：",prop:"effectTime"}},[t("span",[e._v(e._s(e.form.effectTime))])]),t("el-form-item",{attrs:{label:"失效时间：",prop:"invalidTime"}},[t("span",[e._v(e._s(e.form.invalidTime))])]),t("el-form-item",{attrs:{label:"创建时间：",prop:"createTime"}},[t("span",[e._v(e._s(e.form.createTime))])]),t("el-form-item",{attrs:{label:"修改时间：",prop:"updateTime"}},[t("span",[e._v(e._s(e.form.updateTime))])])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$emit("update:dialogVisible",!1)}}},[e._v("确 定")])],1)],1)},y=[],b={props:{dialogVisible:{type:Boolean,default:!1},id:{type:String,default:""}},data(){return{dialogTitle:"主套餐配置详情",loading:!1,cityList:[],form:{offerId:"",offerName:"",cityId:"",cityName:"",offerDesc:"",offerRemarks:"",effectTime:"",invalidTime:"",createTime:"",updateTime:"",state:0}}},methods:{async getDetail(){try{this.loading=!0;const e=await Object(n["i"])(o["a"].mainPackageConfig.getMainOfferInfoDetail,{offerId:this.id,state:""});this.form={...this.form,...e}}catch(e){}finally{this.loading=!1}}},mounted(){this.getDetail()}},h=b,C=(a("e5f9"),Object(f["a"])(h,v,y,!1,null,"60c28b3b",null)),D=C.exports,I={components:{AddEditDialog:g,ViewDialog:D},data(){return{loading:!1,exportLoading:!1,uploadLoading:!1,searchParams:{offerIdOrName:"",cityId:"",startDate:"",endDate:""},query:{current:1,size:10},queryTime:null,total:0,tableData:[],cityList:[],dialogVisible:!1,viewDialogVisible:!1,currentId:void 0,userId:sessionStorage.getItem("userId")}},methods:{dateChange(e){e?(this.searchParams.startDate=e[0],this.searchParams.endDate=e[1]):(this.searchParams.startDate="",this.searchParams.endDate="")},searchTable(){this.query={...this.query,...this.searchParams},this.query.current=1,this.getTableData()},reset(){this.searchParams={offerIdOrName:"",cityId:"",startDate:"",endDate:""},this.queryTime=null,this.query={current:1,size:10},this.query={...this.query,...this.searchParams},this.getTableData()},async getTableData(){try{this.loading=!0;const{records:e,total:t}=await Object(n["i"])(o["a"].mainPackageConfig.queryFrontMainOffers,this.query);this.tableData=e,this.total=t}catch(e){}finally{this.loading=!1}},async getCityList(){try{const e=await Object(n["i"])(o["a"].blackList.queryAllCitys);this.cityList=e}catch(e){}},handleSizeChange(e){this.query.current=1,this.query.size=e,this.getTableData()},handleCurrentChange(e){this.query.current=e,this.getTableData()},openDialog(e){this.dialogVisible=!0,this.currentId=e},openDetail(e){this.viewDialogVisible=!0,this.currentId=e},async changeState(e){try{const t=await this.$confirm(`确认${0==e.state?"上线":"下线"}该主套餐？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});"confirm"===t&&(await Object(n["i"])(o["a"].mainPackageConfig.updateMainOfferInfoStatus,{offerId:e.offerId,state:0==e.state?1:0}),this.$message.success("操作成功！"),e.state=0==e.state?1:0,this.$forceUpdate())}catch(t){}},async handleDelete(e){if(1==e.state)return this.$message.warning("请先下线该主套餐配置!");try{const t=await this.$confirm("即将删除该主套餐配置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});"confirm"===t&&(await Object(n["i"])(o["a"].mainPackageConfig.deleteMainOfferInfo,{offerId:e.offerId}),this.$message.success("删除成功！"),this.getTableData())}catch(t){return t}}},mounted(){this.getTableData(),this.getCityList()}},k=I,w=(a("f0fb"),Object(f["a"])(k,i,s,!1,null,"831c9572",null)),L=w.exports,T={components:{MainList:L},data(){return{tabActive:"MainList"}}},x=T,A=(a("ccd09"),Object(f["a"])(x,l,r,!1,null,"6cec8032",null));t["default"]=A.exports},ccd09:function(e,t,a){"use strict";a("9cb7")},e5f9:function(e,t,a){"use strict";a("aed6")},f0fb:function(e,t,a){"use strict";a("60ff")}}]);