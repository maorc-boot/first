(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59f61888"],{"323e":function(e,t,n){var r,s;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(i,o){r=o,s="function"===typeof r?r.call(t,n,t,e):r,void 0===s||(e.exports=s)})(0,(function(){var e={version:"0.2.0"},t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(e,t,n){return e<t?t:e>n?n:e}function r(e){return 100*(-1+e)}function s(e,n,s){var i;return i="translate3d"===t.positionUsing?{transform:"translate3d("+r(e)+"%,0,0)"}:"translate"===t.positionUsing?{transform:"translate("+r(e)+"%,0)"}:{"margin-left":r(e)+"%"},i.transition="all "+n+"ms "+s,i}e.configure=function(e){var n,r;for(n in e)r=e[n],void 0!==r&&e.hasOwnProperty(n)&&(t[n]=r);return this},e.status=null,e.set=function(r){var a=e.isStarted();r=n(r,t.minimum,1),e.status=1===r?null:r;var u=e.render(!a),c=u.querySelector(t.barSelector),l=t.speed,d=t.easing;return u.offsetWidth,i((function(n){""===t.positionUsing&&(t.positionUsing=e.getPositioningCSS()),o(c,s(r,l,d)),1===r?(o(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout((function(){o(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){e.remove(),n()}),l)}),l)):setTimeout(n,l)})),this},e.isStarted=function(){return"number"===typeof e.status},e.start=function(){e.status||e.set(0);var n=function(){setTimeout((function(){e.status&&(e.trickle(),n())}),t.trickleSpeed)};return t.trickle&&n(),this},e.done=function(t){return t||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(t){var r=e.status;return r?("number"!==typeof t&&(t=(1-r)*n(Math.random()*r,.1,.95)),r=n(r+t,0,.994),e.set(r)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},function(){var t=0,n=0;e.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&e.start(),t++,n++,r.always((function(){n--,0===n?(t=0,e.done()):e.set((t-n)/t)})),this):this}}(),e.render=function(n){if(e.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var s=document.createElement("div");s.id="nprogress",s.innerHTML=t.template;var i,a=s.querySelector(t.barSelector),c=n?"-100":r(e.status||0),l=document.querySelector(t.parent);return o(a,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),t.showSpinner||(i=s.querySelector(t.spinnerSelector),i&&d(i)),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(s),s},e.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var i=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),o=function(){var e=["Webkit","O","Moz","ms"],t={};function n(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function r(t){var n=document.body.style;if(t in n)return t;var r,s=e.length,i=t.charAt(0).toUpperCase()+t.slice(1);while(s--)if(r=e[s]+i,r in n)return r;return t}function s(e){return e=n(e),t[e]||(t[e]=r(e))}function i(e,t,n){t=s(t),e.style[t]=n}return function(e,t){var n,r,s=arguments;if(2==s.length)for(n in t)r=t[n],void 0!==r&&t.hasOwnProperty(n)&&i(e,n,r);else i(e,s[1],s[2])}}();function a(e,t){var n="string"==typeof e?e:l(e);return n.indexOf(" "+t+" ")>=0}function u(e,t){var n=l(e),r=n+t;a(n,t)||(e.className=r.substring(1))}function c(e,t){var n,r=l(e);a(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function l(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e}))},"5b7f":function(e,t,n){"use strict";n("6114")},6114:function(e,t,n){},"871a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_container"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"dot",attrs:{"element-loading-spinner":"el-icon-loading"}})])},s=[],i=n("0fea"),o=n("5e05"),a=n("a454"),u=n("323e"),c=n.n(u);c.a.configure({easing:"ease",speed:1e3,showSpinner:!1,trickleSpeed:200,minimum:.3,parent:"body"});var l={name:"AutoLoginEmis",data(){return{}},created(){this.saveUserInfo()},methods:{async saveUserInfo(){let e=this.$route.query;if(!e.userId)return this.$alert("缺少必要参数！","自动登录失败",{confirmButtonText:"确定",customClass:"errorPrompt"});c.a.start();for(let n in e)"token_type"==n&&(e[n]=e[n].charAt(0).toUpperCase()+e[n].slice(1)),"redirectURL"!=n&&"campsegId"!=n&&sessionStorage.setItem(n,e[n]);sessionStorage.setItem("IOP_TOKEN",e.token_type+" "+e.access_token),sessionStorage.setItem("loginType","EMIS"),this.savePageLog();try{this.encryptUserId(e.userId),await this.getMenuByUserUserId(),this.$nextTick(()=>{this.jump(e)})}catch(t){}finally{c.a.done()}},savePageLog(){Object(i["i"])(o["a"].common.savePageLog,{userId:window.sessionStorage.getItem("userId"),userName:window.sessionStorage.getItem("userNameCn"),logType:0})},async encryptUserId(e){try{const t=await Object(i["i"])(o["a"].common.encrypt+"?userId="+e);sessionStorage.setItem("desId",t)}catch{}},async getMenuByUserUserId(){try{const e=await Object(i["i"])(a["a"].menu.getMenuByUserUserId);if(e.length>0){let t=e.map(e=>(e.path=e.path.trim(),e));t.forEach((e,n)=>{this.$set(t[n],"subMenuList",e.children)}),window.sessionStorage.setItem("menuList",JSON.stringify(t))}}catch{}},jump(e){const{redirectURL:t}=e;t?"zqApprove"===t?this.$router.replace({name:"EnterpriseMarketApprove",params:{userId:e.userId,userName:e.userName}}):this.$router.replace({path:"/MarketingPlanning/ApprovalMp",query:{campsegId:e.campsegId,redirectURL:e.redirectURL}}):this.$router.replace({path:"/home"})}}},d=l,m=(n("5b7f"),n("2877")),p=Object(m["a"])(d,r,s,!1,null,"6f29c291",null);t["default"]=p.exports}}]);