(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b72e16d"],{"271a":function(e,a,t){"use strict";var i=t("cb2d"),l=t("e330"),r=t("577e"),n=t("d6d6"),s=URLSearchParams,o=s.prototype,c=l(o.getAll),m=l(o.has),d=new s("a=1");!d.has("a",2)&&d.has("a",void 0)||i(o,"has",(function(e){var a=arguments.length,t=a<2?void 0:arguments[1];if(a&&void 0===t)return m(this,e);var i=c(this,e);n(a,1);var l=r(t),s=0;while(s<i.length)if(i[s++]===l)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2da6":function(e,a,t){},5494:function(e,a,t){"use strict";var i=t("83ab"),l=t("e330"),r=t("edd0"),n=URLSearchParams.prototype,s=l(n.forEach);i&&!("size"in n)&&r(n,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},"55c4":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e._self._c;return a("div",{staticClass:"template-wrap-content"},[a("div",{staticClass:"top-edit-part"},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.importDialogVisible=!0}}},[e._v("导入任务")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tTable",staticClass:"template-table customTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",height:600}},[a("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",align:"center",width:"45"}}),a("el-table-column",{attrs:{prop:"taskNo",label:"任务编号","header-align":"center",align:"center",width:"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","header-align":"center",align:"center",width:"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"createUser",label:"创建人","header-align":"center",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","header-align":"center",align:"center",width:"160"}}),a("el-table-column",{attrs:{prop:"campTotal",label:"活动数量","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"taskStatus",label:"任务状态","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"taskProgress",label:"任务进度","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"remainTime",label:"剩余时间","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"failReason",label:"失败原因","header-align":"center",align:"center","show-overflow-tooltip":""}})],1),a("el-pagination",{attrs:{"current-page":e.query.current,"page-sizes":[10,20,30,40],"page-size":e.query.size,"pager-count":5,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e.importDialogVisible?a("el-dialog",{attrs:{title:"导入任务",visible:e.importDialogVisible,width:"50%","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(a){e.importDialogVisible=a}}},[a("ImportTask",{on:{close:e.refreshData}})],1):e._e()],1)},l=[],r=t("0fea"),n=t("d212"),s=function(){var e=this,a=e._self._c;return a("div",{staticClass:"form-content"},[a("el-form",{ref:"form",staticClass:"import-task-form",attrs:{"label-position":"right","label-width":"110px",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"导入任务名称",prop:"taskName"}},[a("el-input",{model:{value:e.form.taskName,callback:function(a){e.$set(e.form,"taskName",a)},expression:"form.taskName"}})],1),a("el-form-item",{attrs:{label:"上传本地文件",prop:"file"}},[a("div",{staticClass:"file-content"},[a("input",{ref:"uploadRef",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.getFile}}),a("el-button",{attrs:{type:"primary"},on:{click:e.upload}},[a("i",{staticClass:"el-icon-upload el-icon--left"}),e._v("上传")]),e.fileName?a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.fileName))]):e._e(),e.fileName?a("i",{staticClass:"el-icon-close",staticStyle:{color:"red"},on:{click:e.clearFile}}):e._e()],1)]),a("el-form-item",{attrs:{label:"渠道模板",prop:"channelId"}},[a("div",{staticClass:"model-content"},[a("el-select",{attrs:{placeholder:"请选择渠道模板"},model:{value:e.form.channelId,callback:function(a){e.$set(e.form,"channelId",a)},expression:"form.channelId"}},e._l(e.channelList,(function(e){return a("el-option",{key:e.channelId,attrs:{label:e.channelName,value:e.channelId}})})),1),a("el-button",{attrs:{type:"text",icon:"el-icon-download",loading:e.downLoading},on:{click:e.downTemp}},[e._v("下载模板")])],1)]),a("el-form-item",{attrs:{label:"导入任务描述",prop:"taskDesc"}},[a("div",[a("el-input",{model:{value:e.form.taskDesc,callback:function(a){e.$set(e.form,"taskDesc",a)},expression:"form.taskDesc"}})],1)]),a("el-form-item",[a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.submit}},[e._v("提交")])],1)])],1)],1)},o=[],c=(t("88a7"),t("271a"),t("5494"),t("d39c")),m={name:"ImportTask",data(){return{submitLoading:!1,downLoading:!1,form:{taskName:"",file:"",channelId:"906",taskDesc:""},rules:{taskName:[{required:!0,message:"请输入导入任务名称",trigger:"blur"}],file:[{required:!0,message:"请选择上传本地文件",trigger:"blur"}],channelId:[{required:!0,message:"请选择渠道模板",trigger:"change"}]},fileName:"",channelList:[{channelId:"906",channelName:"营业厅网台"},{channelId:"804",channelName:"10086呼入弹屏"},{channelId:"809",channelName:"客户通"},{channelId:"922",channelName:"HUI买APP"}]}},methods:{async getChannelList(){try{const e=await Object(r["i"])(c["a"].seapi.queryOpelistData);this.channelList=e}catch(e){}},downTemp(){if(this.$refs["form"].validateField("channelId",e=>e),!this.form.channelId)return;let e=`/plan-svc/import_template_${this.form.channelId}.xlsx`,a=this.channelList.find(e=>e.channelId==this.form.channelId).channelName,t=`${a}_${this.form.channelId}_渠道模板.xlsx`,i=document.createElement("a");i.download=t,i.style.display="none",i.href=e,document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)},upload(){this.$refs["uploadRef"].value=null,this.$refs["uploadRef"].click()},getFile({target:e}){const a=e.files[0];a.name.endsWith(".xlsx")?(this.fileName=a.name,this.form.file=a):this.$alert("请上传excel文件","提示",{confirmButtonText:"确定",type:"warning",callback:()=>{this.clearFile()}})},clearFile(){this.fileName="",this.form.file=""},submit(){this.$refs["form"].validate(async e=>{if(!e)return!1;try{this.submitLoading=!0;let e=new FormData;e.append("file",this.$refs["uploadRef"].files[0]);await Object(r["j"])(n["a"].effectAppraisal.batchImportCamp+"?channelId="+this.form.channelId+"&taskName="+this.form.taskName+"&taskDesc="+this.form.taskDesc,e);this.$message.success("导入任务创建成功"),this.$emit("close")}catch(a){}finally{this.submitLoading=!1}})}},created(){}},d=m,p=(t("be3f"),t("2877")),u=Object(p["a"])(d,s,o,!1,null,"c49102a0",null),v=u.exports,h={name:"BatchImport",components:{ImportTask:v},data(){return{loading:!1,exportLoading:!1,query:{keyWords:"",current:1,size:10},total:0,tableData:[],importDialogVisible:!1}},methods:{async getTableData(){try{this.loading=!0;const{records:e,total:a}=await Object(r["i"])(n["a"].effectAppraisal.queryTask,this.query);this.tableData=e,this.total=a}catch(e){}finally{this.loading=!1}},handleSizeChange(e){this.query.current=1,this.query.size=e,this.getTableData()},handleCurrentChange(e){this.query.current=e,this.getTableData()},handleTaskStatus(e){switch(e.taskStatus){case 1:return"执行中";case 2:return"执行完成";case 3:return"执行失败";default:return""}},refreshData(){this.importDialogVisible=!1,this.query.current=1,this.getTableData()}},mounted(){this.getTableData()}},g=h,f=(t("c097"),Object(p["a"])(g,i,l,!1,null,"0ff61998",null));a["default"]=f.exports},"88a7":function(e,a,t){"use strict";var i=t("cb2d"),l=t("e330"),r=t("577e"),n=t("d6d6"),s=URLSearchParams,o=s.prototype,c=l(o.append),m=l(o["delete"]),d=l(o.forEach),p=l([].push),u=new s("a=1&a=2&b=3");u["delete"]("a",1),u["delete"]("b",void 0),u+""!=="a=2"&&i(o,"delete",(function(e){var a=arguments.length,t=a<2?void 0:arguments[1];if(a&&void 0===t)return m(this,e);var i=[];d(this,(function(e,a){p(i,{key:a,value:e})})),n(a,1);var l,s=r(e),o=r(t),u=0,v=0,h=!1,g=i.length;while(u<g)l=i[u++],h||l.key===s?(h=!0,m(this,l.key)):v++;while(v<g)l=i[v++],l.key===s&&l.value===o||c(this,l.key,l.value)}),{enumerable:!0,unsafe:!0})},bb5d:function(e,a,t){},be3f:function(e,a,t){"use strict";t("2da6")},c097:function(e,a,t){"use strict";t("bb5d")},d212:function(e,a,t){"use strict";const i="/mcd-eval/action",l="/plan-svc/api",r="/element-svc/api";a["a"]={effectAppraisal:{queryActServiceTypeInfo:i+"/effectEvaluate/activity/queryActServiceTypeInfo.do",queryUserCityInfo:i+"/effectEvaluate/activity/queryUserCityInfo.do",queryChannelInfo:i+"/effectEvaluate/activity/queryChannelInfo.do",queryPlanTypeInfo:i+"/effectEvaluate/activity/queryPlanTypeInfo.do",queryActServiceTypeIndicatorInfo:i+"/effectEvaluate/activity/queryActServiceTypeIndicatorInfo.do",saveViewIndicatorInfo:i+"/effectEvaluate/activity/saveViewIndicatorInfo.do",listCampInfo:i+"/effectEvaluate/activity/listCampInfo.do",listPlanInfo:i+"/effectEvaluate/product/listPlanInfo.do",channelOrSceneAppraise:i+"/appraisal/channelOrSceneAppraise.do",pagelist:l+"/singleUser/pagelist",queryPage:"/eval-svc/eval5g/queryPage",export:"/eval-svc/eval5g/export",queryPageCloud:"/eval-svc/eval/5gcloud/queryPage",export5gCloudEvalListData:"/eval-svc/eval/5gcloud/export5gCloudEvalListData",exportIvr:"/eval-svc/reportIvr/export",queryPageIvr:"/eval-svc/reportIvr/queryPage",querySystemUsageCityList:l+"/action/systemUsage/querySystemUsageCityList",querySystemUsageDeptList:l+"/action/systemUsage/querySystemUsageDeptList",querySystemUsagePersonageList:l+"/action/systemUsage/querySystemUsagePersonageList",getUsageCityDetailList:l+"/action/systemUsage/getUsageCityDetailList",getUsageDeptDetailList:l+"/action/systemUsage/getUsageDeptDetailList",getUsagePersonageDetailList:l+"/action/systemUsage/getUsagePersonageDetailList",exportReport:"/eval-svc/report/export",queryPageReport:"/eval-svc/report/queryPage",batchDeleteMaterial:r+"/mcdDimMaterial/jx/batchDeleteMaterial",deleteMaterial:r+"/mcdDimMaterial/jx/deleteMaterial",getIntelligentMatchingMaterialList:r+"/mcdDimMaterial/jx/getIntelligentMatchingMaterialList",getMaterial:r+"/mcdDimMaterial/jx/getMaterial",loadImage:r+"/mcdDimMaterial/jx/loadImage",materialImportTemplateDownload:r+"/mcdDimMaterial/jx/materialImportTemplateDownload",queryChannel:r+"/mcdDimMaterial/jx/queryChannel",queryContact:r+"/mcdDimMaterial/jx/queryContact",queryMaterialPageList:r+"/mcdDimMaterial/jx/queryMaterialPageList",queryPosition:r+"/mcdDimMaterial/jx/queryPosition",removeMaterialById:r+"/mcdDimMaterial/jx/removeMaterialById",saveOrUpdateMaterial:r+"/mcdDimMaterial/jx/saveOrUpdateMaterial",updateMaterialStatus:r+"/mcdDimMaterial/jx/updateMaterialStatus",uploadMaterialPicture:r+"/mcdDimMaterial/jx/uploadMaterialPicture",uploadMaterialsFile:r+"/mcdDimMaterial/jx/uploadMaterialsFile",uploadMaterialVideo:r+"/mcdDimMaterial/jx/uploadMaterialVideo",exportMaterialsFile:r+"/mcdDimMaterial/jx/exportMaterialsFile",queryChart:"/eval-svc/home/eval/queryChart",monthEffect:"/eval-svc/home/eval/month/effect",dayEffect:"/eval-svc/home/eval/day/effect",getTacticsListByCityId:"/eval-svc/home/eval/getTacticsListByCityId",queryChannelRadarMap:"/eval-svc/eval/queryChannelRadarMap",queryMonitor:"/plan-svc/api/monitor/queryMonitor",getCaliberInfo:"/plan-svc/api/kpi/getCaliberInfo",updateCaliberInfo:"/plan-svc/api/kpi/updateCaliberInfo",queryChannelEval:"/eval-svc/evaluate/channel/jx/list",exportChannelEval:"/eval-svc/evaluate/channel/jx/exportChannelEval",campEval:"/eval-svc/eval/campEval",exportActivityEval:"/eval-svc/eval/export",exportEffectEval:"/eval-svc/effect/eval/exportEffectEval",getDetailByDrillDownType:"/eval-svc/effect/eval/getDetailByDrillDownType",queryEffectEvalAllCount:"/eval-svc/effect/eval/queryEffectEvalAllCount",gridExport:"/eval-svc/smart/grid/eval/export",gridEval:"/eval-svc/smart/grid/eval/gridEval",exportSmsSendHistory:"/plan-svc/mcd/sms/send/exportSmsSendHistory",querySmsSendHistory:"/plan-svc/mcd/sms/send/querySmsSendHistory",querySmsSendMonitory:"/plan-svc/mcd/sms/send/querySmsSendMonitory",smsSendHistoryTask:"/plan-svc/mcd/sms/send/smsSendHistoryTask",smsSendMonitorTask:"/plan-svc/mcd/sms/send/smsSendMonitorTask",smsSendTaskPause:"/plan-svc/mcd/sms/send/smsSendTaskPause",queryTask:"/plan-svc/mcd-camp-import-task/queryTask",batchImportCamp:"/plan-svc/mcd-camp-import-task/batchImportCamp",successRate:"/eval-svc/eval/home/successRate",sucess:"/eval-svc/eval/home/sucess",total:"/eval-svc/eval/home/total",dw88Camp:"/eval-svc/mcd/onlinel/report/dw88Camp",dwHeigh88City:"/eval-svc/mcd/onlinel/report/dwHeigh88City",getDateTime:"/eval-svc/mcd/onlinel/report/getDateTime",onlineReportDataExport:"/eval-svc/mcd/onlinel/report/onlineReportDataExport",stCamp85CityDm:"/eval-svc/mcd/onlinel/report/stCamp85CityDm",stCamp85HdDm:"/eval-svc/mcd/onlinel/report/stCamp85HdDm",stCamp86CityDm:"/eval-svc/mcd/onlinel/report/stCamp86CityDm",stCamp86HdDm:"/eval-svc/mcd/onlinel/report/stCamp86HdDm",qryTermEval:"/mkt-term-svc/api/qryTermEval"}}},d39c:function(e,a,t){"use strict";const i="/element-svc/api",l="/preview-svc",r="/mcd-web/action";a["a"]={seapi:{querylistEnumValue:"/element-svc/mcd-plan-label/queryLabelByKey",loadImage:i+"/mcdDimMaterial/loadImage",queryTableList:"/element-svc/api/jx/mcdPlanDef/queryPlanDefPageList",saveStatus:i+"/mcdPlanDef/updatePlanDefStatus",queryDetail:"/element-svc/api/jx/mcdPlanDef/getPlanDetailById",mcdChannelList:i+"/mcdDimMaterial/queryChannel",mcdContList:i+"/mcdDimMaterial/queryContact",mcdPositList:i+"/mcdDimMaterial/queryPosition",getChannels:i+"/mcdDimChannel/pagelistDimChannel",queryContactByChannelId:i+"/iop/operatingPositionManager/queryContactByChannelId.do",queryPosition:i+"/iop/template/queryPosition",getOnlineChannels:i+"/mcdDimChannel/listDimChannel  ",getOnlineChannelsByUser:i+"/mcdDimChannel/jx/listDimChannel",getSysDics:"/plan-svc/action/iop/common/getSysDics",queryDigitalProductContents:i+"/iopDigitalProduct/queryDigitalProductPageList",queryConentDetailById:i+"/iopDigitalProduct/getDigitalProduct",updateDigitalProuctStatus:i+"/iopDigitalProduct/updateDigitalProductStatus",queryMaterialInfo:i+"/mcdDimMaterial/queryMaterialPageList",deleteMaterById:i+"/mcdDimMaterial/deleteMaterial",queryMaterialById:i+"/mcdDimMaterial/getMaterial",saveOrUpdateMaterial:i+"/mcdDimMaterial/saveOrUpdateMaterial",uploadMaterImg:i+"/mcdDimMaterial/uploadMaterialPicture",uploadMaterVideo:i+"/mcdDimMaterial/uploadMaterialVideo",uploadMaterFile:i+"/mcdDimMaterial/uploadMaterialsFile",queryIopContactList:i+"/jx/mcdDimContact/pagelistMcdDimContact",queryContactDetailById:i+"/jx/mcdDimContact/getDimContactDetail",listAllChannelName:i+"/mcdDimChannel/listAllChannelNameAndId",deleteContactById:i+"/mcdDimContact/removeContact",saveOrUpdateContact:i+"/jx/mcdDimContact/saveOrUpdateContact",validateContactName:i+"/mcdDimContact/getValidateContactName",displayChannelList:"/element-svc/api/mcdDimChannel/jx/pagelistDimChannel",validateChannelName:i+"/mcdDimChannel/getValidateChannelName",saveOrUpdateChannel:"/element-svc/api/mcdDimChannel/jx/saveOrUpdateDimChannel",deleteChannelById:i+"/mcdDimChannel/removeDimChannel",channelDetail:i+"/mcdDimChannel/getDimChannel",customerLike:"/preview-svc/jx/chnPre/queryPreData",channelDetail:"/element-svc/mcd-dim-channel-desc/query",uploaChanPromptFile:"/element-svc/api/mcdDimChannel/jx/uploaChanPromptFile",downloadChanPromptFile:"/plan-svc/mcd/chan/prompt/downloadChanPromptFile",queryDimChannelInfo:"/element-svc/api/mcdDimChannel/jx/queryDimChannelInfo",queryChannelEValData:"/groupmarket/enterprise/queryChannelEValData",queryIopOperatingPosition:i+"/mcdDimAdivInfo/pagelistAdivInfo",deleteOperatingPositionById:i+"/mcdDimAdivInfo/removeAdivInfo",queryOperPositionDetail:i+"/mcdDimAdivInfo/getAdivInfo",queryOpelistData:i+"/mcdDimAdivInfo/listChannelInfoAndContactInfo",queryCampsegInfoWithThisPosId:i+"/mcdDimAdivInfo/listpageCampsegInfoWithThisAdivId",getConfigList:i+"/mcdDimAttrConf/queryConfigList",validateOperationName:i+"/mcdDimAdivInfo/getValidateAdivInfoName",getValidateAdivInfoId:i+"/jx/mcdDimAdivInfo/getValidateAdivInfoId",saveOrUpdateOperPosition:i+"/mcdDimAdivInfo/saveOrUpdateAdivInfo",getChannelScheduleList:r+"/channelview/getChannelScheduleList",querySensitiveCust:l+"/mcd-channel-sensitive-cust-conf/querySensitiveCust",saveSensitiveCust:l+"/mcd-channel-sensitive-cust-conf/saveSensitiveCust",deleteSensitiveCust:l+"/mcd-channel-sensitive-cust-conf/deleteSensitiveCust",batchDeleteSensitiveCust:l+"/mcd-channel-sensitive-cust-conf/batchDeleteSensitiveCust",pagelistApproveMaterial:i+"/mcdDimMaterialApprove/pagelistApproveMaterial",approveRecord:i+"/mcdDimMaterialApprove/approveRecord",pagelistMyMaterial:i+"/mcdDimMaterialTemplate/pagelistMyMaterial",pagelistExcellentMaterial:i+"/mcdDimMaterialTemplate/pagelistExcellentMaterial",pagelistHotSpotMaterial:i+"/mcdDimMaterialTemplate/pagelistHotSpotMaterial",updateMaterialStatus:i+"/mcdDimMaterial/updateMaterialStatus",getMaterialApprover:i+"/mcdDimMaterialApprove/getMaterialApprover",getCmpApprovalProcess:i+"/mcdDimMaterialApprove/getCmpApprovalProcess",subMaterialApprove:i+"/mcdDimMaterialApprove/subMaterialApprove",addExcellentMaterialLibrary:i+"/mcdDimMaterialTemplate/addExcellentMaterialLibrary",removeExcellentMaterialLibrary:i+"/mcdDimMaterialTemplate/removeExcellentMaterialLibrary",createExcellentMaterial:i+"/mcdDimMaterialTemplate/createExcellentMaterial",createHotSpotMaterial:i+"/mcdDimMaterialTemplate/createHotSpotMaterial",removeMyMaterial:i+"/mcdDimMaterialTemplate/removeMyMaterial",getIntell:i+"/mcdDimMaterial/getIntelligentMatchingMaterialList"}}},d6d6:function(e,a,t){"use strict";var i=TypeError;e.exports=function(e,a){if(e<a)throw new i("Not enough arguments");return e}},edd0:function(e,a,t){"use strict";var i=t("13d2"),l=t("9bf2");e.exports=function(e,a,t){return t.get&&i(t.get,a,{getter:!0}),t.set&&i(t.set,a,{setter:!0}),l.f(e,a,t)}}}]);