(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d7f6016"],{"019c":function(e,t,s){},"35ee":function(e,t,s){"use strict";s("019c")},9357:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"scene"},[t("header",[t("div",{staticClass:"customer"},[t("span",[t("span",[e._v(e._s(e.isFission?e.title:e.form.sceneName)+"：")])]),null!==e.form.customerNum?t("span",[e._v(" "+e._s(e.form.customerNum)+"人 ")]):e._e()]),e.isFission?t("el-button",{attrs:{type:"text",size:"medium"},on:{click:e.remove}},[e._v("删除场景")]):e._e()],1),t("div",{staticClass:"scene__container"},[t("el-form",{ref:"formRef",attrs:{"label-width":"120px","label-suffix":"：",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"场景名称",prop:"sceneName"}},[t("el-input",{attrs:{maxlength:25,"show-word-limit":""},model:{value:e.form.sceneName,callback:function(t){e.$set(e.form,"sceneName",t)},expression:"form.sceneName"}})],1),t("el-form-item",{attrs:{label:"场景条件",prop:"customerInfo.customGroupId"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择客群"},on:{change:e.customerInfoChange},model:{value:e.form.customerInfo.customGroupId,callback:function(t){e.$set(e.form.customerInfo,"customGroupId",t)},expression:"form.customerInfo.customGroupId"}},e._l(e.form.selectCustomerList,(function(e){return t("el-option",{key:e.customGroupId,attrs:{label:e.customGroupName,value:e.customGroupId}})})),1)],1)],1)],1)])},r=[],m={props:{childIndex:{type:Number,default:0},title:{type:String,default:""},echoData:{type:Object,default:()=>{}},node:{type:Object,default:()=>({})},isFission:{type:Boolean,default:!0}},data(){return{form:{sceneId:"",sceneName:"",attrType:"0",selectCustomerList:[],customerInfo:{},selectAttrList:[],selectAttrStr:"",customerNum:null,conditionDesc:"",conditionParams:[],conditions:[],validateC:null,children:[]},rules:{sceneName:[{required:!0,message:"请输入场景名称",trigger:"blur"}],"customerInfo.customGroupId":[{required:!0,message:"请选择客群",trigger:"change"}]}}},methods:{echoForm(){this.form={...this.form,...this.echoData}},customerInfoChange(e){const t=this.form.selectCustomerList.find(t=>t.customGroupId===e);this.form.customerInfo=JSON.parse(JSON.stringify(t)),this.form.customerNum=this.form.customerInfo.customNum||0,this.form.conditionDesc="客群："+this.form.customerInfo.customGroupName},validate(){return new Promise((e,t)=>{this.$refs.formRef.validate(s=>{if(s){if(!this.form.customerNum)return this.$message({message:"客群数量不能等于0！请重新选择客群！",type:"error"}),t({type:"scroll",childIndex:this.childIndex});e(this.form)}else t({type:"scroll",childIndex:this.childIndex})})})},remove(){this.$emit("remove")}},created(){this.echoForm()}},c=m,i=(s("35ee"),s("2877")),n=Object(i["a"])(c,o,r,!1,null,"edd53a30",null);t["default"]=n.exports}}]);