(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5a4e3d2"],{"097a":function(t,e,a){},"50d8":function(t,e,a){},"7da2":function(t,e,a){"use strict";a("cd2a")},8726:function(t,e,a){"use strict";a("50d8")},"8a00":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-wrap"},[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"home-top"},[e("img",{attrs:{src:t.imgSrc,alt:"",srcset:""}}),e("div",{staticClass:"home-top-cont"},[e("h2",{staticClass:"title"},[t._v("如何创建营销策略？")]),e("ul",[e("li",[e("div",{staticClass:"cmt"},[e("span",[t._v("1")]),e("p",[t._v("要有客户群")])]),e("i",{staticClass:"down comm"}),e("div",{staticClass:"link_cmt"},[e("el-link",{attrs:{type:"primary"},on:{click:t.createCustems}},[t._v("创建客户群")])],1)]),e("li",{staticClass:"li_img"},[e("i",{staticClass:"comm"})]),e("li",[e("div",{staticClass:"cmt"},[e("span",[t._v("2")]),e("p",[t._v("营销策略投放")])]),e("i",{staticClass:"down comm"}),e("div",{staticClass:"link_cmt"},[e("el-link",{attrs:{type:"primary"},on:{click:t.manageMarketActive}},[t._v("管理")]),e("el-link",{attrs:{type:"primary"},on:{click:t.createMarketActive}},[t._v("新建")]),e("el-link",{attrs:{type:"primary"},on:{click:t.approveActive}},[t._v("审批")])],1)]),e("li",{staticClass:"li_img"},[e("i",{staticClass:"comm"})]),e("li",[e("div",{staticClass:"cmt"},[e("span",[t._v("3")]),e("p",[t._v("营销策略评估")])]),e("i",{staticClass:"down comm"}),e("div",{staticClass:"link_cmt"},[e("el-link",{attrs:{type:"primary"},on:{click:t.evaluateEffect}},[t._v("效果评估")])],1)])])])])])],1),e("div",{staticClass:"fe-p-24"},[e("el-row",{staticClass:"home-quota",attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"quota-cont quota-cont-one"},[e("div",{staticClass:"quota-icon-box"},[e("i",{staticClass:"comm i1"}),e("div",{staticClass:"mouse-event",on:{click:function(e){return t.goDetails("tab1","M")}}},[e("p",[t._v(" 总办理量 "),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"2px",height:"0px",width:"10px"}})]),e("span",[t._v(t._s(null===t.flipCount.totalSuccessNum?0:t.flipCount.totalSuccessNum))])])]),e("em",{staticClass:"em1"}),e("div",{staticClass:"now-box"},[e("p",{staticClass:"mouse-event",on:{click:function(e){return t.goDetails("tab1","D")}}},[t._v("昨日办理量 "),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"2px"}}),e("span",[t._v(t._s(null===t.flipCount.saleSuccessNumDay?0:t.flipCount.saleSuccessNumDay))])]),e("p",{staticClass:"mouse-event",on:{click:function(e){return t.goDetails("tab1","D")}}},[t._v("本月办理量"),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"2px"}}),e("span",[t._v(t._s(null===t.flipCount.saleSuccessNumMon?0:t.flipCount.saleSuccessNumMon))])])])])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"quota-cont"},[e("div",{staticClass:"quota-icon-box"},[e("i",{staticClass:"comm i2"}),e("div",{staticClass:"mouse-event",on:{click:function(e){return t.goDetails("tab2","M")}}},[e("p",[t._v(" 触发总量"),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"2px",height:"0px",width:"10px"}})]),e("span",[t._v(t._s(null===t.flipCount.totalNum?0:t.flipCount.totalNum))])])]),e("em"),e("div",{staticClass:"now-box"},[e("p",{staticClass:"mouse-event",on:{click:function(e){return t.goDetails("tab2","D")}}},[t._v("昨日触发量"),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"2px"}}),e("span",[t._v(t._s(null===t.flipCount.saleNumDay?0:t.flipCount.saleNumDay))])]),e("p",{staticClass:"mouse-event",on:{click:function(e){return t.goDetails("tab2","D")}}},[t._v("本月触发量"),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"2px"}}),e("span",[t._v(t._s(null===t.flipCount.saleNumMon?0:t.flipCount.saleNumMon))])])])])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"quota-cont"},[e("div",{staticClass:"quota-icon-box"},[e("i",{staticClass:"comm i3"}),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.gotoMarketingMP(2)}}},[e("p",[t._v("营销策略(个)"),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{height:"12px"}})]),e("span",[t._v(t._s(t.planCount.totalNum))])])]),e("em"),e("div",{staticClass:"now-box"},[e("p",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.gotoMarketingMP(2,{campsegStatId:"54"})}}},[t._v(" 执行中策略(个) "),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"3px"}}),e("span",[t._v(t._s(t.planCount.runningNum))])]),e("p",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.gotoMarketingMP(2,{time:"currentMonth"})}}},[t._v(" 本月新增策略(个) "),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-top":"3px"}}),e("span",[t._v(t._s(t.planCount.monthAddedNum))])])])])])],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"excellent-strategy strategy-box"},[e("div",{staticClass:"excellent-top"},[e("h3",[t._v("优秀营销策略推荐")]),e("div",{staticClass:"top-swiper"},[e("div",{staticClass:"swiper-button-prev comm"}),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),e("div",{staticClass:"swiper-button-next comm"})])]),t.recommendList.length>0?e("div",{staticClass:"excellent-cont"},[e("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},t._l(t.recommendList,(function(t,a){return e("swiper-slide",{key:a+"recommendList"},[e("SwiperCard",{attrs:{item:t,index:a}})],1)})),1)],1):e("div",{staticClass:"excellent-cont"},[t._v("暂无数据")])])])],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"my-strategy strategy-box"},[e("div",{staticClass:"excellent-top"},[e("h3",[t._v("我的营销策略")]),e("div",{staticClass:"more",on:{click:t.goMymethod}},[t._v("更多")])]),e("el-table",{attrs:{data:t.myTableData}},[e("el-table-column",{attrs:{prop:"address",label:"序号",type:"index",align:"center","show-overflow-tooltip":!0}}),e("el-table-column",{attrs:{prop:"campsegId",label:"策略编号",width:"300px","show-overflow-tooltip":!0,align:"center"}}),e("el-table-column",{attrs:{prop:"campsegName",label:"策略名称",width:"330px","show-overflow-tooltip":!0,align:"left"}}),e("el-table-column",{attrs:{prop:"campsegStatId","show-overflow-tooltip":!0,label:"状态",align:"center"}}),e("el-table-column",{attrs:{prop:"yesterdaySuccess","show-overflow-tooltip":!0,label:"昨日成功数",align:"center"}}),e("el-table-column",{attrs:{prop:"monthlySuccess","show-overflow-tooltip":!0,label:"本月成功数",align:"center"}}),e("el-table-column",{attrs:{prop:"campsegStatName",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.goActiveDetails(a.row.campsegId)}}},[t._v(" 查看 ")])]}}])})],1)],1)])],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"all-business strategy-box"},[e("div",{staticClass:"excellent-top"},[e("h3",[t._v("全局业务概览")]),e("div",{staticClass:"business-top-tabs"},[e("el-tabs",{on:{"tab-click":t.businessClick},model:{value:t.businessName,callback:function(e){t.businessName=e},expression:"businessName"}},[e("el-tab-pane",{attrs:{label:"审批中",name:"40"}},[e("ul",t._l(t.businessData,(function(a,s){return e("li",{key:s},[e("h4",[e("em"),e("p",[t._v(t._s(a.title))])]),"40"===t.businessName?e("TabCard",{attrs:{businessData:a}}):t._e()],1)})),0)]),e("el-tab-pane",{attrs:{label:"待执行",name:"50"}},[e("ul",t._l(t.businessData,(function(a,s){return e("li",{key:s},[e("h4",[e("em"),e("p",[t._v(t._s(a.title))])]),"50"===t.businessName?e("TabCard",{attrs:{businessData:a}}):t._e()],1)})),0)]),e("el-tab-pane",{attrs:{label:"执行中",name:"54"}},[e("ul",t._l(t.businessData,(function(a,s){return e("li",{key:s},[e("h4",[e("em"),e("p",[t._v(t._s(a.title))])]),"54"===t.businessName?e("TabCard",{attrs:{businessData:a}}):t._e()],1)})),0)]),e("el-tab-pane",{attrs:{label:"审批驳回",name:"41"}},[e("ul",t._l(t.businessData,(function(a,s){return e("li",{key:s},[e("h4",[e("em"),e("p",[t._v(t._s(a.title))])]),"41"===t.businessName?e("TabCard",{attrs:{businessData:a}}):t._e()],1)})),0)]),e("el-tab-pane",{attrs:{label:"暂停",name:"59"}},[e("ul",t._l(t.businessData,(function(a,s){return e("li",{key:s},[e("h4",[e("em"),e("p",[t._v(t._s(a.title))])]),"59"===t.businessName?e("TabCard",{attrs:{businessData:a}}):t._e()],1)})),0)]),e("el-tab-pane",{attrs:{label:"终止",name:"91"}},[e("ul",t._l(t.businessData,(function(a,s){return e("li",{key:s},[e("h4",[e("em"),e("p",[t._v(t._s(a.title))])]),"91"===t.businessName?e("TabCard",{attrs:{businessData:a}}):t._e()],1)})),0)])],1)],1)])])])],1)],1)],1)},i=[],l=(a("14d9"),a("7212")),n=(a("dfa4"),a("e0fc")),r=a.n(n),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper-card-wrap"},[e("el-tooltip",{attrs:{effect:"dark",content:t.item.campsegName,placement:"top"}},[e("div",{staticClass:"title",on:{click:function(e){return t.goDetail(t.item)}}},[t._v(" "+t._s(t.item.campsegName)+" ")])]),e("div",{staticClass:"card-cont"},[e("div",{staticClass:"card-progress"},[e("el-progress",{attrs:{type:"circle","stroke-width":4,color:t.func(t.index),width:70,percentage:100*t.item.campSuccRate}})],1),e("div",{staticClass:"card-list"},[e("p",{staticClass:"list"},[t._v(" 营销用户数"),e("span",{staticClass:"cell-num"},[t._v(t._s(t.item.campUserNum))])]),e("p",{staticClass:"list"},[t._v(" 成功用户数"),e("span",{staticClass:"cell-num"},[t._v(t._s(t.item.campSuccNum))])])])])],1)},c=[],u={props:{item:Object,index:Number},data(){return{colorArr:["#0070FF","#00CF8A"]}},methods:{func(t){let e=t%2;return this.colorArr[e]},goDetail(t){this.$router.push({path:"/MarketingPlanning/MarketingDetails",query:{campsegRootId:t.campsegId,backName:this.$router.currentRoute.name}})}}},p=u,m=(a("7da2"),a("2877")),b=Object(m["a"])(p,o,c,!1,null,null,null),h=b.exports,d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-card-wrap"},[e("div",{ref:"pieChart",staticClass:"echart-box"}),e("div",{staticClass:"tab-card-cont"},t._l(t.businessData.numberArr,(function(a,s){return e("div",{key:s,staticClass:"card-cont-num"},[e("em",{style:{background:t.pieDataColorArr[s]}}),e("p",[t._v(t._s(a.name))]),e("span",[t._v(t._s(a.value))])])})),0)])},v=[],C={name:"TabCard",props:{businessData:Object},data(){return{pieDataColorArr:[],sto:null,myChart:null}},created(){this.pieDataColorArr=this.$store.state.pieDataColorArr},watch:{businessData:{handler(t){this.businessData=t,this.drawPie()},deep:!0}},mounted(){this.drawPie()},beforeDestroy(){clearTimeout(this.sto),this.myChart.dispose(),window.removeEventListener("resize",this.resize)},methods:{drawPie(){this.$nextTick(()=>{clearTimeout(this.sto);let t=this;this.myChart=this.$echarts.init(this.$refs.pieChart);const e={color:this.pieDataColorArr,tooltip:{trigger:"item"},title:{text:["{value|"+t.businessData.allValue+"}","{name|"+t.businessData.allName+"}"].join("\n"),x:"center",y:"center",zlevel:0,textStyle:{rich:{value:{color:"#333",fontSize:18,lineHeight:24,fontWeight:"bold"},name:{color:"#999",fontSize:12,lineHeight:20,fontWeight:"normal"}}}},series:[{name:t.businessData.title,type:"pie",radius:["80%","90%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:0,borderColor:"#fff",borderWidth:2},labelLine:{show:!1},label:{show:!1,position:"center"},data:t.businessData.numberArr}]};this.myChart.clear(),this.myChart.setOption(e,{notMerge:!0}),this.sto=setTimeout((function(){window.addEventListener("resize",t.resize)}),200)})},resize(){this.myChart.resize()}}},g=C,f=(a("ace3"),Object(m["a"])(g,d,v,!1,null,"0965cd97",null)),y=f.exports,_=a("0fea"),w=a("f3ba"),D={components:{swiper:l["swiper"],swiperSlide:l["swiperSlide"],SwiperCard:h,TabCard:y},data(){return{imgSrc:r.a,planCount:{totalNum:0,runningNum:0,monthAddedNum:0},flipCount:{saleNumDay:0,saleNumMon:0,totalNum:0,saleSuccessNumDay:0,saleSuccessNumMon:0,totalSuccessNum:0},stateList:[{label:"草稿",name:"20"},{label:"预演中",name:"31"},{label:"预演完成",name:"32"},{label:"预演失败",name:"33"},{label:"审批中",name:"40"},{label:"审批退回",name:"41"},{label:"测试中",name:"48"},{label:"测试不通过",name:"49"},{label:"待执行",name:"50"},{label:"执行中",name:"54"},{label:"暂停",name:"59"},{label:"完成",name:"90"},{label:"终止",name:"91"}],businessName:"40",businessData:[{title:"归属统计",allName:"归属总数",allValue:0,numberArr:[]},{title:"营销类型",allName:"营销类型总数",allValue:0,numberArr:[]},{title:"客户群统计",allName:"客户群总数",allValue:0,numberArr:[]},{title:"渠道统计",allName:"渠道总数",allValue:0,numberArr:[]}],recommendList:[],myTableData:[],swiperOption:{slidesPerView:5,spaceBetween:14,pagination:{el:".swiper-pagination",type:"fraction",click:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},created(){this.initMyTableData(),this.queryIopTemplate()},mounted(){},methods:{initMyTableData(){this.queryPlanCount(),this.querySaleSituation(),this.tacticsOverallAll(this.businessName),this.queryTacticsByUserId()},queryTacticsByUserId(){Object(_["i"])(w["a"].home.queryTacticsByUserId,{}).then(t=>{this.myTableData=t})},queryIopTemplate(){Object(_["i"])(w["a"].home.excellentRecomCamp,{current:1,size:100}).then(t=>{this.recommendList=t.records,this.recommendList=t.records.map(t=>(t.campUserNum=(Number(t.campUserNum)||0).toLocaleString(),t.campSuccNum=(Number(t.campSuccNum)||0).toLocaleString(),t))})},goDetails(t,e){this.$router.push({name:"ContentDetails",params:{tab:t,type:e}})},gotoMarketingMP(t,e){this.$router.push({name:"MarketingMP",params:{tab:t,query:e}})},queryPlanCount(){Object(_["i"])(w["a"].home.queryPlanCount,{}).then(t=>{for(let e in t)t[e]&&0!=t[e]&&(t[e]=Number(t[e]).toLocaleString());this.planCount=t})},querySaleSituation(){Object(_["i"])(w["a"].home.querySaleSituation,{}).then(t=>{for(let e in t)t[e]&&0!=t[e]&&(t[e]=Number(t[e]).toLocaleString());this.flipCount=t})},async tacticsOverallAll(t){let e={campsegStatId:t},a=this;await Object(_["g"])(w["a"].home.tacticsOverallAll,e).then(t=>{a.businessData.forEach((e,s)=>{if(0===s){let e=0;a.$set(a.businessData[s],"allValue",0),a.$set(a.businessData[s],"numberArr",[]),t.ascription.forEach(t=>{this.businessData[s].numberArr.push({name:t.cityName,value:t.tacticCount}),e+=parseInt(t.tacticCount)}),a.$set(a.businessData[s],"allValue",e)}else if(1===s){let e=0;a.$set(a.businessData[s],"allValue",0),a.$set(a.businessData[s],"numberArr",[]),t.products.forEach(t=>{this.businessData[s].numberArr.push({name:t.productName,value:t.productCount}),e+=parseInt(t.productCount)}),a.$set(a.businessData[s],"allValue",e)}else if(2===s){let e=0;a.$set(a.businessData[s],"allValue",0),a.$set(a.businessData[s],"numberArr",[]),t.customerGroups.forEach(t=>{this.businessData[s].numberArr.push({name:t.customerGroupName,value:t.customerGroupCount}),e+=parseInt(t.customerGroupCount)}),a.$set(a.businessData[s],"allValue",e)}else if(3===s){let e=0;a.$set(a.businessData[s],"allValue",0),a.$set(a.businessData[s],"numberArr",[]),t.channels.forEach(t=>{this.businessData[s].numberArr.push({name:t.channelName,value:t.channelCount}),e+=parseInt(t.channelCount)}),a.$set(a.businessData[s],"allValue",e)}})})},businessClick(t,e){this.tacticsOverallAll(t.name)},createCustems(){this.$router.push("/ClusterSubdivision/CustomerMarket")},createMarketActive(){this.$router.push("/MarketingPlanning/MpHome")},manageMarketActive(){this.$router.push("/MarketingPlanning/MarketingMP")},approveActive(){this.$router.push("/MarketingPlanning/ApprovalMp")},evaluateEffect(){this.$router.push("/EffectAppraisal/Active")},goMymethod(){this.$router.push("/MarketingPlanning/MarketingMP")},goActiveDetails(t){this.$router.push({path:"/MarketingPlanning/MarketingDetails",query:{campsegRootId:t,backName:this.$router.currentRoute.name}})}}},k=D,N=(a("8726"),Object(m["a"])(k,s,i,!1,null,null,null));e["default"]=N.exports},ace3:function(t,e,a){"use strict";a("097a")},cd2a:function(t,e,a){},e0fc:function(t,e,a){t.exports=a.p+"img/bg_home.8ef184ca.png"},f3ba:function(t,e,a){"use strict";const s="/plan-svc/api/home/";e["a"]={home:{queryPlanCount:s+"queryPlanCount",querySaleSituation:s+"jx/querySaleSituation",tacticsOverallAll:"/plan-svc/tacticOverview",queryTacticsByUserId:"/plan-svc/api/home/jx/queryTacticsByUserId",queryGoodAcitive:s+"",queryIopTemplate:"/plan-svc/action/iop/excellentTemplateManager/queryIopTemplate",excellentRecomCamp:"/plan-svc/api/home/jx/excellentRecomCamp"}}}}]);