(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d341c4ea"],{3845:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e._self._c;return a("div",{staticClass:"product-container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabsClick},model:{value:e.tabActive,callback:function(a){e.tabActive=a},expression:"tabActive"}},[a("el-tab-pane",{attrs:{label:"产品管理",name:"product"}},[a("product-tab",{attrs:{tabActive:e.tabActive}})],1)],1)],1)},i=[],r=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"search_box"},[a("el-input",{directives:[{name:"clear-emoij",rawName:"v-clear-emoij"}],staticClass:"input-search",attrs:{placeholder:"请输入产品编号或名称"},model:{value:e.queryFrom.keyWords,callback:function(a){e.$set(e.queryFrom,"keyWords","string"===typeof a?a.trim():a)},expression:"queryFrom.keyWords"}},[a("i",{staticClass:"el-input__icon el-icon-search cursor-pointer",attrs:{slot:"suffix"},on:{click:e.KeyWordsChange},slot:"suffix"})])],1),a("div",{staticClass:"padding-Tab"},[a("query-form-cell",{attrs:{list:e.LabelData,defaultSizeForm:e.sizeForm},on:{queryForm:e.QuerySelect}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"productCode",label:"产品编号"}}),a("el-table-column",{attrs:{label:"产品名称","min-width":"100","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",href:"#/salesElements/ContentDetails?productCode="+t.row.productCode}},[e._v(e._s(t.row.productName))])]}}])}),a("el-table-column",{attrs:{prop:"productType",label:"产品类别"}}),a("el-table-column",{attrs:{prop:"releaseTime",label:"发布时间",width:"150"}}),a("el-table-column",{attrs:{prop:"releaseStatus",label:"发布状态",width:"100"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!=t.row.status?a("span",[e._v("上线")]):a("span",[e._v("下线")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=t.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.saveStatus(t.row,"1")}}},[e._v("上线 ")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.saveStatus(t.row,"0")}}},[e._v("下线")])]}}])})],1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageData.pageSizeList,"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},s=[],n=(t("14d9"),t("0fea")),o=t("d39c"),d=t("4e3f"),c={components:{QueryFormCell:d["a"]},props:["tabActive"],data(){return{LabelData:[{label:"状态",values:[{label:"不限",value:""}],isDate:!1},{label:"发布时间",values:[{label:"不限",value:""}],isDate:!1}],sizeForm:{radioModel:["",""]},tableData:[],queryFrom:{status:null,releaseTime:null,keyWords:null},pageData:{currentPage:1,pageSize:10,pageSizeList:[10,20,30,40],total:0},loading:!0}},watch:{tabActive(){"content"===this.tabActive&&this.queryDigitalProductContents()}},created(){this.queryDatas()},methods:{async queryDigitalProductContents(){this.loading=!0,await Object(n["i"])(o["a"].seapi.queryDigitalProductContents,{...this.queryFrom,current:this.pageData.currentPage,size:this.pageData.pageSize}).then(e=>{this.tableData=e.records,this.pageData.total=e.total,this.loading=!1})},queryDatas(){Object(n["i"])(o["a"].seapi.querylistEnumValue,{enumType:"mcd_status"}).then(e=>{e.map(e=>{this.LabelData[0].values.push({label:e.enumValue,value:e.enumKey})})}),Object(n["i"])(o["a"].seapi.querylistEnumValue,{enumType:"mcd_publish_time"}).then(e=>{e.map(e=>{this.LabelData[1].values.push({label:e.enumValue,value:e.enumKey})})})},async saveStatus(e,a){await Object(n["i"])(o["a"].seapi.updateDigitalProuctStatus,{productCode:e.productCode,status:a}).then(e=>{this.$message.success(e.message),this.queryDigitalProductContents()})},QuerySelect(e){this.pageData.currentPage=1,this.queryFrom.status=e.form.radioModel[0],this.queryFrom.releaseTime=e.form.radioModel[1],this.queryDigitalProductContents()},KeyWordsChange(){this.pageData.currentPage=1,this.queryDigitalProductContents()},initializationFrom(){this.queryFrom.keyWords=null},tableRowClassName(e){const a=e.rowIndex%2;return 0===a?"gray-row":""},handleSizeChange(e){this.pageData.pageSize=e,this.queryDigitalProductContents()},handleCurrentChange(e){this.pageData.currentPage=e,this.queryDigitalProductContents()}}},u=c,m=(t("bf53"),t("2877")),p=Object(m["a"])(u,r,s,!1,null,"543ebabc",null),h=p.exports,y=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"search_box"},[a("el-input",{directives:[{name:"clear-emoij",rawName:"v-clear-emoij"}],staticClass:"input-search",attrs:{placeholder:"请输入产品编号或名称"},model:{value:e.queryFrom.keyWords,callback:function(a){e.$set(e.queryFrom,"keyWords","string"===typeof a?a.trim():a)},expression:"queryFrom.keyWords"}},[a("i",{staticClass:"el-input__icon el-icon-search cursor-pointer",attrs:{slot:"suffix"},on:{click:e.KeyWordsChange},slot:"suffix"})])],1),a("div",{staticClass:"padding-Tab"},[a("query-form-cell",{attrs:{list:e.LabelData,defaultSizeForm:e.sizeForm,labelWidth:e.labelWidth},on:{queryForm:e.QuerySelect}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"planId",label:"产品编号"}}),a("el-table-column",{attrs:{label:"产品名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",href:"#/ProductPolicy/ProDetail?planId="+t.row.planId}},[e._v(" "+e._s(t.row.planName))])]}}])}),a("el-table-column",{attrs:{label:"商品类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(a.row.offerType))]}}])}),a("el-table-column",{attrs:{label:"产商品类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(a.row.itemType))]}}])}),a("el-table-column",{attrs:{label:"产品业务分类"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(a.row.prodClassBusi))]}}])}),a("el-table-column",{attrs:{prop:"planStartDate",label:"生效时间",width:"150"}}),a("el-table-column",{attrs:{prop:"planEndDate",label:"失效时间",width:"150"}}),a("el-table-column",{attrs:{prop:"planDesc",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(a.row.planDesc?a.row.planDesc:"暂无"))]}}])}),a("el-table-column",{attrs:{prop:"status",label:"产品经理"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(a.row.adminUserId))]}}])})],1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageData.pageSizeList,"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},b=[],g={components:{QueryFormCell:d["a"]},props:["tabActive"],data(){return{LabelData:[{label:"产品业务分类",values:[{label:"不限",value:""}],isDate:!1},{label:"产商品类型",values:[{label:"不限",value:""}],isDate:!1},{label:"商品类型",values:[{label:"不限",value:""}],isDate:!1}],sizeForm:{radioModel:["","",""]},tableData:[],queryFrom:{keyWords:"",prodClassBusi:"",itemType:"",offerType:""},pageData:{currentPage:1,pageSize:10,pageSizeList:[10,20,30,40],total:0},loading:!0,labelWidth:"110px"}},filters:{typeJson(e){return"1"===e?"流量":"2"===e?"新增":"3"===e?"终端":"4"===e?"两网":"5"===e?"宽带":"6"===e?"存量":"7"===e?"政企":"9"===e?"其他":"10"===e?"手机应用":"999"===e?"虚拟类政策":"暂无"},srvTypeJson(e){return"1"===e?"单产品":"2"===e?"政策":"3"===e?"规则":"4"===e?"内容":"暂无"},statusJson(e){return"0"===e?"未上线":"上线"}},watch:{tabActive(){"product"===this.tabActive&&this.queryTableList()}},created(){this.queryTableList(),this.queryPlanTypes()},methods:{async queryTableList(){this.loading=!0,await Object(n["i"])(o["a"].seapi.queryTableList,{...this.queryFrom,current:this.pageData.currentPage,size:this.pageData.pageSize}).then(e=>{this.tableData=e.records,this.pageData.total=e.total,this.loading=!1})},queryPlanTypes(){Object(n["g"])(o["a"].seapi.querylistEnumValue,{labelKey:"PROD_CLASS_BUSI"}).then(e=>{e.map(e=>{this.LabelData[0].values.push({label:e.labelValue,value:e.labelValue})})}),Object(n["g"])(o["a"].seapi.querylistEnumValue,{labelKey:"OFFER_TYPE"}).then(e=>{e.map(e=>{this.LabelData[2].values.push({label:e.labelValue,value:e.labelValue})})}),Object(n["g"])(o["a"].seapi.querylistEnumValue,{labelKey:"ITEM_TYPE"}).then(e=>{e.map(e=>{this.LabelData[1].values.push({label:e.labelValue,value:e.labelValue})})})},async saveStatus(e,a){await Object(n["i"])(o["a"].seapi.saveStatus,{planId:e.planId,statusId:a}).then(()=>{this.$message.success("操作成功"),this.queryTableList()})},QuerySelect(e){this.initializationFrom(),this.queryFrom.prodClassBusi=e.form.radioModel[0],this.queryFrom.offerType=e.form.radioModel[2],this.queryFrom.itemType=e.form.radioModel[1],this.queryTableList()},KeyWordsChange(){this.initializationFrom(),this.queryTableList()},initializationFrom(){this.pageData.currentPage=1},tableRowClassName(e){const a=e.rowIndex%2;return 0===a?"gray-row":""},handleSizeChange(e){this.pageData.pageSize=e,this.queryTableList()},handleCurrentChange(e){this.pageData.currentPage=e,this.queryTableList()}}},v=g,D=(t("3d4e"),Object(m["a"])(v,y,b,!1,null,"6ace0aa0",null)),f=D.exports,C={data(){return{tabActive:"product"}},components:{ContentTab:h,ProductTab:f},methods:{tabsClick(e){this.tabActive=e.name,e.name}}},M=C,q=Object(m["a"])(M,l,i,!1,null,"2f965c9b",null);a["default"]=q.exports},"3d4e":function(e,a,t){"use strict";t("bd4b")},"4e3f":function(e,a,t){"use strict";var l=function(){var e=this,a=e._self._c;return a("div",{staticClass:"query-form-cell-wrap"},[a("el-form",{ref:"form",attrs:{model:e.sizeForm,"label-width":e.labelWidth,"label-position":e.labelPosition,size:"mini"}},e._l(e.list,(function(t,l){return a("el-form-item",{key:l+"list",class:{disabled:t.disabled},attrs:{"label-width":t.labelWidth||e.labelWidth,label:t.label+"："}},[Array.isArray(t.values)?a("div",{staticClass:"fe-d-flex"},[a("div",{staticClass:"radio-box"},[t.dateType?e._e():a("el-radio-group",{attrs:{size:"mini",disabled:t.disabled},on:{change:function(a){return e.radioChange(e.sizeForm.radioModel[l],l)}},model:{value:e.sizeForm.radioModel[l],callback:function(a){e.$set(e.sizeForm.radioModel,l,a)},expression:"sizeForm.radioModel[index]"}},e._l(t.values,(function(t,l){return a("el-radio-button",{key:l+"listValues",attrs:{label:t.value}},[e._v(e._s(t.label)+" ")])})),1)],1),a("div",{staticClass:"date-box"},["date"===t.dateType?a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",clearable:!1},on:{change:e.dateChange},model:{value:e.sizeForm.dateModel[l],callback:function(a){e.$set(e.sizeForm.dateModel,l,a)},expression:"sizeForm.dateModel[index]"}}):e._e(),"month"===t.dateType?a("el-date-picker",{attrs:{type:"month",placeholder:"选择月","value-format":"yyyy-MM",clearable:!1},on:{change:e.dateChange},model:{value:e.sizeForm.dateModel[l],callback:function(a){e.$set(e.sizeForm.dateModel,l,a)},expression:"sizeForm.dateModel[index]"}}):e._e(),"daterange"===t.dateType?a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!0},on:{change:e.dateChange},model:{value:e.sizeForm.dateModel[l],callback:function(a){e.$set(e.sizeForm.dateModel,l,a)},expression:"sizeForm.dateModel[index]"}}):e._e(),"datetimerange"===t.dateType?a("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1},on:{change:e.dateChange},model:{value:e.sizeForm.dateModel[l],callback:function(a){e.$set(e.sizeForm.dateModel,l,a)},expression:"sizeForm.dateModel[index]"}}):e._e()],1)]):a("div",{staticClass:"input-box"},[a("el-input",{directives:[{name:"clear-emoij",rawName:"v-clear-emoij"}],attrs:{placeholder:"请输入内容"},on:{change:e.inputChange},model:{value:e.sizeForm.radioModel[l],callback:function(a){e.$set(e.sizeForm.radioModel,l,a)},expression:"sizeForm.radioModel[index]"}})],1)])})),1)],1)},i=[],r={name:"QueryFormCell",props:{labelWidth:{type:String,default:()=>"82px"},labelPosition:{type:String,default:()=>"right"},defaultSizeForm:{type:Object,default:()=>({})},list:{type:Array,default:()=>[{label:"数据时间",values:[{label:"不限",value:"1"}],isDate:!0,dateType:"date"},{label:"接口类型",values:[{label:"不限",value:"不限"},{label:"文件接口",value:"文件接口"}],isDate:!1}]}},data(){return{sizeForm:{dateModel:["2021-05-08","",""],radioModel:["自定义","不限","不限","不限"]}}},watch:{defaultSizeForm:{handler:function(e){this.sizeForm=e},deep:!0,immediate:!0}},methods:{radioChange(e,a){this.sizeForm.dateModel&&this.$set(this.sizeForm.dateModel,a,"date"===this.list[a].dateType?"":["",""]),this.$emit("queryForm",{index:a,value:e,form:this.sizeForm})},dateChange(e){e?(this.$set(this.sizeForm.dateModel,0,e),this.$emit("queryForm",{value:e,form:this.sizeForm})):this.$emit("emptyFrom",this.sizeForm)},inputChange(e){e&&this.$emit("queryForm",{value:e,form:this.sizeForm})}}},s=r,n=(t("a28d"),t("2877")),o=Object(n["a"])(s,l,i,!1,null,null,null);a["a"]=o.exports},"9a4e":function(e,a,t){},a28d:function(e,a,t){"use strict";t("cddb")},bd4b:function(e,a,t){},bf53:function(e,a,t){"use strict";t("9a4e")},cddb:function(e,a,t){},d39c:function(e,a,t){"use strict";const l="/element-svc/api",i="/preview-svc",r="/mcd-web/action";a["a"]={seapi:{querylistEnumValue:"/element-svc/mcd-plan-label/queryLabelByKey",loadImage:l+"/mcdDimMaterial/loadImage",queryTableList:"/element-svc/api/jx/mcdPlanDef/queryPlanDefPageList",saveStatus:l+"/mcdPlanDef/updatePlanDefStatus",queryDetail:"/element-svc/api/jx/mcdPlanDef/getPlanDetailById",mcdChannelList:l+"/mcdDimMaterial/queryChannel",mcdContList:l+"/mcdDimMaterial/queryContact",mcdPositList:l+"/mcdDimMaterial/queryPosition",getChannels:l+"/mcdDimChannel/pagelistDimChannel",queryContactByChannelId:l+"/iop/operatingPositionManager/queryContactByChannelId.do",queryPosition:l+"/iop/template/queryPosition",getOnlineChannels:l+"/mcdDimChannel/listDimChannel  ",getOnlineChannelsByUser:l+"/mcdDimChannel/jx/listDimChannel",getSysDics:"/plan-svc/action/iop/common/getSysDics",queryDigitalProductContents:l+"/iopDigitalProduct/queryDigitalProductPageList",queryConentDetailById:l+"/iopDigitalProduct/getDigitalProduct",updateDigitalProuctStatus:l+"/iopDigitalProduct/updateDigitalProductStatus",queryMaterialInfo:l+"/mcdDimMaterial/queryMaterialPageList",deleteMaterById:l+"/mcdDimMaterial/deleteMaterial",queryMaterialById:l+"/mcdDimMaterial/getMaterial",saveOrUpdateMaterial:l+"/mcdDimMaterial/saveOrUpdateMaterial",uploadMaterImg:l+"/mcdDimMaterial/uploadMaterialPicture",uploadMaterVideo:l+"/mcdDimMaterial/uploadMaterialVideo",uploadMaterFile:l+"/mcdDimMaterial/uploadMaterialsFile",queryIopContactList:l+"/jx/mcdDimContact/pagelistMcdDimContact",queryContactDetailById:l+"/jx/mcdDimContact/getDimContactDetail",listAllChannelName:l+"/mcdDimChannel/listAllChannelNameAndId",deleteContactById:l+"/mcdDimContact/removeContact",saveOrUpdateContact:l+"/jx/mcdDimContact/saveOrUpdateContact",validateContactName:l+"/mcdDimContact/getValidateContactName",displayChannelList:"/element-svc/api/mcdDimChannel/jx/pagelistDimChannel",validateChannelName:l+"/mcdDimChannel/getValidateChannelName",saveOrUpdateChannel:"/element-svc/api/mcdDimChannel/jx/saveOrUpdateDimChannel",deleteChannelById:l+"/mcdDimChannel/removeDimChannel",channelDetail:l+"/mcdDimChannel/getDimChannel",customerLike:"/preview-svc/jx/chnPre/queryPreData",channelDetail:"/element-svc/mcd-dim-channel-desc/query",uploaChanPromptFile:"/element-svc/api/mcdDimChannel/jx/uploaChanPromptFile",downloadChanPromptFile:"/plan-svc/mcd/chan/prompt/downloadChanPromptFile",queryDimChannelInfo:"/element-svc/api/mcdDimChannel/jx/queryDimChannelInfo",queryChannelEValData:"/groupmarket/enterprise/queryChannelEValData",queryIopOperatingPosition:l+"/mcdDimAdivInfo/pagelistAdivInfo",deleteOperatingPositionById:l+"/mcdDimAdivInfo/removeAdivInfo",queryOperPositionDetail:l+"/mcdDimAdivInfo/getAdivInfo",queryOpelistData:l+"/mcdDimAdivInfo/listChannelInfoAndContactInfo",queryCampsegInfoWithThisPosId:l+"/mcdDimAdivInfo/listpageCampsegInfoWithThisAdivId",getConfigList:l+"/mcdDimAttrConf/queryConfigList",validateOperationName:l+"/mcdDimAdivInfo/getValidateAdivInfoName",getValidateAdivInfoId:l+"/jx/mcdDimAdivInfo/getValidateAdivInfoId",saveOrUpdateOperPosition:l+"/mcdDimAdivInfo/saveOrUpdateAdivInfo",getChannelScheduleList:r+"/channelview/getChannelScheduleList",querySensitiveCust:i+"/mcd-channel-sensitive-cust-conf/querySensitiveCust",saveSensitiveCust:i+"/mcd-channel-sensitive-cust-conf/saveSensitiveCust",deleteSensitiveCust:i+"/mcd-channel-sensitive-cust-conf/deleteSensitiveCust",batchDeleteSensitiveCust:i+"/mcd-channel-sensitive-cust-conf/batchDeleteSensitiveCust",pagelistApproveMaterial:l+"/mcdDimMaterialApprove/pagelistApproveMaterial",approveRecord:l+"/mcdDimMaterialApprove/approveRecord",pagelistMyMaterial:l+"/mcdDimMaterialTemplate/pagelistMyMaterial",pagelistExcellentMaterial:l+"/mcdDimMaterialTemplate/pagelistExcellentMaterial",pagelistHotSpotMaterial:l+"/mcdDimMaterialTemplate/pagelistHotSpotMaterial",updateMaterialStatus:l+"/mcdDimMaterial/updateMaterialStatus",getMaterialApprover:l+"/mcdDimMaterialApprove/getMaterialApprover",getCmpApprovalProcess:l+"/mcdDimMaterialApprove/getCmpApprovalProcess",subMaterialApprove:l+"/mcdDimMaterialApprove/subMaterialApprove",addExcellentMaterialLibrary:l+"/mcdDimMaterialTemplate/addExcellentMaterialLibrary",removeExcellentMaterialLibrary:l+"/mcdDimMaterialTemplate/removeExcellentMaterialLibrary",createExcellentMaterial:l+"/mcdDimMaterialTemplate/createExcellentMaterial",createHotSpotMaterial:l+"/mcdDimMaterialTemplate/createHotSpotMaterial",removeMyMaterial:l+"/mcdDimMaterialTemplate/removeMyMaterial",getIntell:l+"/mcdDimMaterial/getIntelligentMatchingMaterialList"}}}}]);