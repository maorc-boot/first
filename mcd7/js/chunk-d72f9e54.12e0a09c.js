(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d72f9e54"],{"09bb":function(t,e,a){"use strict";a("afb5")},"24dd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info-detail"},[e("van-sticky",[e("van-nav-bar",{attrs:{title:"话术详情","left-text":"返回","left-arrow":"","right-arrow":"",border:"","safe-area-inset-top":""},on:{"click-left":t.back,"click-right":t.edit},scopedSlots:t._u([{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"edit",size:"20"},nativeOn:{click:function(e){return t.edit.apply(null,arguments)}}})]},proxy:!0}])})],1),e("van-skeleton",{attrs:{round:"",row:15,loading:t.loading}},[e("main",[e("div",{staticClass:"s-title"},[t._v("基本信息")]),t._l(t.propList,(function(a){return e("van-row",{key:a.prop},[e("van-col",{attrs:{span:"6"}},[t._v(t._s(a.label+"："))]),e("van-col",{attrs:{span:"18"}},[t._v(t._s(t.form[a.prop]||"-"))])],1)})),e("van-row",[e("div",{staticClass:"s-title"},[t._v("话术内容")]),e("van-col",{attrs:{span:"24"}},[e("div",{staticClass:"s-content"},t._l(t.form.marketingWords,(function(a,i){var n;return e("div",{key:i},[t.form.marketingWords.length>1?e("div",{staticClass:"sub van-hairline--bottom"},[e("span",{staticClass:"sub-title"},[t._v(t._s(a.typeName)+"：")])]):t._e(),a.list&&a.list.length?t._l(a.list,(function(a){return e("div",{key:a.name},[e("header",[t._v("【"+t._s(a.name)+"】")]),e("div",{domProps:{innerHTML:t._s(a.content)}})])})):t._e(),a.uploadType||null!==(n=a.list)&&void 0!==n&&n.length?t._e():e("span",[t._v(t._s(a.content))]),"1"==a.uploadType?[e("van-image",{attrs:{src:t.imgSrc},nativeOn:{click:function(e){t.showImg=!0}}}),e("div",{staticClass:"link"},[e("span",{staticStyle:{color:"#666"}},[t._v("跳转链接：")]),e("span",[t._v(t._s(a.linkUrl))])])]:t._e()],2)})),0)])],1)],2)]),e("van-image-preview",{attrs:{showIndex:!1,images:[t.imgSrc]},model:{value:t.showImg,callback:function(e){t.showImg=e},expression:"showImg"}})],1)},n=[],r=(a("14d9"),a("5a4a")),s=a("ac7c"),o=a("5af3"),l=a("0fea"),c=a("cdbb"),p={data(){return{loading:!1,form:{},propList:[{label:"话术编码",prop:"scriptId"},{label:"话术名称",prop:"scriptName"},{label:"产品编码",prop:"planId"},{label:"产品名称",prop:"planName"},{label:"话术类型",prop:"scriptTypeName"},{label:"应用渠道",prop:"channelName"},{label:"运营位",prop:"adivName"},{label:"应用地市",prop:"cityName"},{label:"内容类型",prop:"contentTypeName"}],imgSrc:"",showImg:!1}},watch:{$route(t){"ScriptInfoDetail"===t.name&&(this.imgSrc="",this.getScriptInfo())}},methods:{back(){this.$router.go(-1)},edit(){this.$router.push({name:"ScriptInfoEdit",query:{id:this.$route.query.id}})},async getScriptInfo(){try{this.loading=!0;const t=await Object(l["l"])(c["a"].getScriptPreview+"?scriptId="+this.$route.query.id);this.form=this.assemblyForm(t)}catch(t){this.form={}}finally{this.loading=!1}},assemblyForm(t){var e,a;const i=Object(r["c"])(t);if(i.contentTypeName=null===(e=s["a"].find(t=>t.value==i.contentType))||void 0===e?void 0:e.label,i.scriptTypeName=null===(a=s["j"].find(t=>t.value==i.scriptType))||void 0===a?void 0:a.label,"8"===i.contentType||"9"===i.contentType){const{uploadFileUrl:t}=i.marketingWords[0];Object(o["d"])(t).then(t=>{this.imgSrc=t})}return i}},created(){this.getScriptInfo()}},d=p,u=(a("09bb"),a("2877")),v=Object(u["a"])(d,i,n,!1,null,"4d66bd82",null);e["default"]=v.exports},afb5:function(t,e,a){}}]);